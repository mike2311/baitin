{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"modernization-strategy/","title":"BAITIN System Modernization Strategy","text":""},{"location":"modernization-strategy/#overview","title":"Overview","text":"<p>This folder contains the complete modernization plan for migrating the BAITIN Trading Management System from Visual FoxPro 9.0 (desktop application with DBF file-based database) to a modern web-based application with a relational database.</p>"},{"location":"modernization-strategy/#document-structure","title":"Document Structure","text":""},{"location":"modernization-strategy/#01-executive-summary","title":"01-executive-summary","text":"<ul> <li>High-level overview, objectives, and business case</li> <li>Timeline and investment overview</li> <li>Expected benefits and success metrics</li> </ul>"},{"location":"modernization-strategy/#02-current-state-assessment","title":"02-current-state-assessment","text":"<ul> <li>Complete system inventory</li> <li>Technology stack analysis</li> <li>Business process documentation</li> <li>Pain points and limitations</li> <li>Risk assessment</li> </ul>"},{"location":"modernization-strategy/#03-target-state-architecture","title":"03-target-state-architecture","text":"<ul> <li>Overall architecture design</li> <li>Technology stack selection</li> <li>Application architecture</li> <li>Data architecture</li> <li>Security architecture</li> <li>Infrastructure architecture</li> </ul>"},{"location":"modernization-strategy/#04-data-migration-strategy","title":"04-data-migration-strategy","text":"<ul> <li>Migration approach and methodology</li> <li>Data mapping (DBF \u2192 SQL)</li> <li>Memo field conversion strategy</li> <li>Data quality and validation</li> <li>Migration tools and scripts</li> <li>Reconciliation and verification</li> <li>Cutover strategy</li> </ul>"},{"location":"modernization-strategy/#05-application-modernization","title":"05-application-modernization","text":"<ul> <li>Module-by-module modernization plan</li> <li>Forms/screens to rebuild</li> <li>Business logic migration</li> <li>Feature parity analysis</li> <li>Enhancement opportunities</li> </ul>"},{"location":"modernization-strategy/#06-ux-ui-strategy","title":"06-ux-ui-strategy","text":"<ul> <li>UX principles and design system</li> <li>Keyboard-first interaction patterns</li> <li>Screen-by-screen UX specifications</li> <li>Performance targets</li> <li>Accessibility requirements</li> </ul>"},{"location":"modernization-strategy/#07-security-compliance","title":"07-security-compliance","text":"<ul> <li>Authentication and authorization</li> <li>Data security</li> <li>Audit logging</li> <li>Compliance requirements</li> <li>Security testing strategy</li> </ul>"},{"location":"modernization-strategy/#08-integration-strategy","title":"08-integration-strategy","text":"<ul> <li>Excel import/export modernization</li> <li>PDF generation</li> <li>API design</li> <li>External system integration</li> <li>File handling</li> </ul>"},{"location":"modernization-strategy/#09-reporting-analytics","title":"09-reporting-analytics","text":"<ul> <li>Report inventory and migration</li> <li>Reporting strategy</li> <li>Analytics and dashboards</li> <li>Report prioritization</li> </ul>"},{"location":"modernization-strategy/#10-deployment-operations","title":"10-deployment-operations","text":"<ul> <li>Environment strategy</li> <li>CI/CD pipeline</li> <li>Monitoring and alerting</li> <li>Backup and disaster recovery</li> <li>Support and maintenance</li> </ul>"},{"location":"modernization-strategy/#11-phased-delivery-plan","title":"11-phased-delivery-plan","text":"<ul> <li>Phase 0: Foundation</li> <li>Phase 1: PoC</li> <li>Phase 2: MVP</li> <li>Phase 3: Full Feature Set</li> <li>Phase 4: Migration and Cutover</li> <li>Phase 5: Optimization</li> </ul>"},{"location":"modernization-strategy/#12-risk-management","title":"12-risk-management","text":"<ul> <li>Technical risks</li> <li>Business risks</li> <li>Timeline risks</li> <li>Mitigation strategies</li> </ul>"},{"location":"modernization-strategy/#13-success-metrics","title":"13-success-metrics","text":"<ul> <li>Performance metrics</li> <li>User adoption metrics</li> <li>Data quality metrics</li> <li>Business metrics</li> </ul>"},{"location":"modernization-strategy/#14-resource-timeline","title":"14-resource-timeline","text":"<ul> <li>Team structure</li> <li>Timeline with milestones</li> <li>Budget estimates</li> <li>Resource requirements</li> </ul>"},{"location":"modernization-strategy/#15-poc-strategy","title":"15-poc-strategy","text":"<ul> <li>PoC objectives and scope</li> <li>Success criteria</li> <li>How PoC feeds into MVP</li> <li>PoC execution plan</li> </ul>"},{"location":"modernization-strategy/#how-to-use-this-plan","title":"How to Use This Plan","text":"<ol> <li>Start with Executive Summary - Get high-level understanding</li> <li>Review Current State Assessment - Understand what we're working with</li> <li>Study Target State Architecture - Understand where we're going</li> <li>Deep dive into specific areas - Based on your role and priorities</li> <li>Reference Phased Delivery Plan - Understand the roadmap</li> <li>Use PoC Strategy - Plan initial proof of concept</li> </ol>"},{"location":"modernization-strategy/#document-status","title":"Document Status","text":"<ul> <li>\u2705 Structure defined</li> <li>\u2705 Core documents created</li> <li>\u2705 Executive Summary complete</li> <li>\u2705 Current State Assessment complete</li> <li>\u2705 Target Architecture complete</li> <li>\u2705 Data Migration Strategy complete</li> <li>\u2705 Application Modernization complete</li> <li>\u2705 UX/UI Strategy complete</li> <li>\u2705 Phased Delivery Plan complete</li> <li>\u2705 PoC Strategy complete</li> <li>\u2705 Supporting documents created</li> <li>\ud83d\udd04 Review and refinement ongoing</li> </ul>"},{"location":"modernization-strategy/#document-completion-status","title":"Document Completion Status","text":""},{"location":"modernization-strategy/#fully-developed-documents","title":"Fully Developed Documents","text":"<ol> <li>Executive Summary - Complete with objectives, timeline, benefits</li> <li>Current State Assessment - Comprehensive system inventory and analysis</li> <li>Target State Architecture - Detailed architecture design</li> <li>Data Migration Strategy - Complete migration approach for 186 tables</li> <li>Application Modernization - Module-by-module modernization plan</li> <li>UX/UI Strategy - Keyboard-first UX design with detailed specifications</li> <li>Phased Delivery Plan - 5-phase delivery plan with timelines</li> <li>PoC Strategy - Detailed PoC scope and execution plan</li> </ol>"},{"location":"modernization-strategy/#supporting-documents-placeholders-can-be-expanded","title":"Supporting Documents (Placeholders - Can be expanded)","text":"<ol> <li>Security and Compliance - Security strategy outline</li> <li>Integration Strategy - Integration approach outline</li> <li>Reporting and Analytics - Reporting strategy outline</li> <li>Deployment and Operations - Operations strategy outline</li> <li>Risk Management - Risk identification and mitigation</li> <li>Success Metrics - Metrics definition</li> <li>Resource and Timeline - Resource requirements</li> </ol>"},{"location":"modernization-strategy/#key-highlights","title":"Key Highlights","text":""},{"location":"modernization-strategy/#architecture","title":"Architecture","text":"<ul> <li>Frontend: React + TypeScript with keyboard-first UX</li> <li>Backend: .NET or Node.js with PostgreSQL</li> <li>Authentication: OIDC/SAML with RBAC</li> <li>Deployment: Cloud-ready, scalable infrastructure</li> </ul>"},{"location":"modernization-strategy/#migration-approach","title":"Migration Approach","text":"<ul> <li>Phased Delivery: 5 phases over 15 months</li> <li>PoC First: Validate architecture and UX early</li> <li>Data Migration: Comprehensive strategy for 186 tables</li> <li>Feature Parity: 100% feature parity maintained</li> </ul>"},{"location":"modernization-strategy/#ux-focus","title":"UX Focus","text":"<ul> <li>Keyboard-First: Windows-like fast input experience</li> <li>Excel-Like Grids: AG Grid for data entry</li> <li>Auto-Advance: Automatic field progression</li> <li>Performance: &lt; 500ms API, &lt; 2s page load</li> </ul>"},{"location":"modernization-strategy/#next-steps","title":"Next Steps","text":"<ol> <li>Review Documents: Stakeholder review of all documents</li> <li>Approve Strategy: Get approval on modernization approach</li> <li>Assemble Team: Recruit and onboard development team</li> <li>Begin Phase 0: Start foundation work</li> <li>Plan PoC: Detailed PoC planning and execution</li> </ol>"},{"location":"modernization-strategy/#last-updated","title":"Last Updated","text":"<p>December 14, 2025</p>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/","title":"Executive Summary","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#modernization-overview","title":"Modernization Overview","text":"<p>The BAITIN Trading Management System is a comprehensive desktop application built on Visual FoxPro 9.0, managing the complete lifecycle of international trading operations from customer inquiries through invoicing. This document outlines the strategy for modernizing this legacy system to a web-based platform while preserving business functionality and improving user experience.</p>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#current-state","title":"Current State","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#system-scale","title":"System Scale","text":"<ul> <li>Forms: 195+ screens (.scx files)</li> <li>Programs: 176+ business logic files (.prg)</li> <li>Database Tables: 186 DBF files</li> <li>Reports: 116+ FRX report files</li> <li>Menu Items: 100+ menu options</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#technology-foundation","title":"Technology Foundation","text":"<ul> <li>Platform: Visual FoxPro 9.0 (discontinued by Microsoft in 2007)</li> <li>Database: File-based DBF/CDX/FPT format</li> <li>Architecture: Desktop application, multi-user via file locking</li> <li>Deployment: Windows-only, network file shares</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#key-capabilities","title":"Key Capabilities","text":"<ol> <li>Order Processing: OE \u2192 OC \u2192 Contract \u2192 SO \u2192 DN \u2192 Invoice workflow</li> <li>Master Data Management: Items, Customers, Vendors, BOM</li> <li>Excel Integration: Multiple import/export formats</li> <li>Reporting: 116+ business reports</li> <li>Multi-Company Support: HT, BAT, INSP, HFW</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#modernization-objectives","title":"Modernization Objectives","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#primary-objectives","title":"Primary Objectives","text":"<ol> <li>Preserve Business Functionality: Maintain 100% feature parity with current system</li> <li>Improve User Experience: Deliver Windows-like fast input with keyboard-first navigation</li> <li>Modernize Technology Stack: Move to web-based, cloud-ready architecture</li> <li>Enhance Data Integrity: Implement proper database constraints and transactions</li> <li>Enable Scalability: Support growth without performance degradation</li> <li>Improve Maintainability: Modern codebase with proper documentation</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#secondary-objectives","title":"Secondary Objectives","text":"<ol> <li>Enhanced Security: Modern authentication, encryption, audit logging</li> <li>Better Reporting: Modern reporting tools with dashboards</li> <li>Mobile Access: Responsive design for mobile devices (future)</li> <li>API Integration: Enable integration with other systems</li> <li>Real-time Collaboration: Multi-user editing without file locking</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#high-level-approach","title":"High-Level Approach","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#architecture-transformation","title":"Architecture Transformation","text":"<ul> <li>From: Desktop application with file-based database</li> <li>To: Web application with relational database (PostgreSQL)</li> <li>Deployment: Cloud-ready, scalable infrastructure</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#technology-stack","title":"Technology Stack","text":"<ul> <li>Frontend: React + TypeScript (keyboard-first UX)</li> <li>Backend: .NET or Node.js (API-first architecture)</li> <li>Database: PostgreSQL (ACID compliance, referential integrity)</li> <li>Authentication: OIDC/SAML (enterprise SSO)</li> <li>Infrastructure: Containerized, scalable deployment</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#migration-strategy","title":"Migration Strategy","text":"<ul> <li>Approach: Phased migration with parallel run period</li> <li>Data Migration: Automated ETL pipeline with validation</li> <li>Cutover: Big-bang or phased by module (TBD based on risk assessment)</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#timeline-overview","title":"Timeline Overview","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#phase-0-foundation-weeks-1-4","title":"Phase 0: Foundation (Weeks 1-4)","text":"<ul> <li>Architecture design</li> <li>Infrastructure setup</li> <li>Core components development</li> <li>Development standards</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#phase-1-poc-weeks-5-12","title":"Phase 1: PoC (Weeks 5-12)","text":"<ul> <li>Selected modules (OE + Master Data)</li> <li>UX validation</li> <li>Architecture validation</li> <li>Stakeholder demonstration</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#phase-2-mvp-weeks-13-28","title":"Phase 2: MVP (Weeks 13-28)","text":"<ul> <li>Core workflow (OE \u2192 OC \u2192 Contract)</li> <li>Critical modules</li> <li>Data migration tools</li> <li>User acceptance testing</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#phase-3-full-feature-set-weeks-29-52","title":"Phase 3: Full Feature Set (Weeks 29-52)","text":"<ul> <li>All remaining modules</li> <li>All reports</li> <li>Complete feature parity</li> <li>Performance optimization</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#phase-4-migration-and-cutover-weeks-53-60","title":"Phase 4: Migration and Cutover (Weeks 53-60)","text":"<ul> <li>Data migration execution</li> <li>Parallel run period</li> <li>User training</li> <li>Production cutover</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#phase-5-optimization-ongoing","title":"Phase 5: Optimization (Ongoing)","text":"<ul> <li>Performance tuning</li> <li>User feedback implementation</li> <li>Enhancement features</li> </ul> <p>Total Timeline: ~15 months from start to production cutover</p>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#investment-overview","title":"Investment Overview","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#development-costs","title":"Development Costs","text":"<ul> <li>Team: 4-6 developers, 1-2 architects, 1-2 QA, 1 PM</li> <li>Duration: 15 months</li> <li>Estimated Effort: 60-80 person-months</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#infrastructure-costs","title":"Infrastructure Costs","text":"<ul> <li>Development/Test Environments: Cloud infrastructure</li> <li>Production Environment: Scalable cloud deployment</li> <li>Monitoring and Tools: DevOps tooling</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#training-and-change-management","title":"Training and Change Management","text":"<ul> <li>User Training: Comprehensive training program</li> <li>Documentation: User guides and technical documentation</li> <li>Support: Transition support period</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#total-estimated-investment","title":"Total Estimated Investment","text":"<ul> <li>Range: $X - $Y (to be determined based on team rates and infrastructure costs)</li> <li>ROI: Improved efficiency, reduced maintenance costs, scalability</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#expected-benefits","title":"Expected Benefits","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#business-benefits","title":"Business Benefits","text":"<ol> <li>Improved Efficiency: Faster data entry with modern UX</li> <li>Reduced Errors: Better validation and data integrity</li> <li>Scalability: Support business growth without system limitations</li> <li>Accessibility: Web-based access from anywhere</li> <li>Integration: API-enabled integration with other systems</li> <li>Cost Reduction: Lower maintenance costs, no legacy technology dependency</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#technical-benefits","title":"Technical Benefits","text":"<ol> <li>Modern Stack: Maintainable, scalable technology</li> <li>Data Integrity: ACID transactions, referential integrity</li> <li>Performance: Optimized queries, caching, scalability</li> <li>Security: Modern authentication, encryption, audit logging</li> <li>Monitoring: Real-time monitoring and alerting</li> <li>Disaster Recovery: Automated backups and recovery</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#user-benefits","title":"User Benefits","text":"<ol> <li>Better UX: Keyboard-first, fast input, modern interface</li> <li>Accessibility: Web-based, no installation required</li> <li>Performance: Faster response times</li> <li>Reliability: No file locking issues, better error handling</li> <li>Mobile Access: Responsive design for mobile devices (future)</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#success-criteria","title":"Success Criteria","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#technical-success","title":"Technical Success","text":"<ul> <li>\u2705 100% feature parity with current system</li> <li>\u2705 All data successfully migrated with 100% accuracy</li> <li>\u2705 Performance meets or exceeds current system</li> <li>\u2705 Zero data loss during migration</li> <li>\u2705 System availability &gt; 99.5%</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#business-success","title":"Business Success","text":"<ul> <li>\u2705 All users successfully trained and using new system</li> <li>\u2705 Business processes continue without disruption</li> <li>\u2705 User satisfaction score &gt; 4.0/5.0</li> <li>\u2705 Reduced data entry errors by 50%</li> <li>\u2705 Improved processing time by 30%</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#user-adoption-success","title":"User Adoption Success","text":"<ul> <li>\u2705 100% of users trained within 30 days of cutover</li> <li>\u2705 90% of users actively using new system within 60 days</li> <li>\u2705 User support tickets &lt; 10 per week after 90 days</li> <li>\u2705 Zero critical user complaints</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#risk-summary","title":"Risk Summary","text":""},{"location":"modernization-strategy/01-executive-summary/executive-summary/#high-risks","title":"High Risks","text":"<ol> <li>Data Migration Complexity: 186 tables, complex relationships</li> <li>User Adoption: Change from desktop to web application</li> <li>Timeline: 15-month timeline is aggressive</li> <li>Resource Availability: Need skilled developers</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#medium-risks","title":"Medium Risks","text":"<ol> <li>Feature Parity: Ensuring all features are replicated</li> <li>Performance: Web application performance vs desktop</li> <li>Integration: Excel import/export complexity</li> <li>Reporting: 116+ reports to migrate</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#mitigation-strategies","title":"Mitigation Strategies","text":"<ul> <li>Comprehensive data migration testing</li> <li>Extensive user training and support</li> <li>Phased delivery with early PoC validation</li> <li>Dedicated team with clear roles</li> <li>Regular stakeholder communication</li> </ul>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#next-steps","title":"Next Steps","text":"<ol> <li>Approve Modernization Plan: Stakeholder sign-off</li> <li>Assemble Team: Recruit and onboard team members</li> <li>Begin Phase 0: Start foundation work</li> <li>Plan PoC: Detailed PoC planning and execution</li> <li>Stakeholder Communication: Regular updates and demos</li> </ol>"},{"location":"modernization-strategy/01-executive-summary/executive-summary/#document-references","title":"Document References","text":"<ul> <li>Current State Assessment: <code>02-current-state-assessment/</code></li> <li>Target Architecture: <code>03-target-state-architecture/</code></li> <li>Data Migration Strategy: <code>04-data-migration-strategy/</code></li> <li>Phased Delivery Plan: <code>11-phased-delivery-plan/</code></li> <li>PoC Strategy: <code>15-poc-strategy/</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/","title":"Current State Assessment","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#overview","title":"Overview","text":"<p>This document provides a comprehensive assessment of the current BAITIN Trading Management System, including system inventory, technology stack, business processes, pain points, and limitations. This assessment forms the foundation for the modernization strategy.</p>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#system-inventory","title":"System Inventory","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#application-components","title":"Application Components","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#forms-screens","title":"Forms (Screens)","text":"<ul> <li>Total: 195+ forms (.scx files)</li> <li>Categories:</li> <li>Master Data Forms: ~30 forms</li> <li>Order Enquiry Forms: ~15 forms</li> <li>Order Confirmation Forms: ~10 forms</li> <li>Contract Forms: ~10 forms</li> <li>Shipping Order Forms: ~8 forms</li> <li>Delivery Note Forms: ~10 forms</li> <li>Invoice Forms: ~15 forms</li> <li>Enquiry Forms: ~20 forms</li> <li>Report Forms: ~30 forms</li> <li>Utility Forms: ~20 forms</li> <li>Authentication Forms: ~5 forms</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#programs-business-logic","title":"Programs (Business Logic)","text":"<ul> <li>Total: 176+ programs (.prg files)</li> <li>Key Programs:</li> <li><code>uoexls_2013.prg</code> - Excel import (1,747 lines - most complex)</li> <li><code>uordcont.prg</code> - OC/Contract processing</li> <li><code>xmoe.prg</code> - OE processing</li> <li><code>zdoc.prg</code> - Reindex utility</li> <li>Various import/export programs</li> <li>Report generation programs</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#database-tables","title":"Database Tables","text":"<ul> <li>Total: 186 DBF files</li> <li>Categories:</li> <li>Transaction Tables: ~30 tables (header/detail pairs)</li> <li>Master Data Tables: ~15 tables</li> <li>Supporting/Reference Tables: ~40 tables</li> <li>Work/Temporary Tables: ~50 tables</li> <li>Legacy/Backup Tables: ~20 tables</li> <li>System Tables: ~5 tables</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#reports","title":"Reports","text":"<ul> <li>Total: 116+ reports (.frx files)</li> <li>Categories:</li> <li>Transaction Reports: ~40 reports</li> <li>Summary Reports: ~30 reports</li> <li>Analysis Reports: ~30 reports</li> <li>Export Reports: ~16 reports</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#menu-structure","title":"Menu Structure","text":"<ul> <li>Total: 100+ menu items</li> <li>Main Menu Pads: 14 menu pads</li> <li>Role-Based: SUPERVISOR vs REGULAR_USER menus</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#technology-stack","title":"Technology Stack","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#development-platform","title":"Development Platform","text":"<ul> <li>Technology: Visual FoxPro 9.0</li> <li>Status: Discontinued by Microsoft (last version 2007)</li> <li>Platform: Windows only</li> <li>Engine Behavior: SET ENGINEBEHAVIOR 70/90</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#database-technology","title":"Database Technology","text":"<ul> <li>Format: FoxPro DBF (Database File) format</li> <li>Indexes: CDX (Compound Index) files</li> <li>Memo Fields: FPT (Memo/Text) files</li> <li>Structure: Fixed-width records with variable-length memo fields</li> <li>Relationships: Manual (no foreign key constraints)</li> <li>Transactions: Not supported (no ACID compliance)</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#file-organization","title":"File Organization","text":"<ul> <li>Shared Directory: <code>C:\\batwork</code> (database files)</li> <li>User Directories: <code>C:\\&lt;userid&gt;work</code> (per-user temp files)</li> <li>File Access: Direct file access via FoxPro runtime</li> <li>Multi-User: File locking (record or file level)</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#external-dependencies","title":"External Dependencies","text":"<ul> <li>Microsoft Excel: Import/export via ODBC/OLE Automation</li> <li>PDF Generation: FoxPro report engine \u2192 PDF</li> <li>MySQL: Limited usage (optional connectivity)</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#business-processes","title":"Business Processes","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#core-workflow","title":"Core Workflow","text":"<pre><code>Customer Inquiry\n  \u2193\nOrder Enquiry (OE)\n  \u2193\nOrder Confirmation (OC)\n  \u2193\nContract (Purchase Order to Vendor)\n  \u2193\nShipping Order (SO)\n  \u2193\nDelivery Note (DN)\n  \u2193\nInvoice\n  \u2193\nComplete\n</code></pre>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#key-business-processes","title":"Key Business Processes","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#1-order-enquiry-oe","title":"1. Order Enquiry (OE)","text":"<ul> <li>Creation Methods:</li> <li>Excel import (primary method, multiple formats)</li> <li>Manual entry</li> <li>Validation:</li> <li>OE Control record validation</li> <li>Customer validation</li> <li>Item validation</li> <li>Processing:</li> <li>Quantity breakdown processing</li> <li>BOM (Bill of Materials) processing</li> <li>Tables: <code>moehd</code>, <code>moe</code>, <code>moectrl</code>, <code>mqtybrk</code>, <code>moebom</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#2-order-confirmation-oc","title":"2. Order Confirmation (OC)","text":"<ul> <li>Source: Posted from OE</li> <li>Processing: BOM quantity calculations</li> <li>Tables: <code>mordhd</code>, <code>morddt</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#3-contract","title":"3. Contract","text":"<ul> <li>Source: Generated from OC (grouped by vendor)</li> <li>Processing: Vendor grouping, payment terms</li> <li>Tables: <code>mconthd</code>, <code>mcontdt</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#4-shipping-order-so","title":"4. Shipping Order (SO)","text":"<ul> <li>Source: Created from confirmed orders</li> <li>Features: Customizable formats per customer</li> <li>Tables: <code>mso</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#5-delivery-note-dn","title":"5. Delivery Note (DN)","text":"<ul> <li>Source: Created from shipping orders</li> <li>Features: Loading master, loading advice</li> <li>Tables: <code>mdnhd</code>, <code>mdndt</code>, <code>mdnbrk</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#6-invoice","title":"6. Invoice","text":"<ul> <li>Source: Created from SO/DN</li> <li>Features: Multi-page invoices, packing lists</li> <li>Tables: <code>minvhd</code>, <code>minvdt</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#master-data-management","title":"Master Data Management","text":"<ul> <li>Items: Product catalog with pricing, dimensions, BOM</li> <li>Customers: Customer database with shipping parameters</li> <li>Vendors: Vendor master with payment terms</li> <li>BOM: Product Bill of Materials</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#data-architecture","title":"Data Architecture","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#database-structure","title":"Database Structure","text":"<ul> <li>Type: File-based, no centralized database server</li> <li>Tables: 186 DBF files</li> <li>Relationships: Manual (application-level validation)</li> <li>Constraints: No foreign key constraints</li> <li>Transactions: Not supported</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#key-tables","title":"Key Tables","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#transaction-tables-headerdetail-pattern","title":"Transaction Tables (Header/Detail Pattern)","text":"<ul> <li>Order Enquiry: <code>moehd</code>, <code>moe</code>, <code>moectrl</code></li> <li>Order Confirmation: <code>mordhd</code>, <code>morddt</code></li> <li>Contract: <code>mconthd</code>, <code>mcontdt</code></li> <li>Shipping Order: <code>mso</code></li> <li>Delivery Note: <code>mdnhd</code>, <code>mdndt</code>, <code>mdnbrk</code></li> <li>Invoice: <code>minvhd</code>, <code>minvdt</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#master-data-tables","title":"Master Data Tables","text":"<ul> <li>Items: <code>mitem</code>, <code>mitemmftr</code>, <code>mitemven</code>, <code>mprodbom</code></li> <li>Customers: <code>mcustom</code></li> <li>Vendors: <code>mvendor</code>, <code>zmftr</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#large-tables","title":"Large Tables","text":"<ul> <li><code>mso.dbf</code> - 279MB (Shipping Orders)</li> <li><code>minvdt.dbf</code> - 123MB (Invoice Details)</li> <li><code>morddt.dbf</code> - 39MB (Order Confirmation Details)</li> <li><code>mcontdt.dbf</code> - 47MB (Contract Details)</li> <li><code>moe.dbf</code> - 102MB (Order Enquiry)</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#large-memo-files","title":"Large Memo Files","text":"<ul> <li><code>minvdt.FPT</code> - 178MB (Invoice detail memos)</li> <li><code>mso.FPT</code> - 131MB (Shipping order memos)</li> <li><code>morddt.FPT</code> - 77MB (Order confirmation memos)</li> <li><code>mcontdt.FPT</code> - 75MB (Contract detail memos)</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#user-roles-and-permissions","title":"User Roles and Permissions","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#role-types","title":"Role Types","text":"<ol> <li>SUPERVISOR: Full system access</li> <li>REGULAR_USER: Limited access</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#access-control","title":"Access Control","text":"<ul> <li>Method: Role-based (menu structure differences)</li> <li>Enforcement: Application-level (menu options)</li> <li>Data Access: Same tables, different menu options</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#user-management","title":"User Management","text":"<ul> <li>Table: <code>user.DBF</code></li> <li>Fields: User ID, password (likely plain text), user rights</li> <li>Management: SUPERVISOR only (form <code>iuser</code>)</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#integration-points","title":"Integration Points","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#excel-integration","title":"Excel Integration","text":"<ul> <li>Import Formats: Multiple formats (standard, Walmart, CSV, 2013 format)</li> <li>Export: Reports, invoices, packing lists</li> <li>Method: ODBC or OLE Automation</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#pdf-generation","title":"PDF Generation","text":"<ul> <li>Method: FoxPro report engine (FRX) \u2192 PDF</li> <li>Output: Reports, invoices, contracts, shipping orders</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#file-system-integration","title":"File System Integration","text":"<ul> <li>Working Directories: Per-user temp files</li> <li>Import Files: Excel files from network shares</li> <li>Export Files: Generated reports, Excel files</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#pain-points-and-limitations","title":"Pain Points and Limitations","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#technical-limitations","title":"Technical Limitations","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#1-legacy-technology","title":"1. Legacy Technology","text":"<ul> <li>Issue: Visual FoxPro discontinued (2007)</li> <li>Impact: No vendor support, security updates, or new features</li> <li>Risk: Technology obsolescence</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#2-file-based-database","title":"2. File-Based Database","text":"<ul> <li>Issue: No SQL backend, no ACID transactions</li> <li>Impact: </li> <li>No referential integrity enforcement</li> <li>No transaction rollback</li> <li>Manual relationship management</li> <li>File locking conflicts</li> <li>Risk: Data integrity issues, concurrency problems</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#3-platform-dependency","title":"3. Platform Dependency","text":"<ul> <li>Issue: Windows-only deployment</li> <li>Impact: Limited accessibility, no mobile support</li> <li>Risk: Vendor lock-in, deployment limitations</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#4-scalability-limitations","title":"4. Scalability Limitations","text":"<ul> <li>Issue: File-based storage, network file shares</li> <li>Impact: </li> <li>Performance degrades with multiple users</li> <li>Large file sizes (some &gt; 100MB)</li> <li>Network latency issues</li> <li>Risk: Cannot scale with business growth</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#5-data-integrity-risks","title":"5. Data Integrity Risks","text":"<ul> <li>Issue: No foreign key constraints, manual validation</li> <li>Impact:</li> <li>Orphaned records possible</li> <li>Invalid references possible</li> <li>Partial updates possible</li> <li>Risk: Data quality issues</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#maintenance-challenges","title":"Maintenance Challenges","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#1-index-corruption","title":"1. Index Corruption","text":"<ul> <li>Issue: Requires periodic reindexing</li> <li>Impact: Slow queries, incorrect results</li> <li>Mitigation: Manual reindexing via <code>zdoc.prg</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#2-backuprecovery","title":"2. Backup/Recovery","text":"<ul> <li>Issue: File-based backup, no point-in-time recovery</li> <li>Impact: Limited recovery options</li> <li>Risk: Data loss potential</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#3-code-maintenance","title":"3. Code Maintenance","text":"<ul> <li>Issue: Legacy codebase, limited documentation</li> <li>Impact: Difficult to maintain and enhance</li> <li>Risk: Knowledge loss, technical debt</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#user-experience-limitations","title":"User Experience Limitations","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#1-desktop-application","title":"1. Desktop Application","text":"<ul> <li>Issue: Requires installation, Windows-only</li> <li>Impact: Limited accessibility</li> <li>Risk: Cannot access remotely</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#2-file-locking","title":"2. File Locking","text":"<ul> <li>Issue: Record or file-level locking</li> <li>Impact: Users blocked during operations</li> <li>Risk: Poor user experience, conflicts</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#3-limited-modern-ux","title":"3. Limited Modern UX","text":"<ul> <li>Issue: Legacy UI patterns</li> <li>Impact: Less intuitive, slower data entry</li> <li>Risk: User frustration, training required</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#known-issues","title":"Known Issues","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#missing-formsreports","title":"Missing Forms/Reports","text":"<ul> <li>Forms referenced but not found: <code>ipurunit</code>, <code>isetcont@@_test</code>, <code>pconfirm_pdf</code></li> <li>Reports referenced but not found: <code>TEMP</code>, <code>PDEBITNOTE_ND_MS</code>, <code>PDEBITNOTE_ND</code></li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#data-quality-issues","title":"Data Quality Issues","text":"<ul> <li>Inconsistent data (invalid dates, negative quantities)</li> <li>Missing required fields</li> <li>Duplicate records possible</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#performance-issues","title":"Performance Issues","text":"<ul> <li>Large table scans</li> <li>Memo field searches (full table scan)</li> <li>Network latency on file shares</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#security-issues","title":"Security Issues","text":"<ul> <li>Passwords likely stored in plain text</li> <li>No session timeout</li> <li>Limited audit logging</li> </ul>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#risk-assessment","title":"Risk Assessment","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#high-risks","title":"High Risks","text":"<ol> <li>Technology Obsolescence: Visual FoxPro discontinued</li> <li>Data Integrity: No database constraints</li> <li>Scalability: Cannot scale with business growth</li> <li>Knowledge Loss: Legacy codebase, limited documentation</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#medium-risks","title":"Medium Risks","text":"<ol> <li>Performance: Degrades with multiple users</li> <li>Maintenance: Difficult to maintain and enhance</li> <li>User Experience: Legacy UI, limited accessibility</li> <li>Security: Plain text passwords, limited audit logging</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#low-risks","title":"Low Risks","text":"<ol> <li>Integration: Limited integration capabilities</li> <li>Reporting: Legacy reporting engine</li> <li>Mobile Access: No mobile support</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#migration-complexity-assessment","title":"Migration Complexity Assessment","text":""},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#high-complexity-areas","title":"High Complexity Areas","text":"<ol> <li>Excel Import Logic: Complex dynamic field detection (1,747 lines)</li> <li>BOM Calculations: Complex quantity calculations</li> <li>Data Migration: 186 tables, complex relationships</li> <li>Report Migration: 116+ reports with custom layouts</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#medium-complexity-areas","title":"Medium Complexity Areas","text":"<ol> <li>Business Logic: 176+ programs to migrate</li> <li>Forms: 195+ forms to rebuild</li> <li>Multi-Company Logic: Company-specific behavior</li> <li>Quantity Breakdowns: Complex breakdown processing</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#low-complexity-areas","title":"Low Complexity Areas","text":"<ol> <li>Master Data: Straightforward CRUD operations</li> <li>Lookup Tables: Simple reference data</li> <li>Basic Reports: Standard report formats</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#summary","title":"Summary","text":"<p>The current BAITIN system is a comprehensive but legacy desktop application with significant technical debt. While it successfully manages complex trading operations, it faces limitations in scalability, maintainability, and modern user experience. The file-based database architecture, lack of referential integrity, and platform dependency create risks that must be addressed through modernization.</p> <p>The system's complexity is significant (186 tables, 195+ forms, 176+ programs, 116+ reports), requiring a careful, phased approach to modernization. However, the well-documented business processes and clear module structure provide a solid foundation for modernization planning.</p>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#next-steps","title":"Next Steps","text":"<ol> <li>Review Target Architecture: Understand modernization direction</li> <li>Plan Data Migration: Develop detailed migration strategy</li> <li>Design UX: Create modern, keyboard-first user experience</li> <li>Plan Phased Delivery: Break down modernization into manageable phases</li> </ol>"},{"location":"modernization-strategy/02-current-state-assessment/current-state-assessment/#document-references","title":"Document References","text":"<ul> <li>System Summary: <code>../00-overview/system-summary.md</code></li> <li>Technology Stack: <code>../00-overview/technology-stack.md</code></li> <li>Module Inventory: <code>../03-application-modules/module-inventory.md</code></li> <li>Known Issues: <code>../09-technical-details/known-issues.md</code></li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/","title":"Target State Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#overview","title":"Overview","text":"<p>This document defines the target architecture for the modernized BAITIN Trading Management System. The architecture is designed to be scalable, maintainable, secure, and provide a superior user experience while preserving all business functionality.</p>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#architecture-principles","title":"Architecture Principles","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#1-web-first-architecture","title":"1. Web-First Architecture","text":"<ul> <li>Browser-based application accessible from any device</li> <li>Responsive design (desktop-first, mobile-ready)</li> <li>No client installation required</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#2-api-first-design","title":"2. API-First Design","text":"<ul> <li>RESTful API for all business operations</li> <li>Clear separation between frontend and backend</li> <li>API versioning for future compatibility</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#3-database-centric","title":"3. Database-Centric","text":"<ul> <li>Relational database with ACID compliance</li> <li>Referential integrity enforced at database level</li> <li>Proper indexing and query optimization</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#4-security-by-design","title":"4. Security by Design","text":"<ul> <li>Authentication and authorization built-in</li> <li>Data encryption at rest and in transit</li> <li>Comprehensive audit logging</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#5-scalability-and-performance","title":"5. Scalability and Performance","text":"<ul> <li>Horizontal scaling capability</li> <li>Caching strategies</li> <li>Optimized database queries</li> <li>Performance monitoring</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#6-maintainability","title":"6. Maintainability","text":"<ul> <li>Modern technology stack</li> <li>Clean code architecture</li> <li>Comprehensive documentation</li> <li>Automated testing</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#overall-architecture","title":"Overall Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#high-level-architecture-diagram","title":"High-Level Architecture Diagram","text":"<pre><code>flowchart TB\n    subgraph Client[\"Client Layer\"]\n        WebApp[\"Web Application&lt;br/&gt;React + TypeScript\"]\n        Mobile[\"Mobile Browser&lt;br/&gt;Responsive Design\"]\n    end\n\n    subgraph Gateway[\"API Gateway\"]\n        Auth[\"Authentication&lt;br/&gt;OIDC/SAML\"]\n        RateLimit[\"Rate Limiting\"]\n        LoadBal[\"Load Balancer\"]\n    end\n\n    subgraph Application[\"Application Layer\"]\n        API[\"REST API&lt;br/&gt;.NET or Node.js\"]\n        Services[\"Business Services\"]\n        Cache[\"Redis Cache\"]\n    end\n\n    subgraph Data[\"Data Layer\"]\n        DB[(\"PostgreSQL&lt;br/&gt;Primary Database\")]\n        Blob[\"Blob Storage&lt;br/&gt;Files/Excel\"]\n    end\n\n    subgraph Integration[\"Integration Layer\"]\n        Excel[\"Excel Processor\"]\n        PDF[\"PDF Generator\"]\n        Email[\"Email Service\"]\n    end\n\n    subgraph Monitoring[\"Monitoring\"]\n        Logs[\"Logging&lt;br/&gt;Application Insights\"]\n        Metrics[\"Metrics&lt;br/&gt;Performance\"]\n        Alerts[\"Alerting\"]\n    end\n\n    WebApp --&gt; Gateway\n    Mobile --&gt; Gateway\n    Gateway --&gt; Auth\n    Gateway --&gt; RateLimit\n    Gateway --&gt; LoadBal\n    LoadBal --&gt; API\n    API --&gt; Services\n    Services --&gt; Cache\n    Services --&gt; DB\n    Services --&gt; Blob\n    Services --&gt; Excel\n    Services --&gt; PDF\n    Services --&gt; Email\n    API --&gt; Logs\n    Services --&gt; Metrics\n    Metrics --&gt; Alerts</code></pre>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#technology-stack","title":"Technology Stack","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#frontend-technology","title":"Frontend Technology","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#core-framework","title":"Core Framework","text":"<ul> <li>Framework: React 18+ with TypeScript</li> <li>State Management: React Query + Context API (or Zustand/Redux if needed)</li> <li>UI Library: Material-UI or Ant Design (keyboard-first components)</li> <li>Form Management: React Hook Form (fast, performant)</li> <li>Data Grid: AG Grid Enterprise (Excel-like, keyboard navigation)</li> <li>Routing: React Router v6</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#key-libraries","title":"Key Libraries","text":"<ul> <li>HTTP Client: Axios or Fetch API</li> <li>Date Handling: date-fns or Day.js</li> <li>Validation: Zod or Yup</li> <li>Excel: SheetJS (xlsx) for client-side processing</li> <li>PDF: jsPDF or PDFKit for client-side generation</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#build-tools","title":"Build Tools","text":"<ul> <li>Bundler: Vite or Webpack</li> <li>Type Checking: TypeScript</li> <li>Linting: ESLint + Prettier</li> <li>Testing: Vitest + React Testing Library</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#backend-technology","title":"Backend Technology","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#option-a-net-stack-recommended-for-enterprise","title":"Option A: .NET Stack (Recommended for Enterprise)","text":"<ul> <li>Framework: .NET 8+ (C#)</li> <li>API: ASP.NET Core Web API</li> <li>ORM: Entity Framework Core</li> <li>Authentication: ASP.NET Core Identity + OIDC</li> <li>Validation: FluentValidation</li> <li>Logging: Serilog</li> <li>Caching: Redis</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#option-b-nodejs-stack","title":"Option B: Node.js Stack","text":"<ul> <li>Framework: NestJS (TypeScript)</li> <li>ORM: TypeORM or Prisma</li> <li>Authentication: Passport.js + OIDC</li> <li>Validation: class-validator</li> <li>Logging: Winston or Pino</li> <li>Caching: Redis</li> </ul> <p>Recommendation: .NET stack for enterprise-grade features, better performance, and strong typing.</p>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#database-technology","title":"Database Technology","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#primary-database","title":"Primary Database","text":"<ul> <li>Database: PostgreSQL 15+</li> <li>Rationale:</li> <li>ACID compliance</li> <li>Strong referential integrity</li> <li>Excellent performance</li> <li>JSON/JSONB support for flexible data</li> <li>Full-text search</li> <li>Open source, enterprise-ready</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#database-features","title":"Database Features","text":"<ul> <li>Connection Pooling: PgBouncer or built-in pooling</li> <li>Backup: Automated daily backups</li> <li>Replication: Read replicas for scaling</li> <li>Monitoring: pg_stat_statements for query analysis</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#authentication-and-authorization","title":"Authentication and Authorization","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#authentication","title":"Authentication","text":"<ul> <li>Method: OIDC (OpenID Connect) or SAML 2.0</li> <li>Provider Options:</li> <li>Azure AD / Microsoft Entra ID (if available)</li> <li>Okta</li> <li>Auth0</li> <li>Self-hosted IdentityServer</li> <li>Fallback: JWT-based authentication with password hashing (bcrypt/Argon2)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#authorization","title":"Authorization","text":"<ul> <li>Model: Role-Based Access Control (RBAC)</li> <li>Implementation:</li> <li>Roles: SUPERVISOR, REGULAR_USER (extensible)</li> <li>Permissions: Fine-grained permissions per module/feature</li> <li>Policy-based authorization</li> <li>Audit: All authorization decisions logged</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#infrastructure","title":"Infrastructure","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#deployment-options","title":"Deployment Options","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#option-1-cloud-native-recommended","title":"Option 1: Cloud-Native (Recommended)","text":"<ul> <li>Platform: Azure, AWS, or Google Cloud</li> <li>Containers: Docker + Kubernetes</li> <li>Benefits: Scalability, managed services, global reach</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#option-2-on-premises","title":"Option 2: On-Premises","text":"<ul> <li>Platform: Windows Server or Linux</li> <li>Containers: Docker + Docker Swarm or Kubernetes</li> <li>Benefits: Data sovereignty, compliance</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#infrastructure-components","title":"Infrastructure Components","text":"<ul> <li>Web Server: Nginx or IIS</li> <li>Application Server: Containerized (.NET/Node.js)</li> <li>Database Server: PostgreSQL (managed or self-hosted)</li> <li>Cache: Redis (managed or self-hosted)</li> <li>File Storage: Azure Blob Storage, AWS S3, or local storage</li> <li>CDN: For static assets (optional)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#devops-and-cicd","title":"DevOps and CI/CD","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#source-control","title":"Source Control","text":"<ul> <li>Repository: Git (GitHub, GitLab, or Azure DevOps)</li> <li>Branching: Git Flow or GitHub Flow</li> <li>Code Review: Pull request workflow</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#cicd-pipeline","title":"CI/CD Pipeline","text":"<ul> <li>Build: Automated builds on commit</li> <li>Testing: Unit tests, integration tests, E2E tests</li> <li>Deployment: Automated deployment to environments</li> <li>Environments: Dev \u2192 Test \u2192 Staging \u2192 Production</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#monitoring-and-logging","title":"Monitoring and Logging","text":"<ul> <li>Application Monitoring: Application Insights, New Relic, or Datadog</li> <li>Logging: Centralized logging (ELK stack or cloud logging)</li> <li>Metrics: Performance metrics, business metrics</li> <li>Alerting: Automated alerts for errors, performance issues</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#application-architecture","title":"Application Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#layered-architecture","title":"Layered Architecture","text":"<pre><code>flowchart TD\n    subgraph Presentation[\"Presentation Layer\"]\n        Pages[\"Pages/Views\"]\n        Components[\"React Components\"]\n        Hooks[\"Custom Hooks\"]\n    end\n\n    subgraph API[\"API Layer\"]\n        Controllers[\"API Controllers\"]\n        Middleware[\"Middleware&lt;br/&gt;Auth, Validation, Logging\"]\n    end\n\n    subgraph Business[\"Business Logic Layer\"]\n        Services[\"Business Services\"]\n        Domain[\"Domain Models\"]\n        Rules[\"Business Rules\"]\n    end\n\n    subgraph Data[\"Data Access Layer\"]\n        Repositories[\"Repositories\"]\n        ORM[\"Entity Framework/TypeORM\"]\n        Migrations[\"Database Migrations\"]\n    end\n\n    subgraph Infrastructure[\"Infrastructure Layer\"]\n        Cache[\"Caching\"]\n        FileStorage[\"File Storage\"]\n        External[\"External Services\"]\n    end\n\n    Pages --&gt; Components\n    Components --&gt; Hooks\n    Hooks --&gt; Controllers\n    Controllers --&gt; Middleware\n    Middleware --&gt; Services\n    Services --&gt; Domain\n    Services --&gt; Rules\n    Services --&gt; Repositories\n    Repositories --&gt; ORM\n    ORM --&gt; Migrations\n    Services --&gt; Cache\n    Services --&gt; FileStorage\n    Services --&gt; External</code></pre>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#module-structure","title":"Module Structure","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#frontend-modules","title":"Frontend Modules","text":"<pre><code>src/\n\u251c\u2500\u2500 features/\n\u2502   \u251c\u2500\u2500 auth/          # Authentication\n\u2502   \u251c\u2500\u2500 master-data/   # Items, Customers, Vendors\n\u2502   \u251c\u2500\u2500 order-enquiry/ # OE module\n\u2502   \u251c\u2500\u2500 order-confirmation/ # OC module\n\u2502   \u251c\u2500\u2500 contract/      # Contract module\n\u2502   \u251c\u2500\u2500 shipping/      # SO module\n\u2502   \u251c\u2500\u2500 delivery-note/ # DN module\n\u2502   \u251c\u2500\u2500 invoice/       # Invoice module\n\u2502   \u251c\u2500\u2500 enquiry/       # Enquiry module\n\u2502   \u2514\u2500\u2500 reporting/     # Reports module\n\u251c\u2500\u2500 shared/\n\u2502   \u251c\u2500\u2500 components/    # Reusable components\n\u2502   \u251c\u2500\u2500 hooks/         # Shared hooks\n\u2502   \u251c\u2500\u2500 utils/         # Utilities\n\u2502   \u251c\u2500\u2500 services/      # API services\n\u2502   \u2514\u2500\u2500 types/         # TypeScript types\n\u2514\u2500\u2500 app/               # App configuration\n</code></pre>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#backend-modules","title":"Backend Modules","text":"<pre><code>src/\n\u251c\u2500\u2500 API/               # API controllers\n\u251c\u2500\u2500 Domain/            # Domain models\n\u251c\u2500\u2500 Services/          # Business services\n\u251c\u2500\u2500 Data/              # Data access\n\u2502   \u251c\u2500\u2500 Repositories/\n\u2502   \u251c\u2500\u2500 Entities/\n\u2502   \u2514\u2500\u2500 Migrations/\n\u251c\u2500\u2500 Infrastructure/     # Infrastructure services\n\u2514\u2500\u2500 Shared/           # Shared utilities\n</code></pre>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#data-architecture","title":"Data Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#database-schema-design","title":"Database Schema Design","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#schema-organization","title":"Schema Organization","text":"<ul> <li>Schema per Module: Logical separation (optional)</li> <li>Naming Convention: snake_case for tables/columns</li> <li>Primary Keys: UUID or sequential IDs</li> <li>Foreign Keys: Enforced at database level</li> <li>Indexes: Strategic indexing for performance</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#key-design-decisions","title":"Key Design Decisions","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#1-transaction-tables","title":"1. Transaction Tables","text":"<ul> <li>Pattern: Header/Detail tables with foreign keys</li> <li>Example:</li> <li><code>order_enquiry_header</code> (id, oe_no, cust_no, oe_date, ...)</li> <li><code>order_enquiry_detail</code> (id, header_id, item_no, qty, price, ...)</li> <li>Benefits: Referential integrity, cascading deletes</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#2-master-data-tables","title":"2. Master Data Tables","text":"<ul> <li>Normalized: Proper normalization (3NF)</li> <li>Soft Deletes: <code>deleted_at</code> timestamp instead of hard deletes</li> <li>Audit Fields: <code>created_at</code>, <code>updated_at</code>, <code>created_by</code>, <code>updated_by</code></li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#3-memo-fields","title":"3. Memo Fields","text":"<ul> <li>Strategy: Convert FPT to TEXT or JSONB</li> <li>Large Text: Use TEXT type (unlimited)</li> <li>Structured Data: Use JSONB for flexible schema</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#4-lookup-tables","title":"4. Lookup Tables","text":"<ul> <li>Reference Data: Standard codes, origins, ports, etc.</li> <li>Caching: Frequently accessed lookups cached in Redis</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#data-migration-strategy","title":"Data Migration Strategy","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#migration-approach","title":"Migration Approach","text":"<ol> <li>ETL Pipeline: Extract from DBF \u2192 Transform \u2192 Load to PostgreSQL</li> <li>Validation: Data quality checks at each stage</li> <li>Reconciliation: Compare source and target data</li> <li>Verification: Business user verification</li> </ol>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#key-mapping","title":"Key Mapping","text":"<ul> <li>Preserve Original Keys: OE numbers, OC numbers, etc. as unique identifiers</li> <li>Add New IDs: UUID primary keys for internal use</li> <li>Maintain Relationships: Foreign keys preserve relationships</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#security-architecture","title":"Security Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#authentication-flow","title":"Authentication Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant WebApp\n    participant AuthProvider\n    participant API\n    participant Database\n\n    User-&gt;&gt;WebApp: Login Request\n    WebApp-&gt;&gt;AuthProvider: Redirect to OIDC\n    AuthProvider-&gt;&gt;User: Login Form\n    User-&gt;&gt;AuthProvider: Credentials\n    AuthProvider-&gt;&gt;WebApp: Authorization Code\n    WebApp-&gt;&gt;AuthProvider: Exchange for Token\n    AuthProvider-&gt;&gt;WebApp: ID Token + Access Token\n    WebApp-&gt;&gt;API: Request with Token\n    API-&gt;&gt;API: Validate Token\n    API-&gt;&gt;Database: Query with User Context\n    Database-&gt;&gt;API: Data\n    API-&gt;&gt;WebApp: Response\n    WebApp-&gt;&gt;User: Display Data</code></pre>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#authorization-model","title":"Authorization Model","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#role-based-access-control-rbac","title":"Role-Based Access Control (RBAC)","text":"<ul> <li>Roles: SUPERVISOR, REGULAR_USER (extensible)</li> <li>Permissions: Fine-grained per module/feature</li> <li>Policy Enforcement: API-level and UI-level</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#permission-matrix","title":"Permission Matrix","text":"Module Feature SUPERVISOR REGULAR_USER Master Data Create Item \u2705 \u274c Master Data View Item \u2705 \u2705 Order Enquiry Import OE \u2705 \u2705 (Limited) Order Enquiry Delete OE \u2705 \u274c Reports All Reports \u2705 Limited"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#data-security","title":"Data Security","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#encryption","title":"Encryption","text":"<ul> <li>At Rest: Database encryption (PostgreSQL TDE or disk encryption)</li> <li>In Transit: TLS 1.3 for all connections</li> <li>Sensitive Fields: Encrypted columns (e.g., payment terms)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#audit-logging","title":"Audit Logging","text":"<ul> <li>What: All data changes, user actions, authorization decisions</li> <li>Where: Dedicated audit log table</li> <li>Retention: Configurable (default 7 years)</li> <li>Access: SUPERVISOR only</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#integration-architecture","title":"Integration Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#excel-integration","title":"Excel Integration","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#import-flow","title":"Import Flow","text":"<ol> <li>Upload: User uploads Excel file</li> <li>Validation: File format validation</li> <li>Processing: Server-side processing (SheetJS or EPPlus)</li> <li>Mapping: Dynamic field detection or user mapping</li> <li>Validation: Business rule validation</li> <li>Import: Bulk insert with transaction</li> <li>Error Report: Detailed error report if failures</li> </ol>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#export-flow","title":"Export Flow","text":"<ol> <li>Request: User requests export</li> <li>Query: Database query for data</li> <li>Generation: Server-side Excel generation</li> <li>Download: File download to user</li> </ol>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#pdf-generation","title":"PDF Generation","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#options","title":"Options","text":"<ul> <li>Server-Side: PDFSharp, iTextSharp, or Puppeteer</li> <li>Client-Side: jsPDF (limited, for simple reports)</li> <li>Recommendation: Server-side for complex reports</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#report-types","title":"Report Types","text":"<ul> <li>Transaction Reports: OE, OC, Contract, Invoice</li> <li>Summary Reports: Sales analysis, item enquiry</li> <li>Documents: Invoices, packing lists, shipping orders</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#api-design","title":"API Design","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#restful-api-principles","title":"RESTful API Principles","text":"<ul> <li>Resources: Nouns (e.g., <code>/api/order-enquiries</code>)</li> <li>HTTP Methods: GET, POST, PUT, DELETE, PATCH</li> <li>Status Codes: Proper HTTP status codes</li> <li>Versioning: <code>/api/v1/...</code></li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#api-endpoints-structure","title":"API Endpoints Structure","text":"<pre><code>/api/v1/\n\u251c\u2500\u2500 auth/              # Authentication\n\u251c\u2500\u2500 master-data/\n\u2502   \u251c\u2500\u2500 items/\n\u2502   \u251c\u2500\u2500 customers/\n\u2502   \u2514\u2500\u2500 vendors/\n\u251c\u2500\u2500 order-enquiries/\n\u251c\u2500\u2500 order-confirmations/\n\u251c\u2500\u2500 contracts/\n\u251c\u2500\u2500 shipping-orders/\n\u251c\u2500\u2500 delivery-notes/\n\u251c\u2500\u2500 invoices/\n\u2514\u2500\u2500 reports/\n</code></pre>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#performance-architecture","title":"Performance Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#caching-strategy","title":"Caching Strategy","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#client-side-caching","title":"Client-Side Caching","text":"<ul> <li>React Query: Automatic caching of API responses</li> <li>Cache Invalidation: Smart invalidation on mutations</li> <li>Stale Time: Configurable per endpoint</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#server-side-caching","title":"Server-Side Caching","text":"<ul> <li>Redis: Frequently accessed data (master data, lookups)</li> <li>Cache Keys: Structured keys (e.g., <code>item:{id}</code>)</li> <li>TTL: Time-to-live based on data volatility</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#database-optimization","title":"Database Optimization","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#indexing-strategy","title":"Indexing Strategy","text":"<ul> <li>Primary Keys: Automatic indexes</li> <li>Foreign Keys: Indexed for joins</li> <li>Search Fields: Indexed for queries (dates, status, codes)</li> <li>Composite Indexes: For common query patterns</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#query-optimization","title":"Query Optimization","text":"<ul> <li>ORM Optimization: Eager loading, query projection</li> <li>Pagination: All list endpoints paginated</li> <li>Filtering: Server-side filtering for large datasets</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#performance-targets","title":"Performance Targets","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#response-times","title":"Response Times","text":"<ul> <li>Page Load: &lt; 2 seconds</li> <li>API Response: &lt; 500ms (p95)</li> <li>Data Entry: &lt; 100ms (client-side validation)</li> <li>Excel Import: &lt; 30 seconds for 1000 rows</li> <li>Report Generation: &lt; 10 seconds for standard reports</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#scalability-architecture","title":"Scalability Architecture","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#horizontal-scaling","title":"Horizontal Scaling","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#application-scaling","title":"Application Scaling","text":"<ul> <li>Stateless Design: No server-side session state</li> <li>Load Balancing: Multiple application instances</li> <li>Session Storage: Redis for shared session (if needed)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#database-scaling","title":"Database Scaling","text":"<ul> <li>Read Replicas: For read-heavy operations</li> <li>Connection Pooling: Efficient connection management</li> <li>Partitioning: Large tables partitioned by date (future)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#vertical-scaling","title":"Vertical Scaling","text":"<ul> <li>Resource Allocation: CPU, memory based on load</li> <li>Auto-Scaling: Automatic scaling based on metrics</li> <li>Resource Monitoring: Track resource usage</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#monitoring-and-observability","title":"Monitoring and Observability","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#logging-strategy","title":"Logging Strategy","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#log-levels","title":"Log Levels","text":"<ul> <li>Error: Application errors, exceptions</li> <li>Warning: Potential issues, validation failures</li> <li>Info: Business events, user actions</li> <li>Debug: Detailed debugging information</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#log-structure","title":"Log Structure","text":"<ul> <li>Format: Structured JSON logs</li> <li>Fields: Timestamp, level, message, user, request ID, context</li> <li>Retention: 30 days (configurable)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#metrics","title":"Metrics","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#application-metrics","title":"Application Metrics","text":"<ul> <li>Response Times: API endpoint response times</li> <li>Error Rates: Error count by endpoint</li> <li>Throughput: Requests per second</li> <li>User Activity: Active users, feature usage</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#business-metrics","title":"Business Metrics","text":"<ul> <li>Orders Processed: OE, OC, Invoice counts</li> <li>Data Quality: Validation error rates</li> <li>User Adoption: Feature usage statistics</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#alerting","title":"Alerting","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#alert-types","title":"Alert Types","text":"<ul> <li>Critical: System down, data corruption</li> <li>Warning: High error rates, performance degradation</li> <li>Info: Business events, milestones</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#alert-channels","title":"Alert Channels","text":"<ul> <li>Email: Critical alerts</li> <li>Slack/Teams: Team notifications</li> <li>SMS: Critical system alerts (optional)</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#disaster-recovery","title":"Disaster Recovery","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#backup-strategy","title":"Backup Strategy","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#database-backups","title":"Database Backups","text":"<ul> <li>Frequency: Daily full backups, hourly incremental</li> <li>Retention: 30 days (configurable)</li> <li>Testing: Monthly restore testing</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#application-backups","title":"Application Backups","text":"<ul> <li>Code: Git repository (multiple remotes)</li> <li>Configuration: Version-controlled config files</li> <li>Files: Blob storage with versioning</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#recovery-procedures","title":"Recovery Procedures","text":""},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#rtorpo-targets","title":"RTO/RPO Targets","text":"<ul> <li>RTO (Recovery Time Objective): &lt; 4 hours</li> <li>RPO (Recovery Point Objective): &lt; 1 hour</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#recovery-steps","title":"Recovery Steps","text":"<ol> <li>Assess: Determine scope of failure</li> <li>Restore: Restore from backup</li> <li>Validate: Verify data integrity</li> <li>Resume: Resume normal operations</li> </ol>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#summary","title":"Summary","text":"<p>The target architecture provides a modern, scalable, secure foundation for the BAITIN system. It addresses all limitations of the current system while preserving business functionality and improving user experience. The architecture is designed to be:</p> <ul> <li>Scalable: Horizontal and vertical scaling</li> <li>Secure: Modern authentication, authorization, encryption</li> <li>Maintainable: Clean architecture, modern stack</li> <li>Performant: Caching, optimization, monitoring</li> <li>Reliable: Backup, disaster recovery, monitoring</li> </ul>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#next-steps","title":"Next Steps","text":"<ol> <li>Finalize Technology Choices: Confirm .NET vs Node.js, cloud provider</li> <li>Design Database Schema: Detailed schema design</li> <li>Create API Specifications: OpenAPI/Swagger specifications</li> <li>Plan Infrastructure: Cloud resources, networking</li> <li>Begin PoC: Validate architecture with PoC</li> </ol>"},{"location":"modernization-strategy/03-target-state-architecture/target-state-architecture/#document-references","title":"Document References","text":"<ul> <li>Data Migration Strategy: <code>../04-data-migration-strategy/</code></li> <li>Application Modernization: <code>../05-application-modernization/</code></li> <li>UX/UI Strategy: <code>../06-ux-ui-strategy/</code></li> <li>Security and Compliance: <code>../07-security-compliance/</code></li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/","title":"Data Migration Strategy","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#overview","title":"Overview","text":"<p>This document outlines the comprehensive strategy for migrating data from the legacy Visual FoxPro DBF file-based database to the modern PostgreSQL relational database. The migration involves 186 tables, complex relationships, and large data volumes (some tables &gt; 100MB).</p>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-objectives","title":"Migration Objectives","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#primary-objectives","title":"Primary Objectives","text":"<ol> <li>Zero Data Loss: 100% data migration with no data loss</li> <li>Data Integrity: Maintain referential integrity and business rules</li> <li>Minimal Downtime: Minimize business disruption during migration</li> <li>Verification: Comprehensive validation and reconciliation</li> <li>Rollback Capability: Ability to rollback if issues occur</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#secondary-objectives","title":"Secondary Objectives","text":"<ol> <li>Performance: Optimized migration process</li> <li>Documentation: Complete migration documentation</li> <li>Audit Trail: Track all migration activities</li> <li>Data Quality: Identify and fix data quality issues</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-approach","title":"Migration Approach","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phased-migration-strategy","title":"Phased Migration Strategy","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-a-big-bang-migration-recommended-for-pocmvp","title":"Option A: Big-Bang Migration (Recommended for PoC/MVP)","text":"<ul> <li>Approach: Migrate all data in single cutover</li> <li>Timeline: 1-2 days downtime</li> <li>Pros: Simpler, faster, single validation point</li> <li>Cons: Higher risk, requires extensive testing</li> <li>Use Case: PoC, MVP, or when business can accept downtime</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-b-phased-module-migration","title":"Option B: Phased Module Migration","text":"<ul> <li>Approach: Migrate by module (Master Data \u2192 OE \u2192 OC \u2192 etc.)</li> <li>Timeline: 2-4 weeks with parallel run</li> <li>Pros: Lower risk, incremental validation</li> <li>Cons: More complex, longer timeline, dual maintenance</li> <li>Use Case: Production migration with minimal risk tolerance</li> </ul> <p>Recommendation: Start with Big-Bang for PoC/MVP, consider Phased for production cutover.</p>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-mapping-strategy","title":"Data Mapping Strategy","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#table-mapping","title":"Table Mapping","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#transaction-tables-headerdetail-pattern","title":"Transaction Tables (Header/Detail Pattern)","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#order-enquiry","title":"Order Enquiry","text":"Legacy Table New Table Key Mapping <code>moehd</code> <code>order_enquiry_header</code> <code>oe_no</code> \u2192 <code>oe_no</code> (unique) <code>moe</code> <code>order_enquiry_detail</code> <code>oe_no</code> + <code>item_no</code> \u2192 <code>header_id</code> + <code>item_no</code> <code>moectrl</code> <code>order_enquiry_control</code> <code>oe_no</code> \u2192 <code>oe_no</code> (unique) <code>mqtybrk</code> <code>order_enquiry_quantity_breakdown</code> <code>oe_no</code> + <code>item_no</code> \u2192 foreign keys <code>moebom</code> <code>order_enquiry_bom</code> <code>oe_no</code> + <code>item_no</code> \u2192 foreign keys"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#order-confirmation","title":"Order Confirmation","text":"Legacy Table New Table Key Mapping <code>mordhd</code> <code>order_confirmation_header</code> <code>conf_no</code> \u2192 <code>conf_no</code> (unique) <code>morddt</code> <code>order_confirmation_detail</code> <code>conf_no</code> + <code>item_no</code> \u2192 <code>header_id</code> + <code>item_no</code>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#contract","title":"Contract","text":"Legacy Table New Table Key Mapping <code>mconthd</code> <code>contract_header</code> <code>cont_no</code> \u2192 <code>cont_no</code> (unique) <code>mcontdt</code> <code>contract_detail</code> <code>cont_no</code> + <code>item_no</code> \u2192 <code>header_id</code> + <code>item_no</code>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#shipping-order","title":"Shipping Order","text":"Legacy Table New Table Key Mapping <code>mso</code> <code>shipping_order</code> <code>so_no</code> \u2192 <code>so_no</code> (unique)"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#delivery-note","title":"Delivery Note","text":"Legacy Table New Table Key Mapping <code>mdnhd</code> <code>delivery_note_header</code> <code>dn_no</code> \u2192 <code>dn_no</code> (unique) <code>mdndt</code> <code>delivery_note_detail</code> <code>dn_no</code> + <code>item_no</code> \u2192 <code>header_id</code> + <code>item_no</code> <code>mdnbrk</code> <code>delivery_note_breakdown</code> <code>dn_no</code> + <code>item_no</code> \u2192 foreign keys"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#invoice","title":"Invoice","text":"Legacy Table New Table Key Mapping <code>minvhd</code> <code>invoice_header</code> <code>inv_no</code> \u2192 <code>inv_no</code> (unique) <code>minvdt</code> <code>invoice_detail</code> <code>inv_no</code> + <code>item_no</code> \u2192 <code>header_id</code> + <code>item_no</code>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#master-data-tables","title":"Master Data Tables","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#items","title":"Items","text":"Legacy Table New Table Key Mapping <code>mitem</code> <code>item</code> <code>item_no</code> \u2192 <code>item_no</code> (unique) <code>mitemmftr</code> <code>item_manufacturer</code> <code>item_no</code> + <code>mftr_no</code> \u2192 foreign keys <code>mitemven</code> <code>item_vendor</code> <code>item_no</code> + <code>vendor_no</code> \u2192 foreign keys <code>mprodbom</code> <code>product_bom</code> <code>item_no</code> + <code>sub_item</code> \u2192 foreign keys"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#customers","title":"Customers","text":"Legacy Table New Table Key Mapping <code>mcustom</code> <code>customer</code> <code>cust_no</code> \u2192 <code>cust_no</code> (unique)"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#vendors","title":"Vendors","text":"Legacy Table New Table Key Mapping <code>mvendor</code> <code>vendor</code> <code>vendor_no</code> \u2192 <code>vendor_no</code> (unique) <code>zmftr</code> <code>manufacturer</code> <code>mftr_no</code> \u2192 <code>mftr_no</code> (unique)"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#referencelookup-tables","title":"Reference/Lookup Tables","text":"Legacy Table New Table Key Mapping <code>zstdcode</code> <code>standard_code</code> <code>std_code</code> \u2192 <code>std_code</code> (unique) <code>zorigin</code> <code>country_of_origin</code> <code>origin_code</code> \u2192 <code>origin_code</code> (unique) <code>zfobport</code> <code>fob_port</code> <code>port_code</code> \u2192 <code>port_code</code> (unique) <code>zpayterm</code> <code>payment_term</code> <code>payterm_code</code> \u2192 <code>payterm_code</code> (unique) <code>zfobterm</code> <code>fob_term</code> <code>fobterm_code</code> \u2192 <code>fobterm_code</code> (unique) <code>zcurcode</code> <code>currency_code</code> <code>cur_code</code> \u2192 <code>cur_code</code> (unique)"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#field-mapping","title":"Field Mapping","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-type-conversions","title":"Data Type Conversions","text":"FoxPro Type PostgreSQL Type Notes Character (C) VARCHAR(n) or TEXT Based on field length Numeric (N) DECIMAL(p,s) or INTEGER Based on precision Date (D) DATE Direct mapping DateTime (T) TIMESTAMP Direct mapping Logical (L) BOOLEAN .T. \u2192 true, .F. \u2192 false Memo (M) TEXT or JSONB FPT file content"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#special-field-handling","title":"Special Field Handling","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#memo-fields-fpt-files","title":"Memo Fields (FPT Files)","text":"<ul> <li>Strategy: Extract memo content from FPT files</li> <li>Storage: TEXT type in PostgreSQL</li> <li>Large Memos: Use TEXT (unlimited) or JSONB for structured data</li> <li>Examples:</li> <li><code>mitem.desp</code> (24MB) \u2192 <code>item.description</code> (TEXT)</li> <li><code>mcustom</code> notes \u2192 <code>customer.notes</code> (TEXT)</li> <li><code>mcontdt</code> details (75MB) \u2192 <code>contract_detail.remarks</code> (TEXT)</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#date-fields","title":"Date Fields","text":"<ul> <li>Format: Convert from FoxPro date format to PostgreSQL DATE</li> <li>Validation: Check for valid dates, handle invalid dates</li> <li>Null Handling: Empty dates \u2192 NULL</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#numeric-fields","title":"Numeric Fields","text":"<ul> <li>Precision: Preserve decimal precision</li> <li>Validation: Check for valid numbers, handle invalid values</li> <li>Null Handling: Empty numerics \u2192 NULL or 0 (based on business rules)</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#character-fields","title":"Character Fields","text":"<ul> <li>Encoding: Handle character encoding (UTF-8)</li> <li>Trimming: Trim whitespace</li> <li>Null Handling: Empty strings \u2192 NULL or '' (based on business rules)</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#relationship-mapping","title":"Relationship Mapping","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#foreign-key-relationships","title":"Foreign Key Relationships","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#order-enquiry-relationships","title":"Order Enquiry Relationships","text":"<pre><code>-- Header to Detail\norder_enquiry_detail.header_id \u2192 order_enquiry_header.id\n\n-- Detail to Master Data\norder_enquiry_detail.item_no \u2192 item.item_no\norder_enquiry_header.cust_no \u2192 customer.cust_no\n\n-- Control to Header\norder_enquiry_control.oe_no \u2192 order_enquiry_header.oe_no\n\n-- Breakdown to Detail\norder_enquiry_quantity_breakdown.oe_no \u2192 order_enquiry_header.oe_no\norder_enquiry_quantity_breakdown.item_no \u2192 order_enquiry_detail.item_no\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#order-confirmation-relationships","title":"Order Confirmation Relationships","text":"<pre><code>-- Header to Detail\norder_confirmation_detail.header_id \u2192 order_confirmation_header.id\n\n-- Detail to OE\norder_confirmation_detail.oe_no \u2192 order_enquiry_header.oe_no\n\n-- Detail to Master Data\norder_confirmation_detail.item_no \u2192 item.item_no\norder_confirmation_header.cust_no \u2192 customer.cust_no\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#contract-relationships","title":"Contract Relationships","text":"<pre><code>-- Header to Detail\ncontract_detail.header_id \u2192 contract_header.id\n\n-- Contract to OC\ncontract_header.conf_no \u2192 order_confirmation_header.conf_no\n\n-- Detail to Master Data\ncontract_detail.item_no \u2192 item.item_no\ncontract_detail.vendor_no \u2192 vendor.vendor_no\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-process","title":"Migration Process","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-1-preparation","title":"Phase 1: Preparation","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#11-data-assessment","title":"1.1 Data Assessment","text":"<ul> <li>Inventory: Complete inventory of all 186 tables</li> <li>Data Volume: Calculate data volumes per table</li> <li>Data Quality: Identify data quality issues</li> <li>Dependencies: Map table dependencies</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#12-schema-design","title":"1.2 Schema Design","text":"<ul> <li>Database Schema: Design PostgreSQL schema</li> <li>Indexes: Plan indexes for performance</li> <li>Constraints: Define foreign keys, check constraints</li> <li>Migrations: Create database migration scripts</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#13-migration-tools-development","title":"1.3 Migration Tools Development","text":"<ul> <li>ETL Pipeline: Develop extraction, transformation, load pipeline</li> <li>Validation Tools: Data validation and reconciliation tools</li> <li>Monitoring: Migration progress monitoring</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-2-extraction","title":"Phase 2: Extraction","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#21-dbf-file-reading","title":"2.1 DBF File Reading","text":"<ul> <li>Tool: Use DBF library (e.g., <code>dbf</code> npm package, <code>dbfread</code> Python, or custom .NET library)</li> <li>Process: Read all DBF files from <code>C:\\batwork</code></li> <li>Output: Raw data in structured format (CSV, JSON, or direct database insert)</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#22-fpt-file-reading","title":"2.2 FPT File Reading","text":"<ul> <li>Tool: Use FPT library or custom parser</li> <li>Process: Read memo content from FPT files</li> <li>Mapping: Map memo content to corresponding DBF records</li> <li>Output: Memo content linked to records</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#23-data-extraction-script","title":"2.3 Data Extraction Script","text":"<pre><code># Example extraction script structure\nfor table_name in table_list:\n    # Read DBF file\n    dbf_data = read_dbf(f\"C:\\\\batwork\\\\{table_name}.dbf\")\n\n    # Read FPT file if exists\n    if exists(f\"C:\\\\batwork\\\\{table_name}.fpt\"):\n        memo_data = read_fpt(f\"C:\\\\batwork\\\\{table_name}.fpt\")\n        merge_memos(dbf_data, memo_data)\n\n    # Export to staging format\n    export_to_staging(dbf_data, table_name)\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-3-transformation","title":"Phase 3: Transformation","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#31-data-cleaning","title":"3.1 Data Cleaning","text":"<ul> <li>Trim Whitespace: Remove leading/trailing spaces</li> <li>Normalize Encoding: Convert to UTF-8</li> <li>Fix Invalid Data: Handle invalid dates, numbers, etc.</li> <li>Deduplicate: Identify and handle duplicates</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#32-data-transformation","title":"3.2 Data Transformation","text":"<ul> <li>Type Conversion: Convert FoxPro types to PostgreSQL types</li> <li>Date Formatting: Convert date formats</li> <li>Null Handling: Handle empty values appropriately</li> <li>Relationship Mapping: Map manual relationships to foreign keys</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#33-business-rule-application","title":"3.3 Business Rule Application","text":"<ul> <li>Validation: Apply business rules</li> <li>Calculations: Calculate derived fields</li> <li>Defaults: Apply default values where appropriate</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-4-loading","title":"Phase 4: Loading","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#41-staging-area","title":"4.1 Staging Area","text":"<ul> <li>Purpose: Load data to staging tables first</li> <li>Benefits: Validation before production, ability to retry</li> <li>Structure: Mirror production schema</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#42-load-sequence","title":"4.2 Load Sequence","text":"<ol> <li>Reference Data: Load lookup tables first</li> <li>Master Data: Load items, customers, vendors</li> <li>Transaction Headers: Load OE, OC, Contract headers</li> <li>Transaction Details: Load detail records</li> <li>Supporting Data: Load breakdowns, BOMs, etc.</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#43-load-process","title":"4.3 Load Process","text":"<pre><code>-- Example load process\nBEGIN TRANSACTION;\n\n-- Load reference data\nINSERT INTO standard_code SELECT * FROM staging.standard_code;\n\n-- Load master data\nINSERT INTO item SELECT * FROM staging.item;\nINSERT INTO customer SELECT * FROM staging.customer;\nINSERT INTO vendor SELECT * FROM staging.vendor;\n\n-- Load transaction headers\nINSERT INTO order_enquiry_header SELECT * FROM staging.order_enquiry_header;\n\n-- Load transaction details\nINSERT INTO order_enquiry_detail SELECT * FROM staging.order_enquiry_detail;\n\nCOMMIT;\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-5-validation-and-reconciliation","title":"Phase 5: Validation and Reconciliation","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#51-record-count-validation","title":"5.1 Record Count Validation","text":"<pre><code>-- Compare record counts\nSELECT \n    'moehd' as legacy_table,\n    COUNT(*) as legacy_count\nFROM legacy.moehd\nUNION ALL\nSELECT \n    'order_enquiry_header' as new_table,\n    COUNT(*) as new_count\nFROM order_enquiry_header;\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#52-data-integrity-validation","title":"5.2 Data Integrity Validation","text":"<ul> <li>Foreign Keys: Verify all foreign keys are valid</li> <li>Required Fields: Check required fields are populated</li> <li>Business Rules: Validate business rules are satisfied</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#53-data-accuracy-validation","title":"5.3 Data Accuracy Validation","text":"<ul> <li>Sample Comparison: Compare sample records</li> <li>Total Validation: Compare totals (quantities, amounts)</li> <li>Key Field Validation: Verify key fields match</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#54-reconciliation-report","title":"5.4 Reconciliation Report","text":"<ul> <li>Summary: Overall migration statistics</li> <li>Issues: List of data quality issues</li> <li>Recommendations: Recommendations for fixing issues</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-tools","title":"Migration Tools","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#etl-pipeline","title":"ETL Pipeline","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-a-custom-net-application","title":"Option A: Custom .NET Application","text":"<ul> <li>Language: C# (.NET)</li> <li>DBF Library: Custom library or third-party</li> <li>Database: Entity Framework Core for PostgreSQL</li> <li>Benefits: Type safety, performance, integration with backend</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-b-python-script","title":"Option B: Python Script","text":"<ul> <li>Language: Python</li> <li>DBF Library: <code>dbfread</code> or <code>dbf</code> package</li> <li>Database: <code>psycopg2</code> or SQLAlchemy</li> <li>Benefits: Rapid development, good libraries</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-c-commercial-etl-tool","title":"Option C: Commercial ETL Tool","text":"<ul> <li>Tools: Talend, Informatica, SSIS</li> <li>Benefits: GUI-based, built-in connectors</li> <li>Cons: Cost, learning curve</li> </ul> <p>Recommendation: Custom .NET application for control and integration.</p>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-script-structure","title":"Migration Script Structure","text":"<pre><code>migration/\n\u251c\u2500\u2500 extract/\n\u2502   \u251c\u2500\u2500 dbf-reader.cs        # DBF file reader\n\u2502   \u251c\u2500\u2500 fpt-reader.cs        # FPT file reader\n\u2502   \u2514\u2500\u2500 extractor.cs         # Main extraction logic\n\u251c\u2500\u2500 transform/\n\u2502   \u251c\u2500\u2500 data-cleaner.cs      # Data cleaning\n\u2502   \u251c\u2500\u2500 type-converter.cs    # Type conversion\n\u2502   \u2514\u2500\u2500 transformer.cs       # Main transformation logic\n\u251c\u2500\u2500 load/\n\u2502   \u251c\u2500\u2500 staging-loader.cs    # Load to staging\n\u2502   \u251c\u2500\u2500 production-loader.cs # Load to production\n\u2502   \u2514\u2500\u2500 loader.cs            # Main load logic\n\u251c\u2500\u2500 validate/\n\u2502   \u251c\u2500\u2500 record-counter.cs    # Record count validation\n\u2502   \u251c\u2500\u2500 integrity-checker.cs # Integrity validation\n\u2502   \u2514\u2500\u2500 reconciler.cs       # Reconciliation\n\u2514\u2500\u2500 main/\n    \u2514\u2500\u2500 migration-orchestrator.cs # Main migration orchestrator\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-quality-strategy","title":"Data Quality Strategy","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-quality-issues","title":"Data Quality Issues","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#known-issues","title":"Known Issues","text":"<ol> <li>Orphaned Records: Detail records without headers</li> <li>Invalid References: Invalid customer/item/vendor codes</li> <li>Missing Required Fields: Empty required fields</li> <li>Invalid Data: Invalid dates, negative quantities</li> <li>Duplicates: Duplicate OE/OC/Invoice numbers</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-quality-rules","title":"Data Quality Rules","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#validation-rules","title":"Validation Rules","text":"<ul> <li>Required Fields: All required fields must be populated</li> <li>Data Types: Values must match expected data types</li> <li>Ranges: Numeric values within valid ranges</li> <li>Formats: Dates, codes in correct format</li> <li>Relationships: All foreign keys must be valid</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-quality-checks","title":"Data Quality Checks","text":"<pre><code>-- Example data quality checks\n-- Check for orphaned detail records\nSELECT COUNT(*) \nFROM order_enquiry_detail d\nLEFT JOIN order_enquiry_header h ON d.header_id = h.id\nWHERE h.id IS NULL;\n\n-- Check for invalid item references\nSELECT COUNT(*)\nFROM order_enquiry_detail d\nLEFT JOIN item i ON d.item_no = i.item_no\nWHERE i.item_no IS NULL;\n\n-- Check for missing required fields\nSELECT COUNT(*)\nFROM order_enquiry_header\nWHERE oe_no IS NULL OR cust_no IS NULL;\n</code></pre>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#data-quality-fixes","title":"Data Quality Fixes","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#pre-migration-fixes","title":"Pre-Migration Fixes","text":"<ul> <li>Identify Issues: Run data quality checks</li> <li>Fix Issues: Fix issues in source system (if possible)</li> <li>Document: Document all fixes</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-time-fixes","title":"Migration-Time Fixes","text":"<ul> <li>Default Values: Apply defaults for missing required fields</li> <li>Data Cleaning: Clean invalid data during transformation</li> <li>Flag Issues: Flag data quality issues for review</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#cutover-strategy","title":"Cutover Strategy","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#pre-cutover","title":"Pre-Cutover","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#final-validation","title":"Final Validation","text":"<ul> <li>Data Validation: Complete data validation</li> <li>Reconciliation: Final reconciliation report</li> <li>User Acceptance: User acceptance testing</li> <li>Backup: Complete backup of legacy system</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#preparation","title":"Preparation","text":"<ul> <li>Communication: Notify all users</li> <li>Training: Complete user training</li> <li>Support: Prepare support team</li> <li>Rollback Plan: Prepare rollback procedures</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#cutover-execution","title":"Cutover Execution","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-a-big-bang-cutover","title":"Option A: Big-Bang Cutover","text":"<ol> <li>Stop Legacy System: Stop all users from accessing legacy system</li> <li>Final Data Extract: Extract final data snapshot</li> <li>Data Migration: Execute migration</li> <li>Validation: Validate migrated data</li> <li>Go Live: Enable new system</li> <li>Monitor: Monitor for issues</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#option-b-phased-cutover","title":"Option B: Phased Cutover","text":"<ol> <li>Module 1: Migrate and enable first module</li> <li>Validation: Validate first module</li> <li>Module 2: Migrate and enable next module</li> <li>Repeat: Continue for all modules</li> <li>Final Cutover: Complete cutover</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#post-cutover","title":"Post-Cutover","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#monitoring","title":"Monitoring","text":"<ul> <li>Data Validation: Continuous data validation</li> <li>Performance: Monitor system performance</li> <li>User Feedback: Collect user feedback</li> <li>Issue Tracking: Track and resolve issues</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#support","title":"Support","text":"<ul> <li>Help Desk: Enhanced support during transition</li> <li>Documentation: User guides and FAQs</li> <li>Training: Additional training as needed</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#rollback-strategy","title":"Rollback Strategy","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#rollback-triggers","title":"Rollback Triggers","text":"<ul> <li>Critical Data Loss: Significant data loss detected</li> <li>System Failure: System failure preventing operations</li> <li>User Rejection: Users cannot use new system</li> <li>Business Impact: Significant negative business impact</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#rollback-procedure","title":"Rollback Procedure","text":"<ol> <li>Stop New System: Immediately stop new system</li> <li>Restore Legacy: Restore legacy system access</li> <li>Data Recovery: Recover any data changes made in new system</li> <li>Communication: Notify all stakeholders</li> <li>Root Cause: Analyze root cause of rollback</li> <li>Remediation: Fix issues before retry</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#rollback-testing","title":"Rollback Testing","text":"<ul> <li>Test Rollback: Test rollback procedure</li> <li>Documentation: Document rollback steps</li> <li>Training: Train team on rollback procedure</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-timeline","title":"Migration Timeline","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-1-preparation-weeks-1-4","title":"Phase 1: Preparation (Weeks 1-4)","text":"<ul> <li>Data assessment</li> <li>Schema design</li> <li>Migration tools development</li> <li>Test migration on sample data</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-2-development-migration-weeks-5-8","title":"Phase 2: Development Migration (Weeks 5-8)","text":"<ul> <li>Full migration in development environment</li> <li>Validation and reconciliation</li> <li>Fix issues and refine process</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-3-test-migration-weeks-9-12","title":"Phase 3: Test Migration (Weeks 9-12)","text":"<ul> <li>Migration in test environment</li> <li>User acceptance testing</li> <li>Performance testing</li> <li>Final validation</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#phase-4-production-cutover-week-13","title":"Phase 4: Production Cutover (Week 13)","text":"<ul> <li>Production migration execution</li> <li>Validation</li> <li>Go live</li> <li>Monitoring and support</li> </ul> <p>Total Timeline: ~13 weeks from start to production cutover</p>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#success-criteria","title":"Success Criteria","text":""},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#migration-success-metrics","title":"Migration Success Metrics","text":"<ul> <li>\u2705 100% of records migrated</li> <li>\u2705 Zero data loss</li> <li>\u2705 All foreign keys valid</li> <li>\u2705 All business rules satisfied</li> <li>\u2705 Reconciliation report shows 100% match</li> <li>\u2705 User acceptance testing passed</li> <li>\u2705 Performance meets targets</li> </ul>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#summary","title":"Summary","text":"<p>The data migration strategy provides a comprehensive approach to migrating 186 tables from Visual FoxPro DBF files to PostgreSQL. The strategy emphasizes data integrity, validation, and minimal business disruption. The phased approach allows for thorough testing and validation before production cutover.</p>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#next-steps","title":"Next Steps","text":"<ol> <li>Develop Migration Tools: Build ETL pipeline</li> <li>Test on Sample Data: Validate approach with sample data</li> <li>Design Database Schema: Finalize PostgreSQL schema</li> <li>Plan Cutover: Detailed cutover planning</li> <li>Execute Migration: Begin migration process</li> </ol>"},{"location":"modernization-strategy/04-data-migration-strategy/data-migration-strategy/#document-references","title":"Document References","text":"<ul> <li>Target Architecture: <code>../03-target-state-architecture/</code></li> <li>Application Modernization: <code>../05-application-modernization/</code></li> <li>Phased Delivery Plan: <code>../11-phased-delivery-plan/</code></li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/","title":"Application Modernization Plan","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#overview","title":"Overview","text":"<p>This document provides a comprehensive module-by-module plan for modernizing the BAITIN Trading Management System. Each module is analyzed for current functionality, target functionality, forms/screens to rebuild, business logic to migrate, and dependencies. This plan ensures 100% feature parity while identifying opportunities for enhancement.</p>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#modernization-approach","title":"Modernization Approach","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#principles","title":"Principles","text":"<ol> <li>Feature Parity First: Maintain all existing functionality</li> <li>Enhancement Opportunities: Identify and prioritize enhancements</li> <li>Incremental Delivery: Module-by-module modernization</li> <li>User-Centric: Prioritize user experience improvements</li> <li>Data Integrity: Maintain data relationships and business rules</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-priority","title":"Module Priority","text":"<ol> <li>Phase 1 (PoC): Master Data, Order Enquiry (core)</li> <li>Phase 2 (MVP): Order Enquiry (complete), Order Confirmation, Contract</li> <li>Phase 3 (Full): Shipping Order, Delivery Note, Invoice, Enquiry, Reporting</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-1-file-management-master-data","title":"Module 1: File Management (Master Data)","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms","title":"Forms","text":"<ul> <li><code>iitem</code> - Input Item</li> <li><code>icustom</code> - Customer</li> <li><code>ivendor</code> - Vendor</li> <li><code>iuser</code> - User Account</li> <li><code>ipara2</code> - Company Info</li> <li><code>isuspended_item</code> - Suspended Item</li> <li>Various enquiry forms</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs","title":"Programs","text":"<ul> <li><code>xitem.prg</code> - Item import</li> <li><code>xcustom.prg</code> - Customer import</li> <li><code>xvendor.prg</code> - Vendor import</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables","title":"Tables","text":"<ul> <li><code>mitem</code> - Item Master</li> <li><code>mitemmftr</code> - Item Manufacturer</li> <li><code>mitemven</code> - Item Vendor</li> <li><code>mprodbom</code> - Product BOM</li> <li><code>mcustom</code> - Customer Master</li> <li><code>mvendor</code> - Vendor Master</li> <li><code>zmftr</code> - Manufacturer</li> <li>Reference tables (zstdcode, zorigin, etc.)</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features","title":"Features","text":"<ul> <li>Item Management:</li> <li>Create, edit, view, delete items</li> <li>Item lookup/search (type-to-search)</li> <li>Item list with filtering</li> <li>Item import/export</li> <li>BOM management</li> <li> <p>Item manufacturer/vendor relationships</p> </li> <li> <p>Customer Management:</p> </li> <li>Create, edit, view, delete customers</li> <li>Customer lookup/search</li> <li>Customer list with filtering</li> <li> <p>Customer import/export</p> </li> <li> <p>Vendor Management:</p> </li> <li>Create, edit, view, delete vendors</li> <li>Vendor lookup/search</li> <li>Vendor list with filtering</li> <li> <p>Vendor import/export</p> </li> <li> <p>User Management:</p> </li> <li>Create, edit, view, delete users</li> <li>Role assignment (SUPERVISOR/REGULAR_USER)</li> <li>Password management</li> <li> <p>User activity tracking</p> </li> <li> <p>System Configuration:</p> </li> <li>Company information</li> <li>System parameters</li> <li>Reference data management</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build","title":"Screens to Build","text":"<ol> <li>Item Entry Screen:</li> <li>Header form (Item No, Description, Standard Code, etc.)</li> <li>Tab sections (Pricing, Dimensions, Packaging, BOM, etc.)</li> <li> <p>Related data (Manufacturers, Vendors)</p> </li> <li> <p>Item List Screen:</p> </li> <li>Search/filter grid</li> <li>Quick actions (Edit, Delete, View)</li> <li> <p>Export functionality</p> </li> <li> <p>Customer Entry Screen:</p> </li> <li>Customer form</li> <li>Shipping parameters</li> <li> <p>Notes/remarks</p> </li> <li> <p>Customer List Screen:</p> </li> <li>Search/filter grid</li> <li> <p>Quick actions</p> </li> <li> <p>Vendor Entry Screen:</p> </li> <li>Vendor form</li> <li>Payment terms</li> <li> <p>Contact information</p> </li> <li> <p>Vendor List Screen:</p> </li> <li>Search/filter grid</li> <li> <p>Quick actions</p> </li> <li> <p>User Management Screen:</p> </li> <li>User list</li> <li>User entry form</li> <li> <p>Role assignment</p> </li> <li> <p>System Configuration Screen:</p> </li> <li>Company information</li> <li>System parameters</li> <li>Reference data</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate","title":"Business Logic to Migrate","text":"<ul> <li>Item validation rules</li> <li>Customer validation rules</li> <li>Vendor validation rules</li> <li>BOM calculation logic</li> <li>Import/export logic</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies","title":"Dependencies","text":"<ul> <li>Prerequisites: None (foundational module)</li> <li>Used By: All transaction modules</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#enhancement-opportunities","title":"Enhancement Opportunities","text":"<ul> <li>Bulk Operations: Bulk edit, bulk import</li> <li>Advanced Search: Full-text search, advanced filters</li> <li>Data Validation: Enhanced validation rules</li> <li>Audit Trail: Complete audit logging</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-2-order-enquiry-oe","title":"Module 2: Order Enquiry (OE)","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_1","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_1","title":"Forms","text":"<ul> <li><code>ioectrl</code> - Input OE Control File</li> <li><code>ioe1@</code> - Input OE (New)</li> <li><code>uoexls</code> - Import OE from Excel</li> <li><code>uoexls_2013</code> - Import OE (2013 CSV) - 1,747 lines</li> <li><code>uoexls_2013_xls</code> - Import OE (2013 XLS)</li> <li><code>unewoexls</code> - Import OE (New Format)</li> <li><code>uwalxls</code> - Import OE (Walmart)</li> <li><code>uoexls2</code> - Import OE (Multi Item Block)</li> <li><code>iqtybrk2</code> - Input Qty Breakdown</li> <li><code>uqty_breakdown</code> - Import Qty Breakdown</li> <li>Various enquiry/print forms</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_1","title":"Programs","text":"<ul> <li><code>uoexls_2013.prg</code> - Excel import (1,747 lines - most complex)</li> <li><code>uoexls.prg</code> - Standard Excel import</li> <li><code>unewoexls.prg</code> - New format import</li> <li><code>uwalxls.prg</code> - Walmart format</li> <li><code>uqty_breakdown.prg</code> - Qty breakdown import</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables_1","title":"Tables","text":"<ul> <li><code>moehd</code> - OE Header</li> <li><code>moe</code> - OE Detail</li> <li><code>moectrl</code> - OE Control</li> <li><code>mqtybrk</code> - Quantity Breakdown</li> <li><code>moebom</code> - OE BOM</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_1","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_1","title":"Features","text":"<ul> <li>OE Control:</li> <li>Create, edit, view OE Control records</li> <li>Search/filter OE Control</li> <li> <p>Validation (OE No, Customer, Date)</p> </li> <li> <p>OE Manual Entry:</p> </li> <li>Header form (OE No, Date, Customer, PO No)</li> <li>Detail grid (Item, Qty, Price, Total)</li> <li>Item lookup with auto-fill</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>OE Excel Import:</p> </li> <li>Multiple format support (Standard, Walmart, CSV, 2013, etc.)</li> <li>File upload</li> <li>Field mapping (auto-detect + manual)</li> <li>Data validation</li> <li>Error reporting</li> <li> <p>Import execution</p> </li> <li> <p>Quantity Breakdown:</p> </li> <li>Manual entry (by size/color/style/port)</li> <li>Excel import</li> <li> <p>Validation (totals match item quantity)</p> </li> <li> <p>BOM Processing:</p> </li> <li>Automatic BOM expansion</li> <li>BOM quantity calculations</li> <li> <p>Sub-item creation</p> </li> <li> <p>OE Enquiry:</p> </li> <li>Search/filter OEs</li> <li>View OE details</li> <li>OE reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_1","title":"Screens to Build","text":"<ol> <li>OE Control Entry Screen:</li> <li>OE Control form</li> <li>Validation</li> <li> <p>Search functionality</p> </li> <li> <p>OE Entry Screen:</p> </li> <li>Header form</li> <li>Detail grid (Excel-like)</li> <li>Item lookup</li> <li>Auto-save indicator</li> <li> <p>Validation messages</p> </li> <li> <p>OE Excel Import Screen:</p> </li> <li>File upload</li> <li>Format selection</li> <li>Field mapping</li> <li>Preview</li> <li>Validation</li> <li>Import execution</li> <li> <p>Error reporting</p> </li> <li> <p>Quantity Breakdown Screen:</p> </li> <li>Breakdown entry form/grid</li> <li>Excel import</li> <li> <p>Validation</p> </li> <li> <p>OE Enquiry List Screen:</p> </li> <li>Search/filter grid</li> <li>View details</li> <li> <p>Export</p> </li> <li> <p>OE Detail View Screen:</p> </li> <li>Header information</li> <li>Detail grid</li> <li>Quantity breakdown</li> <li>BOM items</li> <li>Related documents</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_1","title":"Business Logic to Migrate","text":"<ul> <li>Excel Import Logic:</li> <li>Dynamic field detection (from <code>uoexls_2013.prg</code>)</li> <li>Field mapping</li> <li>Data validation</li> <li>BOM processing</li> <li> <p>Quantity breakdown processing</p> </li> <li> <p>Validation Rules:</p> </li> <li>OE Control validation</li> <li>Customer validation</li> <li>Item validation</li> <li> <p>Quantity validation</p> </li> <li> <p>BOM Calculations:</p> </li> <li>BOM quantity calculations</li> <li>Sub-item creation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_1","title":"Dependencies","text":"<ul> <li>Prerequisites: Master Data (Items, Customers)</li> <li>Used By: Order Confirmation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#enhancement-opportunities_1","title":"Enhancement Opportunities","text":"<ul> <li>Improved Excel Import:</li> <li>Better error messages</li> <li>Interactive field mapping</li> <li>Preview before import</li> <li> <p>Batch import</p> </li> <li> <p>Enhanced Validation:</p> </li> <li>Real-time validation</li> <li>Better error messages</li> <li> <p>Validation rules configuration</p> </li> <li> <p>Workflow:</p> </li> <li>Draft/Save workflow</li> <li>Approval workflow (future)</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-3-order-confirmation-oc","title":"Module 3: Order Confirmation (OC)","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_2","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_2","title":"Forms","text":"<ul> <li><code>upostoe</code> - Post OE/Post OC</li> <li><code>iordhd</code> - Input Order Confirmation</li> <li><code>iorddt1</code>, <code>iorddt2</code> - OC Detail Entry</li> <li><code>pconfirm</code> - Print Order Confirmation</li> <li><code>pocbrk</code> - Print OC Qty Breakdown</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_2","title":"Programs","text":"<ul> <li><code>uordcont.prg</code> - Update OC/Contract</li> <li><code>uworderconf.prg</code> - Order confirmation processing</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables_2","title":"Tables","text":"<ul> <li><code>mordhd</code> - OC Header</li> <li><code>morddt</code> - OC Detail</li> <li><code>mordadj</code> - Order Adjustment</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_2","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_2","title":"Features","text":"<ul> <li>Post OE to OC:</li> <li>Select OE to post</li> <li>Validation</li> <li>Create OC from OE</li> <li>BOM processing</li> <li> <p>Status update</p> </li> <li> <p>OC Entry:</p> </li> <li>Header form (OC No, Date, Customer)</li> <li>Detail grid</li> <li>Item lookup</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>OC Enquiry:</p> </li> <li>Search/filter OCs</li> <li>View OC details</li> <li>OC reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_2","title":"Screens to Build","text":"<ol> <li>Post OE to OC Screen:</li> <li>OE selection</li> <li>Preview</li> <li>Post execution</li> <li> <p>Results</p> </li> <li> <p>OC Entry Screen:</p> </li> <li>Header form</li> <li>Detail grid</li> <li>Item lookup</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>OC Enquiry List Screen:</p> </li> <li>Search/filter grid</li> <li>View details</li> <li> <p>Export</p> </li> <li> <p>OC Detail View Screen:</p> </li> <li>Header information</li> <li>Detail grid</li> <li>Related OE</li> <li>Related Contracts</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_2","title":"Business Logic to Migrate","text":"<ul> <li>Post OE Logic:</li> <li>Copy OE to OC</li> <li>BOM quantity calculations</li> <li> <p>Status updates</p> </li> <li> <p>Validation Rules:</p> </li> <li>OC validation</li> <li>Item validation</li> <li>Quantity validation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_2","title":"Dependencies","text":"<ul> <li>Prerequisites: Order Enquiry</li> <li>Used By: Contract</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#enhancement-opportunities_2","title":"Enhancement Opportunities","text":"<ul> <li>Workflow:</li> <li>Approval workflow</li> <li> <p>Status tracking</p> </li> <li> <p>Integration:</p> </li> <li>Email notifications</li> <li>Document generation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-4-contract","title":"Module 4: Contract","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_3","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_3","title":"Forms","text":"<ul> <li><code>isetcont@@_2018</code> - Input Contract</li> <li><code>iconthd_2018</code> - Contract Header</li> <li><code>icontdt_2018</code> - Contract Detail</li> <li><code>pcontract@_2018</code> - Print Contract</li> <li><code>pcontbrk</code> - Print Contract Qty Breakdown</li> <li><code>pcontamdrmk</code> - Print Contract Amendment</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_3","title":"Programs","text":"<ul> <li><code>uordcont.prg</code> - Update OC/Contract</li> <li><code>uwcontract.prg</code> - Contract generation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables_3","title":"Tables","text":"<ul> <li><code>mconthd</code> - Contract Header</li> <li><code>mcontdt</code> - Contract Detail</li> <li><code>mcontamdrmk</code> - Contract Amendment Remark</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_3","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_3","title":"Features","text":"<ul> <li>Generate Contract from OC:</li> <li>Select OC</li> <li>Group by vendor</li> <li>Generate contracts</li> <li> <p>Payment terms</p> </li> <li> <p>Contract Entry:</p> </li> <li>Header form (Contract No, Vendor, Date)</li> <li>Detail grid</li> <li>Payment terms</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>Contract Amendment:</p> </li> <li>Amendment entry</li> <li>Amendment tracking</li> <li> <p>Amendment reports</p> </li> <li> <p>Contract Enquiry:</p> </li> <li>Search/filter contracts</li> <li>View contract details</li> <li>Contract reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_3","title":"Screens to Build","text":"<ol> <li>Generate Contract Screen:</li> <li>OC selection</li> <li>Vendor grouping</li> <li>Preview</li> <li> <p>Generate execution</p> </li> <li> <p>Contract Entry Screen:</p> </li> <li>Header form</li> <li>Detail grid</li> <li>Payment terms</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>Contract Amendment Screen:</p> </li> <li>Amendment entry</li> <li> <p>Amendment tracking</p> </li> <li> <p>Contract Enquiry List Screen:</p> </li> <li>Search/filter grid</li> <li>View details</li> <li> <p>Export</p> </li> <li> <p>Contract Detail View Screen:</p> </li> <li>Header information</li> <li>Detail grid</li> <li>Related OC</li> <li>Amendments</li> <li>Related SOs</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_3","title":"Business Logic to Migrate","text":"<ul> <li>Contract Generation:</li> <li>Vendor grouping</li> <li>Contract creation</li> <li> <p>BOM processing</p> </li> <li> <p>Validation Rules:</p> </li> <li>Contract validation</li> <li>Payment terms validation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_3","title":"Dependencies","text":"<ul> <li>Prerequisites: Order Confirmation</li> <li>Used By: Shipping Order</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#enhancement-opportunities_3","title":"Enhancement Opportunities","text":"<ul> <li>Workflow:</li> <li>Approval workflow</li> <li> <p>Status tracking</p> </li> <li> <p>Integration:</p> </li> <li>Email to vendors</li> <li>Document generation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-5-shipping-order-so","title":"Module 5: Shipping Order (SO)","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_4","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_4","title":"Forms","text":"<ul> <li><code>isetso</code> - Input Shipping Order</li> <li><code>isetsodt</code> - SO Detail</li> <li><code>pso</code> - Print Shipping Order</li> <li><code>isoformat</code> - Input SO Format</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_4","title":"Programs","text":"<ul> <li><code>pso.prg</code> - SO printing</li> <li><code>xpostozso.prg</code> - Post to SO</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables_4","title":"Tables","text":"<ul> <li><code>mso</code> - Shipping Order</li> <li><code>zsoformat</code> - SO Format configuration</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_4","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_4","title":"Features","text":"<ul> <li>SO Creation:</li> <li>Create from contracts/OCs</li> <li>SO entry</li> <li> <p>Customizable formats per customer</p> </li> <li> <p>SO Entry:</p> </li> <li>Header form</li> <li>Detail grid</li> <li>Format configuration</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>SO Enquiry:</p> </li> <li>Search/filter SOs</li> <li>View SO details</li> <li>SO reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_4","title":"Screens to Build","text":"<ol> <li>SO Entry Screen:</li> <li>Header form</li> <li>Detail grid</li> <li>Format selection</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>SO Format Configuration Screen:</p> </li> <li>Format editor</li> <li> <p>Customer assignment</p> </li> <li> <p>SO Enquiry List Screen:</p> </li> <li>Search/filter grid</li> <li>View details</li> <li> <p>Export</p> </li> <li> <p>SO Detail View Screen:</p> </li> <li>Header information</li> <li>Detail grid</li> <li>Related contracts</li> <li>Related DNs</li> <li>Related Invoices</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_4","title":"Business Logic to Migrate","text":"<ul> <li>SO Creation Logic:</li> <li>Create from contracts</li> <li> <p>Format application</p> </li> <li> <p>Validation Rules:</p> </li> <li>SO validation</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_4","title":"Dependencies","text":"<ul> <li>Prerequisites: Contract</li> <li>Used By: Delivery Note, Invoice</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-6-delivery-note-dn","title":"Module 6: Delivery Note (DN)","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_5","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_5","title":"Forms","text":"<ul> <li><code>idn</code> - Input D/N</li> <li><code>idnbrk</code> - DN Breakdown</li> <li><code>iload</code> - Input Loading Master</li> <li><code>isetla</code> - Input Loading Advice</li> <li><code>pla</code> - Print Loading Advice</li> <li><code>pdnorg</code> - Print D/N Original List</li> <li><code>pdn_xls</code> - Create D/N Excel File</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_5","title":"Programs","text":"<ul> <li>DN processing programs</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables_5","title":"Tables","text":"<ul> <li><code>mdnhd</code> - DN Header</li> <li><code>mdndt</code> - DN Detail</li> <li><code>mdnbrk</code> - DN Breakdown</li> <li><code>mlahd</code> - Loading Advice Header</li> <li><code>mladt</code> - Loading Advice Detail</li> <li><code>mload</code> - Loading Master</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_5","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_5","title":"Features","text":"<ul> <li>DN Creation:</li> <li>Create from SO</li> <li>DN entry</li> <li> <p>DN breakdown</p> </li> <li> <p>Loading Management:</p> </li> <li>Loading master</li> <li>Loading advice</li> <li> <p>Loading reports</p> </li> <li> <p>DN Enquiry:</p> </li> <li>Search/filter DNs</li> <li>View DN details</li> <li>DN reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_5","title":"Screens to Build","text":"<ol> <li>DN Entry Screen:</li> <li>Header form</li> <li>Detail grid</li> <li>Breakdown grid</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>Loading Master Screen:</p> </li> <li>Loading entry</li> <li> <p>Loading tracking</p> </li> <li> <p>Loading Advice Screen:</p> </li> <li>Loading advice entry</li> <li> <p>Loading advice reports</p> </li> <li> <p>DN Enquiry List Screen:</p> </li> <li>Search/filter grid</li> <li>View details</li> <li>Export</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_5","title":"Business Logic to Migrate","text":"<ul> <li>DN Creation Logic:</li> <li>Create from SO</li> <li> <p>Breakdown processing</p> </li> <li> <p>Loading Logic:</p> </li> <li>Loading master</li> <li>Loading advice</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_5","title":"Dependencies","text":"<ul> <li>Prerequisites: Shipping Order</li> <li>Used By: Invoice</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-7-invoice","title":"Module 7: Invoice","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_6","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_6","title":"Forms","text":"<ul> <li><code>iinvhd@</code> - Input Invoice (New)</li> <li><code>iinvdt2@</code> - Invoice Detail (New)</li> <li><code>pinv@</code> - Print Invoice (New)</li> <li><code>ppacklist_new</code> - Print Packing List (New)</li> <li><code>ppacklist_xls</code> - Print Packing List to XLS</li> <li><code>ppacklist_xls_spencer</code> - Packing List (Spencer Format)</li> <li><code>pinv_xls</code> - Print Invoice to XLS</li> <li><code>pshadvice</code> - Print Shipment Advice</li> <li><code>pdebitnote</code> - Print Debit Note</li> <li><code>einvoice</code> - Enquiry By Invoice</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_6","title":"Programs","text":"<ul> <li><code>pinv.prg</code> - Invoice printing logic</li> <li><code>ppacklist1_new.prg</code> - Packing list</li> <li><code>uwinv.prg</code> - Invoice processing</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#tables_6","title":"Tables","text":"<ul> <li><code>minvhd</code> - Invoice Header</li> <li><code>minvdt</code> - Invoice Detail</li> <li><code>minvadj</code> - Invoice Adjustment</li> <li><code>minvbd</code> - Invoice Breakdown</li> <li><code>minvqtybrk</code> - Invoice Quantity Breakdown</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_6","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_6","title":"Features","text":"<ul> <li>Invoice Creation:</li> <li>Create from SO/DN</li> <li>Invoice entry</li> <li> <p>Multi-page invoice support</p> </li> <li> <p>Packing List:</p> </li> <li>Packing list generation</li> <li>Multiple formats</li> <li> <p>Excel export</p> </li> <li> <p>Invoice Enquiry:</p> </li> <li>Search/filter invoices</li> <li>View invoice details</li> <li>Invoice reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_6","title":"Screens to Build","text":"<ol> <li>Invoice Entry Screen:</li> <li>Header form</li> <li>Detail grid</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>Packing List Screen:</p> </li> <li>Packing list generation</li> <li>Format selection</li> <li> <p>Export</p> </li> <li> <p>Invoice Enquiry List Screen:</p> </li> <li>Search/filter grid</li> <li>View details</li> <li> <p>Export</p> </li> <li> <p>Invoice Detail View Screen:</p> </li> <li>Header information</li> <li>Detail grid</li> <li>Related SO/DN</li> <li>Packing list</li> <li>Payment status</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_6","title":"Business Logic to Migrate","text":"<ul> <li>Invoice Creation Logic:</li> <li>Create from SO/DN</li> <li> <p>Multi-page logic</p> </li> <li> <p>Packing List Logic:</p> </li> <li>Packing list generation</li> <li>Format application</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_6","title":"Dependencies","text":"<ul> <li>Prerequisites: Shipping Order, Delivery Note</li> <li>Used By: Reporting</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-8-enquiry","title":"Module 8: Enquiry","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_7","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#forms_7","title":"Forms","text":"<ul> <li>Various enquiry forms for sales analysis, item enquiry, SO enquiry, etc.</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#programs_7","title":"Programs","text":"<ul> <li>Enquiry processing programs</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_7","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_7","title":"Features","text":"<ul> <li>Sales Analysis:</li> <li>By customer, item, date</li> <li>Various analysis views</li> <li> <p>Export functionality</p> </li> <li> <p>Item Enquiry:</p> </li> <li>Item search</li> <li>Item details</li> <li> <p>Item history</p> </li> <li> <p>SO Enquiry:</p> </li> <li>SO search</li> <li>SO details</li> <li> <p>SO status</p> </li> <li> <p>Summary Enquiries:</p> </li> <li>Various summary views</li> <li>Export functionality</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_7","title":"Screens to Build","text":"<ol> <li>Sales Analysis Screen:</li> <li>Filter options</li> <li>Analysis grid/charts</li> <li> <p>Export</p> </li> <li> <p>Item Enquiry Screen:</p> </li> <li>Search</li> <li>Item details</li> <li> <p>Item history</p> </li> <li> <p>SO Enquiry Screen:</p> </li> <li>Search</li> <li>SO details</li> <li>SO status</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_7","title":"Business Logic to Migrate","text":"<ul> <li>Analysis Logic:</li> <li>Sales analysis calculations</li> <li>Summary calculations</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_7","title":"Dependencies","text":"<ul> <li>Prerequisites: All transaction modules</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#module-9-reporting","title":"Module 9: Reporting","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#current-state_8","title":"Current State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#reports","title":"Reports","text":"<ul> <li>116+ reports (.frx files)</li> <li>Various report types (transaction, summary, analysis, export)</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#target-state_8","title":"Target State","text":""},{"location":"modernization-strategy/05-application-modernization/application-modernization/#features_8","title":"Features","text":"<ul> <li>Report Generation:</li> <li>On-demand report generation</li> <li>Scheduled reports</li> <li> <p>Report export (PDF, Excel)</p> </li> <li> <p>Report Types:</p> </li> <li>Transaction reports (OE, OC, Contract, SO, DN, Invoice)</li> <li>Summary reports</li> <li>Analysis reports</li> <li>Export reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#screens-to-build_8","title":"Screens to Build","text":"<ol> <li>Report Selection Screen:</li> <li>Report categories</li> <li>Report list</li> <li> <p>Report parameters</p> </li> <li> <p>Report Generation Screen:</p> </li> <li>Parameter entry</li> <li>Report preview</li> <li>Export options</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#business-logic-to-migrate_8","title":"Business Logic to Migrate","text":"<ul> <li>Report Logic:</li> <li>All 116+ report definitions</li> <li>Report formatting</li> <li>Export logic</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#dependencies_8","title":"Dependencies","text":"<ul> <li>Prerequisites: All modules</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#enhancement-opportunities_4","title":"Enhancement Opportunities","text":"<ul> <li>Modern Reporting:</li> <li>Interactive dashboards</li> <li>Real-time reports</li> <li>Scheduled email reports</li> </ul>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#summary","title":"Summary","text":"<p>The application modernization plan provides a comprehensive module-by-module approach to modernizing the BAITIN system. Each module is analyzed for current functionality, target functionality, and implementation requirements. The plan ensures 100% feature parity while identifying enhancement opportunities.</p>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#next-steps","title":"Next Steps","text":"<ol> <li>Prioritize Modules: Finalize module priority based on business needs</li> <li>Detailed Design: Create detailed designs for each module</li> <li>Begin Development: Start with PoC modules</li> <li>Iterate: Continuous development and refinement</li> </ol>"},{"location":"modernization-strategy/05-application-modernization/application-modernization/#document-references","title":"Document References","text":"<ul> <li>Phased Delivery Plan: <code>../11-phased-delivery-plan/</code></li> <li>PoC Strategy: <code>../15-poc-strategy/</code></li> <li>UX/UI Strategy: <code>../06-ux-ui-strategy/</code></li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/","title":"UX/UI Strategy","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#overview","title":"Overview","text":"<p>This document defines the user experience and user interface strategy for the modernized BAITIN system. The primary goal is to deliver a Windows-like fast input experience in a web application, with keyboard-first navigation, shortcuts, and automatic field progression that users are accustomed to in desktop applications.</p>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#ux-principles","title":"UX Principles","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#1-keyboard-first-design","title":"1. Keyboard-First Design","text":"<ul> <li>Primary Input Method: Keyboard, not mouse</li> <li>Shortcuts: Global shortcuts for all major actions</li> <li>Navigation: Tab/Enter navigation between fields</li> <li>Type-to-Search: Instant search in lookups</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#2-fast-data-entry","title":"2. Fast Data Entry","text":"<ul> <li>Auto-Advance: Automatic focus to next field on Enter</li> <li>Auto-Complete: Smart autocomplete for codes and names</li> <li>Inline Validation: Real-time validation without blocking</li> <li>Bulk Operations: Copy/paste, multi-row operations</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#3-excel-like-grid-experience","title":"3. Excel-Like Grid Experience","text":"<ul> <li>Grid Navigation: Arrow keys, Tab, Enter navigation</li> <li>Copy/Paste: Excel-style copy/paste support</li> <li>Multi-Select: Shift/Ctrl for multi-row selection</li> <li>Inline Editing: Direct cell editing</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#4-minimal-latency","title":"4. Minimal Latency","text":"<ul> <li>Client-Side Validation: Instant feedback</li> <li>Optimistic Updates: Update UI immediately, sync later</li> <li>Debounced Search: Fast search without lag</li> <li>Cached Lookups: Master data cached for instant access</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#5-error-prevention","title":"5. Error Prevention","text":"<ul> <li>Inline Validation: Show errors as user types</li> <li>Smart Defaults: Pre-fill common values</li> <li>Confirmation Dialogs: Only for destructive actions</li> <li>Undo/Redo: Support undo for data entry</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#6-consistency","title":"6. Consistency","text":"<ul> <li>Pattern Reuse: Same patterns across all screens</li> <li>Shortcut Consistency: Same shortcuts for same actions</li> <li>Layout Consistency: Consistent form layouts</li> <li>Terminology: Consistent terminology throughout</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#design-system","title":"Design System","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#component-library","title":"Component Library","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#input-components","title":"Input Components","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#text-input","title":"Text Input","text":"<ul> <li>Keyboard: Tab to focus, Enter to submit/next</li> <li>Auto-Advance: Move to next field on Enter (if valid)</li> <li>Validation: Show error inline, don't block typing</li> <li>Autocomplete: Show suggestions as user types</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#number-input","title":"Number Input","text":"<ul> <li>Formatting: Auto-format on blur (e.g., 1000 \u2192 1,000.00)</li> <li>Validation: Real-time validation (min/max, decimals)</li> <li>Keyboard: Arrow keys for increment/decrement</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#date-input","title":"Date Input","text":"<ul> <li>Format: Consistent date format (MM/DD/YYYY)</li> <li>Keyboard: Type date directly or use date picker</li> <li>Shortcuts: Today (T), Clear (C)</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#lookupselect","title":"Lookup/Select","text":"<ul> <li>Type-to-Search: Instant search as user types</li> <li>Keyboard: Arrow keys to navigate, Enter to select</li> <li>Display: Show code and description</li> <li>Recent: Show recently used items first</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#data-grid-component","title":"Data Grid Component","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#ag-grid-enterprise-features","title":"AG Grid Enterprise Features","text":"<ul> <li>Keyboard Navigation:</li> <li>Arrow keys: Move between cells</li> <li>Tab/Enter: Move to next cell</li> <li>Shift+Tab: Move to previous cell</li> <li>Ctrl+C/Ctrl+V: Copy/paste</li> <li>Ctrl+A: Select all</li> <li>F2: Edit cell</li> <li> <p>Escape: Cancel edit</p> </li> <li> <p>Excel-Like Features:</p> </li> <li>Copy/paste from Excel</li> <li>Multi-row selection</li> <li>Inline editing</li> <li>Auto-save on cell change</li> <li> <p>Row-level validation</p> </li> <li> <p>Performance:</p> </li> <li>Virtual scrolling for large datasets</li> <li>Lazy loading</li> <li>Client-side filtering/sorting</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#form-layout","title":"Form Layout","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#standard-form-pattern","title":"Standard Form Pattern","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Header Section                          \u2502\n\u2502 [Field 1] [Field 2] [Field 3]         \u2502\n\u2502                                         \u2502\n\u2502 Detail Grid Section                     \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Item | Qty | Price | Total | ...   \u2502 \u2502\n\u2502 \u2502 [Grid with keyboard navigation]     \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                         \u2502\n\u2502 Footer Section                          \u2502\n\u2502 [Save] [Cancel] [Print] [Export]      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#field-layout-rules","title":"Field Layout Rules","text":"<ul> <li>Grouping: Related fields grouped together</li> <li>Labels: Clear, concise labels</li> <li>Placeholders: Helpful placeholder text</li> <li>Help Text: Contextual help available</li> <li>Errors: Inline error messages</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#color-scheme","title":"Color Scheme","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#primary-colors","title":"Primary Colors","text":"<ul> <li>Primary: Indigo/Blue (matches current system)</li> <li>Secondary: Gray for secondary actions</li> <li>Success: Green for success messages</li> <li>Error: Red for errors</li> <li>Warning: Orange for warnings</li> <li>Info: Blue for informational messages</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#accessibility","title":"Accessibility","text":"<ul> <li>Contrast: WCAG AA compliance (4.5:1 contrast ratio)</li> <li>Color Blind: Don't rely solely on color</li> <li>Focus Indicators: Clear focus indicators</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#typography","title":"Typography","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#font-family","title":"Font Family","text":"<ul> <li>Primary: System font stack (fast rendering)</li> <li>Monospace: For codes, numbers</li> <li>Sizes: 14px base, 12px small, 16px large</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#hierarchy","title":"Hierarchy","text":"<ul> <li>Headings: Clear heading hierarchy</li> <li>Body: Readable body text</li> <li>Labels: Clear field labels</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#global-shortcuts","title":"Global Shortcuts","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#navigation","title":"Navigation","text":"<ul> <li>Alt+F: File menu</li> <li>Alt+O: Order Enquiry</li> <li>Alt+C: Order Confirmation / Contract</li> <li>Alt+S: Shipping Order</li> <li>Alt+D: Delivery Note</li> <li>Alt+I: Invoice</li> <li>Alt+E: Enquiry / Exit</li> <li>Alt+R: Report</li> <li>Alt+A: Acrobat File</li> <li>Alt+L: Logout</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#common-actions","title":"Common Actions","text":"<ul> <li>Ctrl+N: New record</li> <li>Ctrl+S: Save</li> <li>Ctrl+E: Edit</li> <li>Ctrl+D: Delete</li> <li>Ctrl+P: Print</li> <li>Ctrl+F: Find/Search</li> <li>Ctrl+Z: Undo</li> <li>Ctrl+Y: Redo</li> <li>Escape: Cancel/Close</li> <li>F1: Help</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#data-entry","title":"Data Entry","text":"<ul> <li>Enter: Submit/Next field</li> <li>Tab: Next field</li> <li>Shift+Tab: Previous field</li> <li>Arrow Keys: Navigate grid/options</li> <li>Ctrl+Enter: Save and New</li> <li>F2: Edit current cell/field</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#module-specific-shortcuts","title":"Module-Specific Shortcuts","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#order-enquiry","title":"Order Enquiry","text":"<ul> <li>Ctrl+I: Import from Excel</li> <li>Ctrl+E: Export to Excel</li> <li>F5: Refresh data</li> <li>Ctrl+B: Quantity Breakdown</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#master-data","title":"Master Data","text":"<ul> <li>Ctrl+F: Find item/customer/vendor</li> <li>Ctrl+C: Copy code</li> <li>F3: Duplicate record</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#screen-by-screen-ux-specifications","title":"Screen-by-Screen UX Specifications","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#1-login-screen","title":"1. Login Screen","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#layout","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     BAITIN Trading System          \u2502\n\u2502                                     \u2502\n\u2502     [Username Input]                \u2502\n\u2502     [Password Input]                \u2502\n\u2502     [Company Select]                \u2502\n\u2502                                     \u2502\n\u2502     [Login Button]                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-behavior","title":"Keyboard Behavior","text":"<ul> <li>Tab: Username \u2192 Password \u2192 Company \u2192 Login</li> <li>Enter: Submit login (when on Login button)</li> <li>Escape: Cancel/Close</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#validation","title":"Validation","text":"<ul> <li>Real-time: Validate as user types</li> <li>Error Display: Show error below field</li> <li>Focus: Auto-focus on username on load</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#2-order-enquiry-entry-screen","title":"2. Order Enquiry Entry Screen","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#layout_1","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Order Enquiry Entry                    [X]          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Header Section                                      \u2502\n\u2502 OE No: [____]  Date: [____]  Customer: [____]      \u2502\n\u2502 PO No: [____]  Status: [____]                       \u2502\n\u2502                                                     \u2502\n\u2502 Detail Grid                                         \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Item No \u2502 Description \u2502 Qty \u2502 Price \u2502 Total \u2502   \u2502 \u2502\n\u2502 \u2502 [____]  \u2502 [________]   \u2502 [__]\u2502 [____]\u2502 [____]\u2502   \u2502 \u2502\n\u2502 \u2502 [____]  \u2502 [________]   \u2502 [__]\u2502 [____]\u2502 [____]\u2502   \u2502 \u2502\n\u2502 \u2502 [____]  \u2502 [________]   \u2502 [__]\u2502 [____]\u2502 [____]\u2502   \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                     \u2502\n\u2502 [Save] [Cancel] [Import Excel] [Print] [Export]   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-behavior_1","title":"Keyboard Behavior","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#header-fields","title":"Header Fields","text":"<ul> <li>OE No: Tab \u2192 Date \u2192 Customer \u2192 PO No \u2192 Status</li> <li>Enter: Move to next field (if valid)</li> <li>Lookup: F2 or type to search (for Customer)</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#detail-grid","title":"Detail Grid","text":"<ul> <li>Tab/Enter: Move to next cell</li> <li>Arrow Keys: Navigate between cells</li> <li>F2: Edit current cell</li> <li>Ctrl+Enter: Add new row</li> <li>Delete: Delete selected row(s)</li> <li>Ctrl+C/Ctrl+V: Copy/paste from Excel</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#item-lookup","title":"Item Lookup","text":"<ul> <li>Type: Auto-search as user types</li> <li>Arrow Keys: Navigate suggestions</li> <li>Enter: Select item, auto-fill description, move to Qty</li> <li>Escape: Cancel lookup</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#quantity-entry","title":"Quantity Entry","text":"<ul> <li>Enter: Calculate Total, move to Price</li> <li>Auto-Calculate: Total = Qty \u00d7 Price</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#price-entry","title":"Price Entry","text":"<ul> <li>Enter: Calculate Total, move to next row Item No</li> <li>Auto-Add Row: Add new row if at last row</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#validation_1","title":"Validation","text":"<ul> <li>Item No: Validate exists, show error if not found</li> <li>Qty: Must be &gt; 0, show error if invalid</li> <li>Price: Must be &gt;= 0, show error if invalid</li> <li>Total: Auto-calculated, read-only</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#auto-save","title":"Auto-Save","text":"<ul> <li>Trigger: Auto-save on field blur or every 30 seconds</li> <li>Indicator: Show \"Saving...\" / \"Saved\" indicator</li> <li>Error: Show error if save fails, allow retry</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#3-master-data-entry-itemcustomervendor","title":"3. Master Data Entry (Item/Customer/Vendor)","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#layout_2","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Item Entry                            [X]           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Item No: [____]  [Find]                            \u2502\n\u2502 Description: [________________________________]     \u2502\n\u2502 Standard Code: [____]  Origin: [____]               \u2502\n\u2502 Price: [____]  Cost: [____]  Unit: [____]           \u2502\n\u2502                                                     \u2502\n\u2502 [Additional Fields...]                              \u2502\n\u2502                                                     \u2502\n\u2502 [Save] [Cancel] [New] [Delete] [Print]             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-behavior_2","title":"Keyboard Behavior","text":"<ul> <li>Tab: Navigate through fields</li> <li>Enter: Move to next field (if valid)</li> <li>F2: Find/Lookup (opens search dialog)</li> <li>Ctrl+S: Save</li> <li>Ctrl+N: New record</li> <li>Ctrl+D: Delete (with confirmation)</li> <li>Escape: Cancel/Close</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#lookup-dialog","title":"Lookup Dialog","text":"<ul> <li>Type-to-Search: Instant search as user types</li> <li>Arrow Keys: Navigate results</li> <li>Enter: Select and close, populate field</li> <li>Escape: Cancel</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#4-excel-import-screen","title":"4. Excel Import Screen","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#layout_3","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Import Order Enquiry from Excel        [X]          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 [Select File] [browse...]                           \u2502\n\u2502                                                     \u2502\n\u2502 File: orders.xlsx                                  \u2502\n\u2502 Format: [Standard Format \u25bc]                         \u2502\n\u2502                                                     \u2502\n\u2502 Field Mapping                                       \u2502\n\u2502 Excel Column \u2192 System Field                         \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 ITEM \u2192 Item No                                  \u2502 \u2502\n\u2502 \u2502 QTY \u2192 Quantity                                   \u2502 \u2502\n\u2502 \u2502 PRICE \u2192 Price                                   \u2502 \u2502\n\u2502 \u2502 [Auto-detected or manual mapping]               \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                     \u2502\n\u2502 [Import] [Cancel] [Preview]                         \u2502\n\u2502                                                     \u2502\n\u2502 Progress: [\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2591\u2591] 50%                          \u2502\n\u2502 Status: Importing...                               \u2502\n\u2502                                                     \u2502\n\u2502 Results:                                            \u2502\n\u2502 \u2705 100 records imported                            \u2502\n\u2502 \u26a0\ufe0f  5 records with warnings                        \u2502\n\u2502 \u274c 2 records failed                                 \u2502\n\u2502                                                     \u2502\n\u2502 [View Errors] [Export Error Report]                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-behavior_3","title":"Keyboard Behavior","text":"<ul> <li>Tab: Navigate through controls</li> <li>Enter: Start import (when on Import button)</li> <li>Escape: Cancel/Close</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#import-process","title":"Import Process","text":"<ul> <li>Upload: Drag-drop or browse</li> <li>Auto-Detect: Auto-detect field mapping</li> <li>Preview: Show preview of first 10 rows</li> <li>Progress: Real-time progress indicator</li> <li>Results: Summary with error details</li> <li>Error Report: Export errors to Excel</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#5-enquirylist-screens","title":"5. Enquiry/List Screens","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#layout_4","title":"Layout","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Order Enquiry List                    [X]           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Filters                                             \u2502\n\u2502 OE No: [____]  Customer: [____]  Date: [____]     \u2502\n\u2502 [Search] [Clear] [Export]                          \u2502\n\u2502                                                     \u2502\n\u2502 Results Grid                                        \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 OE No \u2502 Date \u2502 Customer \u2502 Items \u2502 Status \u2502     \u2502 \u2502\n\u2502 \u2502 12345 \u2502 ...  \u2502 ABC Co   \u2502   10  \u2502 Active \u2502     \u2502 \u2502\n\u2502 \u2502 12346 \u2502 ...  \u2502 XYZ Inc  \u2502    5  \u2502 Posted \u2502     \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                                     \u2502\n\u2502 [New] [Edit] [Delete] [Print] [Export]             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-behavior_4","title":"Keyboard Behavior","text":"<ul> <li>Tab: Navigate filters</li> <li>Enter: Execute search (when on Search button)</li> <li>Arrow Keys: Navigate grid rows</li> <li>Enter: Open selected record</li> <li>Ctrl+F: Focus search/filter</li> <li>F5: Refresh data</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#grid-features","title":"Grid Features","text":"<ul> <li>Sorting: Click header to sort</li> <li>Filtering: Inline filters on columns</li> <li>Selection: Single or multi-select</li> <li>Pagination: Page through results</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#performance-targets","title":"Performance Targets","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#response-times","title":"Response Times","text":"<ul> <li>Page Load: &lt; 2 seconds (first load)</li> <li>Navigation: &lt; 500ms (between pages)</li> <li>API Response: &lt; 500ms (p95)</li> <li>Data Entry: &lt; 100ms (client-side validation)</li> <li>Lookup Search: &lt; 200ms (cached lookups)</li> <li>Excel Import: &lt; 30 seconds (1000 rows)</li> <li>Report Generation: &lt; 10 seconds (standard reports)</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#perceived-performance","title":"Perceived Performance","text":"<ul> <li>Optimistic Updates: Update UI immediately</li> <li>Loading States: Show loading indicators for &gt; 500ms operations</li> <li>Skeleton Screens: Show skeleton while loading</li> <li>Progressive Loading: Load critical content first</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#accessibility-requirements","title":"Accessibility Requirements","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#wcag-21-compliance","title":"WCAG 2.1 Compliance","text":"<ul> <li>Level: AA compliance</li> <li>Keyboard Navigation: Full keyboard accessibility</li> <li>Screen Readers: ARIA labels, semantic HTML</li> <li>Focus Indicators: Clear focus indicators</li> <li>Color Contrast: 4.5:1 contrast ratio</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#keyboard-accessibility","title":"Keyboard Accessibility","text":"<ul> <li>Tab Order: Logical tab order</li> <li>Skip Links: Skip to main content</li> <li>Focus Management: Proper focus management</li> <li>Keyboard Traps: No keyboard traps</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#user-training-and-change-management","title":"User Training and Change Management","text":""},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#training-approach","title":"Training Approach","text":"<ul> <li>Interactive Tutorials: In-app tutorials for new users</li> <li>Video Guides: Video guides for common tasks</li> <li>Quick Reference: Keyboard shortcut cheat sheet</li> <li>Contextual Help: F1 help on every screen</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#change-management","title":"Change Management","text":"<ul> <li>Phased Rollout: Gradual rollout to users</li> <li>Feedback Collection: Collect user feedback</li> <li>Iterative Improvement: Continuous UX improvements</li> <li>User Support: Dedicated support during transition</li> </ul>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#summary","title":"Summary","text":"<p>The UX/UI strategy delivers a Windows-like fast input experience in a web application. Key features include keyboard-first navigation, Excel-like grids, auto-advance fields, and minimal latency. The design system ensures consistency across all screens while maintaining accessibility and performance.</p>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#next-steps","title":"Next Steps","text":"<ol> <li>Create Design Mockups: Visual mockups for key screens</li> <li>Build Component Library: Implement reusable components</li> <li>Develop Prototype: Interactive prototype for validation</li> <li>User Testing: Test with actual users</li> <li>Iterate: Refine based on feedback</li> </ol>"},{"location":"modernization-strategy/06-ux-ui-strategy/ux-ui-strategy/#document-references","title":"Document References","text":"<ul> <li>Application Modernization: <code>../05-application-modernization/</code></li> <li>Phased Delivery Plan: <code>../11-phased-delivery-plan/</code></li> <li>PoC Strategy: <code>../15-poc-strategy/</code></li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/","title":"Security and Compliance Strategy","text":""},{"location":"modernization-strategy/07-security-compliance/security-compliance/#overview","title":"Overview","text":"<p>This document outlines the security and compliance strategy for the modernized BAITIN system, covering authentication, authorization, data security, audit logging, and compliance requirements.</p>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#security-objectives","title":"Security Objectives","text":"<ol> <li>Secure Authentication: Modern, secure authentication</li> <li>Role-Based Access Control: Fine-grained authorization  </li> <li>Data Protection: Encryption at rest and in transit</li> <li>Audit Logging: Comprehensive activity tracking</li> <li>Compliance: Meet regulatory requirements</li> </ol>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#authentication-strategy","title":"Authentication Strategy","text":""},{"location":"modernization-strategy/07-security-compliance/security-compliance/#primary-oidc-openid-connect","title":"Primary: OIDC (OpenID Connect)","text":"<ul> <li>Azure AD / Microsoft Entra ID (if available)</li> <li>Okta, Auth0, or self-hosted IdentityServer</li> <li>Enterprise SSO, MFA, password policies</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#fallback-jwt-based","title":"Fallback: JWT-Based","text":"<ul> <li>Password hashing (bcrypt/Argon2)</li> <li>JWT tokens with refresh</li> <li>Use if OIDC provider not available</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#authorization-strategy","title":"Authorization Strategy","text":""},{"location":"modernization-strategy/07-security-compliance/security-compliance/#role-based-access-control-rbac","title":"Role-Based Access Control (RBAC)","text":"<ul> <li>SUPERVISOR: Full system access</li> <li>REGULAR_USER: Limited access</li> <li>Fine-grained permissions per module/feature</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#data-security","title":"Data Security","text":""},{"location":"modernization-strategy/07-security-compliance/security-compliance/#encryption","title":"Encryption","text":"<ul> <li>At Rest: Database TDE, encrypted file storage</li> <li>In Transit: TLS 1.3 for all connections</li> <li>Sensitive Data: Encrypted columns for payment terms</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#audit-logging","title":"Audit Logging","text":""},{"location":"modernization-strategy/07-security-compliance/security-compliance/#what-to-log","title":"What to Log","text":"<ul> <li>Authentication events</li> <li>Authorization decisions</li> <li>Data changes (create, update, delete)</li> <li>System events</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#storage","title":"Storage","text":"<ul> <li>Dedicated audit log table</li> <li>7-year retention (configurable)</li> <li>SUPERVISOR-only access</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#compliance","title":"Compliance","text":""},{"location":"modernization-strategy/07-security-compliance/security-compliance/#requirements","title":"Requirements","text":"<ul> <li>Data privacy (GDPR if applicable)</li> <li>Industry standards (ISO 27001, SOC 2)</li> <li>Business requirements (audit trail, data integrity)</li> </ul>"},{"location":"modernization-strategy/07-security-compliance/security-compliance/#summary","title":"Summary","text":"<p>Comprehensive security measures including modern authentication, RBAC, encryption, audit logging, and compliance.</p>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/","title":"Integration Strategy","text":""},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#overview","title":"Overview","text":"<p>This document outlines the integration strategy for Excel import/export, PDF generation, API design, and external system integration.</p>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#excel-integration","title":"Excel Integration","text":""},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#import-strategy","title":"Import Strategy","text":"<ul> <li>Multiple Formats: Support all legacy Excel formats</li> <li>Field Mapping: Auto-detect + manual override</li> <li>Validation: Comprehensive validation with error reporting</li> <li>Processing: Server-side processing for performance</li> </ul>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#export-strategy","title":"Export Strategy","text":"<ul> <li>Reports: Export reports to Excel</li> <li>Data Export: Export transaction data</li> <li>Formats: Standard Excel formats (.xlsx)</li> </ul>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#pdf-generation","title":"PDF Generation","text":""},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#strategy","title":"Strategy","text":"<ul> <li>Server-Side: PDFSharp, iTextSharp, or Puppeteer</li> <li>Reports: All 116+ reports</li> <li>Documents: Invoices, contracts, shipping orders</li> </ul>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#api-design","title":"API Design","text":""},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#restful-api","title":"RESTful API","text":"<ul> <li>Resources: Nouns (e.g., <code>/api/order-enquiries</code>)</li> <li>HTTP Methods: GET, POST, PUT, DELETE, PATCH</li> <li>Versioning: <code>/api/v1/...</code></li> <li>Documentation: OpenAPI/Swagger</li> </ul>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#external-systems","title":"External Systems","text":""},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#future-integration-points","title":"Future Integration Points","text":"<ul> <li>ERP Systems: Potential ERP integration</li> <li>Accounting Systems: Accounting software integration</li> <li>Shipping Systems: Shipping carrier integration</li> </ul>"},{"location":"modernization-strategy/08-integration-strategy/integration-strategy/#summary","title":"Summary","text":"<p>Comprehensive integration strategy covering Excel, PDF, API, and external systems.</p>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/","title":"Reporting and Analytics Strategy","text":""},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#overview","title":"Overview","text":"<p>This document outlines the strategy for migrating 116+ reports and implementing modern reporting and analytics capabilities.</p>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#report-migration","title":"Report Migration","text":""},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#report-inventory","title":"Report Inventory","text":"<ul> <li>Total Reports: 116+ reports</li> <li>Categories:</li> <li>Transaction reports (OE, OC, Contract, SO, DN, Invoice)</li> <li>Summary reports</li> <li>Analysis reports</li> <li>Export reports</li> </ul>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#migration-approach","title":"Migration Approach","text":"<ul> <li>Prioritization: Migrate critical reports first</li> <li>Automation: Automate report generation where possible</li> <li>Format Preservation: Maintain report formats where needed</li> </ul>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#reporting-strategy","title":"Reporting Strategy","text":""},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#on-demand-reports","title":"On-Demand Reports","text":"<ul> <li>Generation: Real-time report generation</li> <li>Formats: PDF, Excel, HTML</li> <li>Performance: Optimized for speed</li> </ul>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#scheduled-reports","title":"Scheduled Reports","text":"<ul> <li>Scheduling: Configurable schedules</li> <li>Delivery: Email delivery</li> <li>Storage: Report archive</li> </ul>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#analytics","title":"Analytics","text":""},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#dashboards","title":"Dashboards","text":"<ul> <li>Sales Analytics: Sales dashboards</li> <li>Operational Metrics: Key performance indicators</li> <li>Custom Dashboards: User-configurable dashboards</li> </ul>"},{"location":"modernization-strategy/09-reporting-analytics/reporting-analytics/#summary","title":"Summary","text":"<p>Comprehensive reporting and analytics strategy covering report migration, modern reporting, and analytics capabilities.</p>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/","title":"Deployment and Operations Strategy","text":""},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#overview","title":"Overview","text":"<p>This document outlines the deployment and operations strategy including environments, CI/CD, monitoring, and disaster recovery.</p>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#environment-strategy","title":"Environment Strategy","text":""},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#environments","title":"Environments","text":"<ul> <li>Development: Local development</li> <li>Test: Integration testing</li> <li>Staging: Pre-production validation</li> <li>Production: Live system</li> </ul>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#cicd-pipeline","title":"CI/CD Pipeline","text":""},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#pipeline-stages","title":"Pipeline Stages","text":"<ul> <li>Build: Automated builds</li> <li>Test: Unit, integration, E2E tests</li> <li>Deploy: Automated deployment</li> <li>Monitor: Post-deployment monitoring</li> </ul>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#monitoring-and-alerting","title":"Monitoring and Alerting","text":""},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#monitoring","title":"Monitoring","text":"<ul> <li>Application: Application performance monitoring</li> <li>Infrastructure: Server and database monitoring</li> <li>Business: Business metrics monitoring</li> </ul>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#alerting","title":"Alerting","text":"<ul> <li>Critical: System down, data corruption</li> <li>Warning: Performance degradation, errors</li> <li>Info: Business events</li> </ul>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#backup-and-disaster-recovery","title":"Backup and Disaster Recovery","text":""},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#backup-strategy","title":"Backup Strategy","text":"<ul> <li>Database: Daily full, hourly incremental</li> <li>Files: Blob storage with versioning</li> <li>Retention: 30 days (configurable)</li> </ul>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#disaster-recovery","title":"Disaster Recovery","text":"<ul> <li>RTO: &lt; 4 hours</li> <li>RPO: &lt; 1 hour</li> <li>Procedures: Documented recovery procedures</li> </ul>"},{"location":"modernization-strategy/10-deployment-operations/deployment-operations/#summary","title":"Summary","text":"<p>Comprehensive deployment and operations strategy covering environments, CI/CD, monitoring, and disaster recovery.</p>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/","title":"Phased Delivery Plan","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#overview","title":"Overview","text":"<p>This document outlines the phased approach to modernizing the BAITIN Trading Management System. The plan is structured in 5 phases, from foundation setup through production cutover and optimization. Each phase builds upon the previous, ensuring a systematic and de-risked approach to modernization.</p>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-overview","title":"Phase Overview","text":"<pre><code>gantt\n    title Modernization Phased Delivery Plan\n    dateFormat  YYYY-MM-DD\n    section Phase 0\n    Foundation           :2025-01-01, 4w\n    section Phase 1\n    PoC                  :2025-02-01, 8w\n    section Phase 2\n    MVP                  :2025-04-01, 16w\n    section Phase 3\n    Full Feature Set     :2025-08-01, 24w\n    section Phase 4\n    Migration Cutover    :2025-12-01, 8w\n    section Phase 5\n    Optimization         :2026-01-01, 12w</code></pre>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-0-foundation-weeks-1-4","title":"Phase 0: Foundation (Weeks 1-4)","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#objectives","title":"Objectives","text":"<ul> <li>Establish development infrastructure</li> <li>Define architecture and standards</li> <li>Build core reusable components</li> <li>Set up development environment</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#deliverables","title":"Deliverables","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-1-2-infrastructure-setup","title":"Week 1-2: Infrastructure Setup","text":"<ul> <li>Development Environment:</li> <li>Set up Git repository</li> <li>Configure CI/CD pipeline</li> <li>Set up development database</li> <li> <p>Configure development tools (IDE, linters, formatters)</p> </li> <li> <p>Architecture Design:</p> </li> <li>Finalize technology stack decisions</li> <li>Design database schema (high-level)</li> <li>Define API structure</li> <li>Create architecture decision records (ADRs)</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-3-core-components-development","title":"Week 3: Core Components Development","text":"<ul> <li>Frontend Foundation:</li> <li>Set up React + TypeScript project</li> <li>Configure build tools (Vite/Webpack)</li> <li>Set up routing (React Router)</li> <li> <p>Create base layout components</p> </li> <li> <p>Backend Foundation:</p> </li> <li>Set up API project (.NET/Node.js)</li> <li>Configure database connection</li> <li>Set up authentication framework</li> <li>Create base API structure</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-4-ux-kernel-development","title":"Week 4: UX Kernel Development","text":"<ul> <li>Keyboard-First Components:</li> <li>Text input with auto-advance</li> <li>Lookup/select with type-to-search</li> <li>Data grid (AG Grid) setup</li> <li> <p>Form layout components</p> </li> <li> <p>Design System:</p> </li> <li>Color scheme</li> <li>Typography</li> <li>Component library foundation</li> <li>Style guide</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-criteria","title":"Success Criteria","text":"<ul> <li>\u2705 Development environment fully operational</li> <li>\u2705 Core components implemented and tested</li> <li>\u2705 Architecture documented</li> <li>\u2705 Team trained on standards and tools</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#risks-and-mitigation","title":"Risks and Mitigation","text":"<ul> <li>Risk: Technology stack decisions delayed</li> <li> <p>Mitigation: Early stakeholder alignment on stack</p> </li> <li> <p>Risk: Infrastructure setup takes longer than expected</p> </li> <li>Mitigation: Use cloud templates and automation</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-1-proof-of-concept-poc-weeks-5-12","title":"Phase 1: Proof of Concept (PoC) (Weeks 5-12)","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#objectives_1","title":"Objectives","text":"<ul> <li>Validate architecture and UX approach</li> <li>Demonstrate key capabilities to stakeholders</li> <li>Build confidence in modernization approach</li> <li>Identify and address early risks</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#scope","title":"Scope","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#selected-modules","title":"Selected Modules","text":"<ol> <li>Master Data Management:</li> <li>Item master (view, create, edit)</li> <li>Customer master (view, create, edit)</li> <li> <p>Vendor master (view, create, edit)</p> </li> <li> <p>Order Enquiry (OE):</p> </li> <li>OE Control (create, view, search)</li> <li>OE Manual Entry (header + detail grid)</li> <li> <p>OE Enquiry List (search, filter, view)</p> </li> <li> <p>Excel Import (Basic):</p> </li> <li>Single format Excel import</li> <li>Field mapping</li> <li>Validation and error reporting</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#deliverables_1","title":"Deliverables","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-5-6-master-data-module","title":"Week 5-6: Master Data Module","text":"<ul> <li>Item Master:</li> <li>Item entry form (keyboard-first)</li> <li>Item lookup/search</li> <li> <p>Item list with filtering</p> </li> <li> <p>Customer/Vendor Master:</p> </li> <li>Entry forms</li> <li>Lookup/search functionality</li> <li>List views</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-7-8-order-enquiry-module","title":"Week 7-8: Order Enquiry Module","text":"<ul> <li>OE Control:</li> <li>Create OE Control record</li> <li> <p>Search/view OE Control</p> </li> <li> <p>OE Entry:</p> </li> <li>Header form (OE No, Date, Customer)</li> <li>Detail grid (Item, Qty, Price)</li> <li>Item lookup with auto-fill</li> <li>Auto-save functionality</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-9-10-excel-import","title":"Week 9-10: Excel Import","text":"<ul> <li>Import Functionality:</li> <li>File upload</li> <li>Field mapping (auto-detect + manual)</li> <li>Validation</li> <li>Error reporting</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-11-12-integration-and-testing","title":"Week 11-12: Integration and Testing","text":"<ul> <li>Integration:</li> <li>Connect all modules</li> <li>End-to-end workflow testing</li> <li> <p>Performance testing</p> </li> <li> <p>Demo Preparation:</p> </li> <li>Demo script</li> <li>Demo data</li> <li>Presentation materials</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-criteria_1","title":"Success Criteria","text":"<ul> <li>\u2705 All PoC modules functional</li> <li>\u2705 UX validated with users (keyboard-first, fast input)</li> <li>\u2705 Architecture validated (performance, scalability)</li> <li>\u2705 Stakeholder buy-in achieved</li> <li>\u2705 Demo successful</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#risks-and-mitigation_1","title":"Risks and Mitigation","text":"<ul> <li>Risk: UX doesn't meet user expectations</li> <li> <p>Mitigation: Early user testing, iterative refinement</p> </li> <li> <p>Risk: Performance issues</p> </li> <li> <p>Mitigation: Performance testing, optimization</p> </li> <li> <p>Risk: Scope creep</p> </li> <li>Mitigation: Strict scope control, change management</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-2-mvp-minimum-viable-product-weeks-13-28","title":"Phase 2: MVP (Minimum Viable Product) (Weeks 13-28)","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#objectives_2","title":"Objectives","text":"<ul> <li>Deliver core workflow (OE \u2192 OC \u2192 Contract)</li> <li>Achieve feature parity for critical modules</li> <li>Enable parallel run with legacy system</li> <li>Prepare for full feature set</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#scope_1","title":"Scope","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#core-workflow-modules","title":"Core Workflow Modules","text":"<ol> <li>Order Enquiry (Complete):</li> <li>All OE features from PoC</li> <li>Additional Excel import formats</li> <li>Quantity breakdown</li> <li> <p>BOM processing</p> </li> <li> <p>Order Confirmation:</p> </li> <li>Post OE to OC</li> <li>OC entry and editing</li> <li> <p>OC enquiry and reporting</p> </li> <li> <p>Contract:</p> </li> <li>Generate contracts from OC</li> <li>Contract entry and editing</li> <li> <p>Contract enquiry and reporting</p> </li> <li> <p>Master Data (Complete):</p> </li> <li>All master data features</li> <li>BOM management</li> <li>Additional lookup tables</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#deliverables_2","title":"Deliverables","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-13-16-order-enquiry-completion","title":"Weeks 13-16: Order Enquiry Completion","text":"<ul> <li>Enhanced Features:</li> <li>Multiple Excel import formats</li> <li>Quantity breakdown entry</li> <li>BOM processing</li> <li>Advanced validation</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-17-20-order-confirmation-module","title":"Weeks 17-20: Order Confirmation Module","text":"<ul> <li>OC Features:</li> <li>Post OE to OC workflow</li> <li>OC header/detail entry</li> <li>OC enquiry and reports</li> <li>BOM quantity calculations</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-21-24-contract-module","title":"Weeks 21-24: Contract Module","text":"<ul> <li>Contract Features:</li> <li>Generate contracts from OC</li> <li>Vendor grouping</li> <li>Contract entry/editing</li> <li>Contract reports</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-25-28-integration-and-testing","title":"Weeks 25-28: Integration and Testing","text":"<ul> <li>Integration:</li> <li>End-to-end workflow (OE \u2192 OC \u2192 Contract)</li> <li>Data migration tools (for MVP data)</li> <li>User acceptance testing</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-criteria_2","title":"Success Criteria","text":"<ul> <li>\u2705 Core workflow fully functional</li> <li>\u2705 Feature parity for OE, OC, Contract modules</li> <li>\u2705 Data migration tools operational</li> <li>\u2705 User acceptance testing passed</li> <li>\u2705 Performance meets targets</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#risks-and-mitigation_2","title":"Risks and Mitigation","text":"<ul> <li>Risk: Scope expansion beyond MVP</li> <li> <p>Mitigation: Strict MVP definition, change control</p> </li> <li> <p>Risk: Data migration complexity</p> </li> <li> <p>Mitigation: Early migration tool development, testing</p> </li> <li> <p>Risk: User adoption challenges</p> </li> <li>Mitigation: Early user involvement, training</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-3-full-feature-set-weeks-29-52","title":"Phase 3: Full Feature Set (Weeks 29-52)","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#objectives_3","title":"Objectives","text":"<ul> <li>Complete all remaining modules</li> <li>Migrate all reports</li> <li>Achieve 100% feature parity</li> <li>Performance optimization</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#scope_2","title":"Scope","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#remaining-modules","title":"Remaining Modules","text":"<ol> <li>Shipping Order (SO):</li> <li>SO creation from contracts</li> <li>SO entry and editing</li> <li>SO format configuration</li> <li> <p>SO reports</p> </li> <li> <p>Delivery Note (DN):</p> </li> <li>DN creation from SO</li> <li>DN entry and editing</li> <li>Loading master/advice</li> <li> <p>DN reports</p> </li> <li> <p>Invoice:</p> </li> <li>Invoice creation from SO/DN</li> <li>Invoice entry and editing</li> <li>Packing list generation</li> <li> <p>Invoice reports</p> </li> <li> <p>Enquiry Module:</p> </li> <li>Sales analysis</li> <li>Item enquiry</li> <li>SO enquiry</li> <li> <p>Summary enquiries</p> </li> <li> <p>Reporting Module:</p> </li> <li>All 116+ reports</li> <li>Report scheduling</li> <li> <p>Report export</p> </li> <li> <p>Additional Features:</p> </li> <li>User management</li> <li>System configuration</li> <li>Audit logging</li> <li>Advanced security</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#deliverables_3","title":"Deliverables","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-29-36-shipping-and-delivery","title":"Weeks 29-36: Shipping and Delivery","text":"<ul> <li>Shipping Order:</li> <li>SO module complete</li> <li>SO format configuration</li> <li> <p>SO reports</p> </li> <li> <p>Delivery Note:</p> </li> <li>DN module complete</li> <li>Loading features</li> <li>DN reports</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-37-44-invoice-module","title":"Weeks 37-44: Invoice Module","text":"<ul> <li>Invoice Features:</li> <li>Invoice creation</li> <li>Invoice entry/editing</li> <li>Packing list</li> <li>Invoice reports</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-45-48-enquiry-and-reporting","title":"Weeks 45-48: Enquiry and Reporting","text":"<ul> <li>Enquiry Module:</li> <li>All enquiry features</li> <li> <p>Analysis reports</p> </li> <li> <p>Reporting:</p> </li> <li>Report migration</li> <li>Report scheduling</li> <li>Report export</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-49-52-finalization","title":"Weeks 49-52: Finalization","text":"<ul> <li>Integration:</li> <li>Complete end-to-end workflow</li> <li>Integration testing</li> <li>Performance optimization</li> <li>Security hardening</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-criteria_3","title":"Success Criteria","text":"<ul> <li>\u2705 All modules complete</li> <li>\u2705 100% feature parity achieved</li> <li>\u2705 All reports migrated</li> <li>\u2705 Performance optimized</li> <li>\u2705 Security hardened</li> <li>\u2705 Comprehensive testing completed</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#risks-and-mitigation_3","title":"Risks and Mitigation","text":"<ul> <li>Risk: Report migration complexity (116+ reports)</li> <li> <p>Mitigation: Prioritize reports, automate where possible</p> </li> <li> <p>Risk: Timeline pressure</p> </li> <li> <p>Mitigation: Resource allocation, scope prioritization</p> </li> <li> <p>Risk: Feature parity gaps</p> </li> <li>Mitigation: Comprehensive feature comparison, gap analysis</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-4-migration-and-cutover-weeks-53-60","title":"Phase 4: Migration and Cutover (Weeks 53-60)","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#objectives_4","title":"Objectives","text":"<ul> <li>Execute data migration</li> <li>Conduct parallel run</li> <li>Train users</li> <li>Execute production cutover</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#deliverables_4","title":"Deliverables","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-53-migration-preparation","title":"Week 53: Migration Preparation","text":"<ul> <li>Final Validation:</li> <li>Complete data validation</li> <li>Final reconciliation</li> <li> <p>User acceptance testing</p> </li> <li> <p>Preparation:</p> </li> <li>Backup legacy system</li> <li>Prepare rollback plan</li> <li>User communication</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-54-data-migration-execution","title":"Week 54: Data Migration Execution","text":"<ul> <li>Migration:</li> <li>Execute full data migration</li> <li>Validate migrated data</li> <li>Reconciliation report</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#weeks-55-58-parallel-run","title":"Weeks 55-58: Parallel Run","text":"<ul> <li>Parallel Operations:</li> <li>Run new and legacy systems in parallel</li> <li>Compare results</li> <li>Fix any issues</li> <li>User training</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-59-final-validation","title":"Week 59: Final Validation","text":"<ul> <li>Validation:</li> <li>Final data validation</li> <li>User acceptance</li> <li>Performance validation</li> <li>Security validation</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#week-60-production-cutover","title":"Week 60: Production Cutover","text":"<ul> <li>Cutover:</li> <li>Stop legacy system</li> <li>Enable new system</li> <li>Monitor and support</li> <li>Issue resolution</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-criteria_4","title":"Success Criteria","text":"<ul> <li>\u2705 Data migration successful (100% accuracy)</li> <li>\u2705 Parallel run successful</li> <li>\u2705 All users trained</li> <li>\u2705 Production cutover successful</li> <li>\u2705 Zero critical issues</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#risks-and-mitigation_4","title":"Risks and Mitigation","text":"<ul> <li>Risk: Data migration failures</li> <li> <p>Mitigation: Extensive testing, rollback plan</p> </li> <li> <p>Risk: User resistance</p> </li> <li> <p>Mitigation: Comprehensive training, support</p> </li> <li> <p>Risk: System issues during cutover</p> </li> <li>Mitigation: Monitoring, rapid response team</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-5-optimization-ongoing-weeks-61","title":"Phase 5: Optimization (Ongoing, Weeks 61+)","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#objectives_5","title":"Objectives","text":"<ul> <li>Performance optimization</li> <li>User feedback implementation</li> <li>Enhancement features</li> <li>Continuous improvement</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#focus-areas","title":"Focus Areas","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#performance-optimization","title":"Performance Optimization","text":"<ul> <li>Database:</li> <li>Query optimization</li> <li>Index tuning</li> <li> <p>Caching strategies</p> </li> <li> <p>Application:</p> </li> <li>Code optimization</li> <li>Bundle size reduction</li> <li>Lazy loading</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#user-experience","title":"User Experience","text":"<ul> <li>Feedback Implementation:</li> <li>User feedback collection</li> <li>UX improvements</li> <li>Feature enhancements</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#business-value","title":"Business Value","text":"<ul> <li>Enhancements:</li> <li>New features based on business needs</li> <li>Integration with other systems</li> <li>Mobile optimization</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-criteria_5","title":"Success Criteria","text":"<ul> <li>\u2705 Performance targets met/exceeded</li> <li>\u2705 User satisfaction high</li> <li>\u2705 Continuous improvement process established</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#timeline-summary","title":"Timeline Summary","text":"Phase Duration Start End Phase 0: Foundation 4 weeks Week 1 Week 4 Phase 1: PoC 8 weeks Week 5 Week 12 Phase 2: MVP 16 weeks Week 13 Week 28 Phase 3: Full Feature Set 24 weeks Week 29 Week 52 Phase 4: Migration Cutover 8 weeks Week 53 Week 60 Phase 5: Optimization Ongoing Week 61+ - <p>Total Timeline: ~15 months from start to production cutover</p>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#resource-requirements","title":"Resource Requirements","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#team-structure","title":"Team Structure","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-0-1-foundation-poc","title":"Phase 0-1 (Foundation + PoC)","text":"<ul> <li>Team Size: 4-6 developers</li> <li>Roles:</li> <li>1-2 Frontend developers</li> <li>1-2 Backend developers</li> <li>1 Architect</li> <li>1 QA engineer</li> <li>1 Project Manager</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-2-3-mvp-full-feature-set","title":"Phase 2-3 (MVP + Full Feature Set)","text":"<ul> <li>Team Size: 6-8 developers</li> <li>Roles:</li> <li>2-3 Frontend developers</li> <li>2-3 Backend developers</li> <li>1 Architect</li> <li>1-2 QA engineers</li> <li>1 UX Designer</li> <li>1 Project Manager</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-4-migration","title":"Phase 4 (Migration)","text":"<ul> <li>Team Size: 8-10 people</li> <li>Roles:</li> <li>Development team (as above)</li> <li>1-2 Data migration specialists</li> <li>1-2 Business analysts</li> <li>Training team</li> <li>Support team</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#dependencies","title":"Dependencies","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#critical-dependencies","title":"Critical Dependencies","text":"<ol> <li>Technology Stack Decision: Required before Phase 0</li> <li>Architecture Approval: Required before Phase 1</li> <li>PoC Success: Required before Phase 2</li> <li>Data Migration Tools: Required before Phase 4</li> <li>User Training: Required before Phase 4 cutover</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#external-dependencies","title":"External Dependencies","text":"<ol> <li>Stakeholder Availability: For reviews and approvals</li> <li>User Availability: For testing and training</li> <li>Infrastructure: Cloud resources, database setup</li> <li>Third-Party Services: Authentication provider, monitoring tools</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#risk-management","title":"Risk Management","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#high-risks","title":"High Risks","text":"<ol> <li>Timeline Pressure: 15-month timeline is aggressive</li> <li>Resource Availability: Need skilled developers</li> <li>Data Migration Complexity: 186 tables, complex relationships</li> <li>User Adoption: Change from desktop to web</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#mitigation-strategies","title":"Mitigation Strategies","text":"<ul> <li>Timeline: Phased approach allows for adjustments</li> <li>Resources: Early recruitment, training</li> <li>Data Migration: Extensive testing, parallel run</li> <li>User Adoption: Early involvement, comprehensive training</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#success-metrics","title":"Success Metrics","text":""},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-1-poc-metrics","title":"Phase 1 (PoC) Metrics","text":"<ul> <li>\u2705 PoC modules functional</li> <li>\u2705 UX validated</li> <li>\u2705 Stakeholder buy-in</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-2-mvp-metrics","title":"Phase 2 (MVP) Metrics","text":"<ul> <li>\u2705 Core workflow functional</li> <li>\u2705 Feature parity for critical modules</li> <li>\u2705 User acceptance testing passed</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-3-full-feature-set-metrics","title":"Phase 3 (Full Feature Set) Metrics","text":"<ul> <li>\u2705 100% feature parity</li> <li>\u2705 All reports migrated</li> <li>\u2705 Performance targets met</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#phase-4-cutover-metrics","title":"Phase 4 (Cutover) Metrics","text":"<ul> <li>\u2705 Data migration 100% accurate</li> <li>\u2705 Zero critical issues</li> <li>\u2705 User adoption &gt; 90%</li> </ul>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#summary","title":"Summary","text":"<p>The phased delivery plan provides a systematic approach to modernizing the BAITIN system. Each phase builds upon the previous, ensuring de-risked delivery with early validation and stakeholder buy-in. The plan balances speed with quality, ensuring a successful modernization.</p>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#next-steps","title":"Next Steps","text":"<ol> <li>Approve Plan: Stakeholder approval of phased plan</li> <li>Assemble Team: Recruit and onboard team</li> <li>Begin Phase 0: Start foundation work</li> <li>Plan PoC: Detailed PoC planning</li> <li>Stakeholder Communication: Regular updates</li> </ol>"},{"location":"modernization-strategy/11-phased-delivery-plan/phased-delivery-plan/#document-references","title":"Document References","text":"<ul> <li>PoC Strategy: <code>../15-poc-strategy/</code></li> <li>Current State Assessment: <code>../02-current-state-assessment/</code></li> <li>Target Architecture: <code>../03-target-state-architecture/</code></li> <li>Data Migration Strategy: <code>../04-data-migration-strategy/</code></li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/","title":"Risk Management","text":""},{"location":"modernization-strategy/12-risk-management/risk-management/#overview","title":"Overview","text":"<p>This document identifies and addresses risks throughout the modernization project.</p>"},{"location":"modernization-strategy/12-risk-management/risk-management/#high-risks","title":"High Risks","text":""},{"location":"modernization-strategy/12-risk-management/risk-management/#1-data-migration-complexity","title":"1. Data Migration Complexity","text":"<ul> <li>Risk: 186 tables, complex relationships</li> <li>Impact: High - Data loss or corruption</li> <li>Mitigation: Extensive testing, parallel run, rollback plan</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#2-user-adoption","title":"2. User Adoption","text":"<ul> <li>Impact: High - Users reject new system</li> <li>Mitigation: Early user involvement, comprehensive training</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#3-timeline-pressure","title":"3. Timeline Pressure","text":"<ul> <li>Impact: High - 15-month timeline is aggressive</li> <li>Mitigation: Phased approach, resource allocation</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#4-technology-stack-issues","title":"4. Technology Stack Issues","text":"<ul> <li>Impact: Medium - May need to change stack</li> <li>Mitigation: Early validation, proof of concept</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#medium-risks","title":"Medium Risks","text":""},{"location":"modernization-strategy/12-risk-management/risk-management/#1-scope-creep","title":"1. Scope Creep","text":"<ul> <li>Impact: Medium - Timeline delays</li> <li>Mitigation: Strict scope control, change management</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#2-resource-availability","title":"2. Resource Availability","text":"<ul> <li>Impact: Medium - Need skilled developers</li> <li>Mitigation: Early recruitment, training</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#3-performance-issues","title":"3. Performance Issues","text":"<ul> <li>Impact: Medium - Poor performance</li> <li>Mitigation: Performance testing, optimization</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#risk-mitigation-strategies","title":"Risk Mitigation Strategies","text":""},{"location":"modernization-strategy/12-risk-management/risk-management/#general-strategies","title":"General Strategies","text":"<ul> <li>Early Validation: Validate approach early (PoC)</li> <li>Phased Delivery: Reduce risk through phases</li> <li>Comprehensive Testing: Extensive testing at each phase</li> <li>Stakeholder Communication: Regular communication</li> </ul>"},{"location":"modernization-strategy/12-risk-management/risk-management/#summary","title":"Summary","text":"<p>Comprehensive risk management covering identification, assessment, and mitigation of project risks.</p>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/","title":"Success Metrics","text":""},{"location":"modernization-strategy/13-success-metrics/success-metrics/#overview","title":"Overview","text":"<p>This document defines success metrics for the modernization project.</p>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/#technical-metrics","title":"Technical Metrics","text":""},{"location":"modernization-strategy/13-success-metrics/success-metrics/#performance","title":"Performance","text":"<ul> <li>Page Load: &lt; 2 seconds</li> <li>API Response: &lt; 500ms (p95)</li> <li>Data Entry: &lt; 100ms (client-side)</li> </ul>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/#quality","title":"Quality","text":"<ul> <li>Bug Rate: &lt; 1 critical bug per module</li> <li>Test Coverage: &gt; 80% code coverage</li> <li>Code Quality: Maintainability index &gt; 70</li> </ul>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/#business-metrics","title":"Business Metrics","text":""},{"location":"modernization-strategy/13-success-metrics/success-metrics/#user-adoption","title":"User Adoption","text":"<ul> <li>Training Completion: 100% users trained</li> <li>Active Users: &gt; 90% within 60 days</li> <li>User Satisfaction: &gt; 4.0/5.0</li> </ul>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/#business-value","title":"Business Value","text":"<ul> <li>Efficiency: 30% improvement in processing time</li> <li>Error Reduction: 50% reduction in data entry errors</li> <li>Cost Reduction: Lower maintenance costs</li> </ul>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/#data-migration-metrics","title":"Data Migration Metrics","text":""},{"location":"modernization-strategy/13-success-metrics/success-metrics/#accuracy","title":"Accuracy","text":"<ul> <li>Record Count: 100% match</li> <li>Data Accuracy: 100% accuracy</li> <li>Reconciliation: 100% reconciliation</li> </ul>"},{"location":"modernization-strategy/13-success-metrics/success-metrics/#summary","title":"Summary","text":"<p>Comprehensive success metrics covering technical, business, and data migration aspects.</p>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/","title":"Resource and Timeline","text":""},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#overview","title":"Overview","text":"<p>This document outlines resource requirements and detailed timeline for the modernization project.</p>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#team-structure","title":"Team Structure","text":""},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-0-1-foundation-poc","title":"Phase 0-1 (Foundation + PoC)","text":"<ul> <li>Team Size: 4-6 developers</li> <li>Roles: Frontend (1-2), Backend (1-2), Architect (1), QA (1), PM (1)</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-2-3-mvp-full","title":"Phase 2-3 (MVP + Full)","text":"<ul> <li>Team Size: 6-8 developers</li> <li>Roles: Frontend (2-3), Backend (2-3), Architect (1), QA (1-2), UX (1), PM (1)</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-4-migration","title":"Phase 4 (Migration)","text":"<ul> <li>Team Size: 8-10 people</li> <li>Additional: Data migration specialists, Business analysts, Training team</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#timeline","title":"Timeline","text":""},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-0-foundation-4-weeks","title":"Phase 0: Foundation (4 weeks)","text":"<ul> <li>Infrastructure setup</li> <li>Core components</li> <li>Architecture design</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-1-poc-8-weeks","title":"Phase 1: PoC (8 weeks)","text":"<ul> <li>Master Data module</li> <li>Order Enquiry module</li> <li>Excel import</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-2-mvp-16-weeks","title":"Phase 2: MVP (16 weeks)","text":"<ul> <li>Complete OE</li> <li>Order Confirmation</li> <li>Contract</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-3-full-feature-set-24-weeks","title":"Phase 3: Full Feature Set (24 weeks)","text":"<ul> <li>Shipping Order</li> <li>Delivery Note</li> <li>Invoice</li> <li>Enquiry</li> <li>Reporting</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#phase-4-migration-8-weeks","title":"Phase 4: Migration (8 weeks)","text":"<ul> <li>Data migration</li> <li>Parallel run</li> <li>Cutover</li> </ul> <p>Total: ~15 months</p>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#budget","title":"Budget","text":""},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#development-costs","title":"Development Costs","text":"<ul> <li>Team: 60-80 person-months</li> <li>Infrastructure: Cloud resources</li> <li>Tools: Development tools, licenses</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#training-and-change-management","title":"Training and Change Management","text":"<ul> <li>User Training: Comprehensive program</li> <li>Documentation: User guides</li> <li>Support: Transition support</li> </ul>"},{"location":"modernization-strategy/14-resource-timeline/resource-timeline/#summary","title":"Summary","text":"<p>Resource requirements and timeline for successful modernization delivery.</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/","title":"PoC Strategy","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#overview","title":"Overview","text":"<p>This document defines the Proof of Concept (PoC) strategy for the BAITIN modernization. The PoC is designed to validate the architecture, UX approach, and key technical decisions while demonstrating value to stakeholders early in the project. The PoC serves as a foundation for the MVP and full modernization.</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-objectives","title":"PoC Objectives","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#primary-objectives","title":"Primary Objectives","text":"<ol> <li>Validate Architecture: Prove the chosen technology stack and architecture work</li> <li>Validate UX Approach: Demonstrate Windows-like fast input in web application</li> <li>Demonstrate Value: Show stakeholders the modernization is feasible and valuable</li> <li>Identify Risks: Identify and address early risks</li> <li>Build Confidence: Build stakeholder and user confidence</li> </ol>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#secondary-objectives","title":"Secondary Objectives","text":"<ol> <li>Team Building: Get team working together effectively</li> <li>Process Validation: Validate development processes and tools</li> <li>Performance Validation: Validate performance targets are achievable</li> <li>Integration Validation: Validate integration approaches</li> </ol>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-scope","title":"PoC Scope","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#in-scope","title":"In Scope","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#1-master-data-management-module","title":"1. Master Data Management Module","text":"<ul> <li>Item Master:</li> <li>Item entry form (create, edit, view)</li> <li>Item lookup/search (type-to-search)</li> <li>Item list with filtering</li> <li> <p>Basic validation</p> </li> <li> <p>Customer Master:</p> </li> <li>Customer entry form</li> <li>Customer lookup/search</li> <li> <p>Customer list</p> </li> <li> <p>Vendor Master:</p> </li> <li>Vendor entry form</li> <li>Vendor lookup/search</li> <li>Vendor list</li> </ul> <p>Rationale: Master data is foundational, relatively simple, and demonstrates core UX patterns.</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#2-order-enquiry-oe-module-core","title":"2. Order Enquiry (OE) Module (Core)","text":"<ul> <li>OE Control:</li> <li>Create OE Control record</li> <li>Search/view OE Control records</li> <li> <p>Basic validation</p> </li> <li> <p>OE Manual Entry:</p> </li> <li>Header form (OE No, Date, Customer)</li> <li>Detail grid (Item, Qty, Price, Total)</li> <li>Item lookup with auto-fill</li> <li>Auto-save functionality</li> <li> <p>Basic validation</p> </li> <li> <p>OE Enquiry List:</p> </li> <li>Search/filter OE records</li> <li>View OE details</li> <li>Basic reporting</li> </ul> <p>Rationale: OE is the entry point of the workflow, demonstrates complex UX (grid, lookups, validation).</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#3-excel-import-single-format","title":"3. Excel Import (Single Format)","text":"<ul> <li>Import Functionality:</li> <li>File upload</li> <li>Field mapping (auto-detect + manual override)</li> <li>Data validation</li> <li>Error reporting</li> <li>Import execution</li> </ul> <p>Rationale: Excel import is critical business function, demonstrates file handling and validation.</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#out-of-scope","title":"Out of Scope","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#excluded-features","title":"Excluded Features","text":"<ul> <li>Advanced Excel Formats: Only one format for PoC</li> <li>Quantity Breakdown: Not in PoC scope</li> <li>BOM Processing: Not in PoC scope</li> <li>Post OE to OC: Not in PoC scope</li> <li>Reports: Basic list views only, no complex reports</li> <li>Printing: Not in PoC scope</li> <li>PDF Generation: Not in PoC scope</li> <li>Multi-Company Logic: Simplified for PoC</li> <li>Advanced Security: Basic authentication only</li> <li>Audit Logging: Basic logging only</li> </ul> <p>Rationale: Keep PoC focused on core value demonstration, avoid scope creep.</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-architecture","title":"PoC Architecture","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#technology-stack-same-as-target","title":"Technology Stack (Same as Target)","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#frontend","title":"Frontend","text":"<ul> <li>Framework: React 18+ with TypeScript</li> <li>UI Library: shadcn/ui</li> <li>Data Grid: React Data Grid (Adazzle) - Free (Top choice), AG Grid Community Edition</li> <li>State Management: React Query + Context API</li> <li>Form Management: React Hook Form</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#backend","title":"Backend","text":"<ul> <li>Framework: NestJS (TypeScript)</li> <li>Database: PostgreSQL</li> <li>ORM: Entity Framework Core or TypeORM</li> <li>Authentication: Basic JWT (OIDC in production)</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#infrastructure","title":"Infrastructure","text":"<ul> <li>Development: Local development environment</li> <li>Database: Local PostgreSQL instance</li> <li>Deployment: Simple deployment (Docker or local)</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#database-schema-poc-subset","title":"Database Schema (PoC Subset)","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#tables-included","title":"Tables Included","text":"<ul> <li><code>item</code> (master data)</li> <li><code>customer</code> (master data)</li> <li><code>vendor</code> (master data)</li> <li><code>order_enquiry_header</code></li> <li><code>order_enquiry_detail</code></li> <li><code>order_enquiry_control</code></li> <li>Reference/lookup tables (as needed)</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#tables-excluded","title":"Tables Excluded","text":"<ul> <li>All other transaction tables (OC, Contract, SO, DN, Invoice)</li> <li>Complex supporting tables</li> <li>Work/temporary tables</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#data-strategy","title":"Data Strategy","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-data","title":"PoC Data","text":"<ul> <li>Source: Sample data (manually created or subset of real data)</li> <li>Volume: Small dataset (100-1000 records per table)</li> <li>Migration: Manual data entry or simple import script</li> <li>Purpose: Demonstrate functionality, not full migration</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-deliverables","title":"PoC Deliverables","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#week-5-6-master-data-module","title":"Week 5-6: Master Data Module","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#item-master","title":"Item Master","text":"<ul> <li>Features:</li> <li>Item entry form with keyboard navigation</li> <li>Item lookup with type-to-search</li> <li>Item list with filtering</li> <li> <p>Create, edit, view, delete operations</p> </li> <li> <p>UX Requirements:</p> </li> <li>Tab navigation between fields</li> <li>Enter to move to next field</li> <li>F2 to open lookup</li> <li>Type-to-search in lookup</li> <li>Inline validation</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#customervendor-master","title":"Customer/Vendor Master","text":"<ul> <li>Features:</li> <li>Entry forms</li> <li>Lookup/search</li> <li>List views</li> <li>CRUD operations</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#week-7-8-order-enquiry-module","title":"Week 7-8: Order Enquiry Module","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#oe-control","title":"OE Control","text":"<ul> <li>Features:</li> <li>Create OE Control record</li> <li>Search/view OE Control</li> <li>Basic validation (OE No, Customer, Date)</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#oe-entry","title":"OE Entry","text":"<ul> <li>Features:</li> <li>Header form (OE No, Date, Customer, PO No)</li> <li>Detail grid with keyboard navigation</li> <li>Item lookup with auto-fill</li> <li>Quantity and price entry</li> <li>Auto-calculate totals</li> <li>Auto-save</li> <li> <p>Validation</p> </li> <li> <p>UX Requirements:</p> </li> <li>Excel-like grid navigation</li> <li>Arrow keys, Tab, Enter navigation</li> <li>Item lookup: type-to-search, Enter to select</li> <li>Auto-advance to next field on Enter</li> <li>Inline validation</li> <li>Auto-save indicator</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#oe-enquiry-list","title":"OE Enquiry List","text":"<ul> <li>Features:</li> <li>Search/filter by OE No, Customer, Date</li> <li>Grid view with sorting</li> <li>Click to view details</li> <li>Basic export</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#week-9-10-excel-import","title":"Week 9-10: Excel Import","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#import-functionality","title":"Import Functionality","text":"<ul> <li>Features:</li> <li>File upload (drag-drop or browse)</li> <li>File format detection</li> <li>Field mapping (auto-detect + manual)</li> <li>Data preview</li> <li>Validation</li> <li>Import execution</li> <li> <p>Error reporting</p> </li> <li> <p>UX Requirements:</p> </li> <li>Simple, intuitive upload</li> <li>Clear field mapping interface</li> <li>Preview before import</li> <li>Clear error messages</li> <li>Progress indicator</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#week-11-12-integration-and-testing","title":"Week 11-12: Integration and Testing","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#integration","title":"Integration","text":"<ul> <li>End-to-End Workflow:</li> <li>Create Item \u2192 Create Customer \u2192 Create OE Control \u2192 Create OE \u2192 Import Excel \u2192 View OE</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#testing","title":"Testing","text":"<ul> <li>Unit Tests: Core business logic</li> <li>Integration Tests: API endpoints</li> <li>E2E Tests: Critical user flows</li> <li>Performance Tests: Response times, load testing</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#demo-preparation","title":"Demo Preparation","text":"<ul> <li>Demo Script: Step-by-step demo flow</li> <li>Demo Data: Realistic sample data</li> <li>Presentation: Stakeholder presentation</li> <li>Documentation: PoC documentation</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#success-criteria","title":"Success Criteria","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#technical-success","title":"Technical Success","text":"<ul> <li>\u2705 All PoC modules functional</li> <li>\u2705 Architecture validated (scalable, maintainable)</li> <li>\u2705 Performance targets met (&lt; 500ms API, &lt; 2s page load)</li> <li>\u2705 No critical bugs</li> <li>\u2705 Code quality standards met</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#ux-success","title":"UX Success","text":"<ul> <li>\u2705 Keyboard-first navigation works smoothly</li> <li>\u2705 Fast input experience (auto-advance, lookups)</li> <li>\u2705 Excel-like grid navigation</li> <li>\u2705 User feedback positive</li> <li>\u2705 UX patterns reusable</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#business-success","title":"Business Success","text":"<ul> <li>\u2705 Stakeholder buy-in achieved</li> <li>\u2705 Demo successful</li> <li>\u2705 Clear path to MVP identified</li> <li>\u2705 Risks identified and addressed</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-validation-points","title":"PoC Validation Points","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#architecture-validation","title":"Architecture Validation","text":"<ul> <li>Scalability: Can handle growth?</li> <li>Maintainability: Is code maintainable?</li> <li>Performance: Meets performance targets?</li> <li>Security: Basic security in place?</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#ux-validation","title":"UX Validation","text":"<ul> <li>Keyboard Navigation: Smooth keyboard navigation?</li> <li>Fast Input: Fast enough for users?</li> <li>Lookups: Instant lookups?</li> <li>Grid: Excel-like experience?</li> <li>User Satisfaction: Users happy with UX?</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#technical-validation","title":"Technical Validation","text":"<ul> <li>Technology Stack: Stack works well?</li> <li>Database: Database performs well?</li> <li>Integration: Integration approaches work?</li> <li>Development Speed: Can we develop fast enough?</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#risks-and-mitigation","title":"Risks and Mitigation","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#high-risks","title":"High Risks","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#risk-ux-doesnt-meet-expectations","title":"Risk: UX Doesn't Meet Expectations","text":"<ul> <li>Impact: High - PoC fails if UX is poor</li> <li>Probability: Medium</li> <li>Mitigation:</li> <li>Early user testing</li> <li>Iterative UX refinement</li> <li>Focus on keyboard-first patterns</li> <li>User feedback sessions</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#risk-performance-issues","title":"Risk: Performance Issues","text":"<ul> <li>Impact: High - Poor performance kills UX</li> <li>Probability: Medium</li> <li>Mitigation:</li> <li>Performance testing early</li> <li>Optimization as needed</li> <li>Caching strategies</li> <li>Database optimization</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#risk-scope-creep","title":"Risk: Scope Creep","text":"<ul> <li>Impact: Medium - PoC delayed, loses focus</li> <li>Probability: High</li> <li>Mitigation:</li> <li>Strict scope control</li> <li>Change management process</li> <li>Regular scope reviews</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#medium-risks","title":"Medium Risks","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#risk-technology-stack-issues","title":"Risk: Technology Stack Issues","text":"<ul> <li>Impact: Medium - May need to change stack</li> <li>Probability: Low</li> <li>Mitigation:</li> <li>Research and validation before PoC</li> <li>Proof of concept for critical components</li> <li>Alternative options identified</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#risk-team-learning-curve","title":"Risk: Team Learning Curve","text":"<ul> <li>Impact: Medium - Slower development</li> <li>Probability: Medium</li> <li>Mitigation:</li> <li>Team training</li> <li>Pair programming</li> <li>Code reviews</li> <li>Documentation</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#poc-to-mvp-transition","title":"PoC to MVP Transition","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#what-carries-forward","title":"What Carries Forward","text":"<ul> <li>Architecture: Same architecture for MVP</li> <li>UX Patterns: All UX patterns reusable</li> <li>Components: Core components reusable</li> <li>Code: PoC code becomes foundation for MVP</li> <li>Lessons Learned: All lessons applied to MVP</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#what-needs-enhancement","title":"What Needs Enhancement","text":"<ul> <li>Features: Expand features (more Excel formats, BOM, etc.)</li> <li>Modules: Add OC, Contract modules</li> <li>Data Migration: Real data migration tools</li> <li>Security: Enhanced security (OIDC, RBAC)</li> <li>Reporting: Real reporting functionality</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#transition-plan","title":"Transition Plan","text":"<ol> <li>PoC Review: Review PoC results</li> <li>Lessons Learned: Document lessons learned</li> <li>MVP Planning: Plan MVP based on PoC</li> <li>Team Expansion: Expand team for MVP</li> <li>MVP Kickoff: Begin MVP development</li> </ol>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#demo-strategy","title":"Demo Strategy","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#demo-flow","title":"Demo Flow","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#1-master-data-entry-5-minutes","title":"1. Master Data Entry (5 minutes)","text":"<ul> <li>Item Entry:</li> <li>Create new item</li> <li>Demonstrate keyboard navigation</li> <li>Show lookup/search</li> <li> <p>Edit existing item</p> </li> <li> <p>Customer Entry:</p> </li> <li>Create customer</li> <li>Show fast data entry</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#2-order-enquiry-entry-10-minutes","title":"2. Order Enquiry Entry (10 minutes)","text":"<ul> <li>OE Control:</li> <li>Create OE Control</li> <li> <p>Search OE Control</p> </li> <li> <p>OE Entry:</p> </li> <li>Create new OE</li> <li>Add items using grid</li> <li>Demonstrate item lookup</li> <li>Show auto-calculate</li> <li>Show auto-save</li> <li>Demonstrate keyboard navigation</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#3-excel-import-5-minutes","title":"3. Excel Import (5 minutes)","text":"<ul> <li>Import:</li> <li>Upload Excel file</li> <li>Show field mapping</li> <li>Execute import</li> <li>Show error reporting</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#4-enquiry-3-minutes","title":"4. Enquiry (3 minutes)","text":"<ul> <li>OE List:</li> <li>Search/filter OEs</li> <li>View OE details</li> <li>Show fast navigation</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#demo-preparation_1","title":"Demo Preparation","text":"<ul> <li>Demo Data: Realistic, clean demo data</li> <li>Demo Script: Step-by-step script</li> <li>Practice: Team practices demo</li> <li>Backup Plan: Backup demo if issues</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#metrics-and-kpis","title":"Metrics and KPIs","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#development-metrics","title":"Development Metrics","text":"<ul> <li>Velocity: Story points completed per sprint</li> <li>Code Quality: Code review feedback, test coverage</li> <li>Bug Rate: Bugs found per module</li> <li>Performance: Response times, page load times</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#ux-metrics","title":"UX Metrics","text":"<ul> <li>User Satisfaction: User feedback scores</li> <li>Task Completion: Can users complete tasks?</li> <li>Error Rate: User errors during tasks</li> <li>Time to Complete: Time to complete common tasks</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#business-metrics","title":"Business Metrics","text":"<ul> <li>Stakeholder Buy-In: Stakeholder approval</li> <li>Demo Success: Demo feedback</li> <li>Risk Identification: Risks identified and addressed</li> <li>Path Forward: Clear path to MVP</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#timeline","title":"Timeline","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#8-week-timeline","title":"8-Week Timeline","text":"<ul> <li>Week 5-6: Master Data Module</li> <li>Week 7-8: Order Enquiry Module</li> <li>Week 9-10: Excel Import</li> <li>Week 11-12: Integration, Testing, Demo</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#milestones","title":"Milestones","text":"<ul> <li>Week 6: Master Data complete</li> <li>Week 8: OE Module complete</li> <li>Week 10: Excel Import complete</li> <li>Week 12: PoC complete, demo ready</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#resource-requirements","title":"Resource Requirements","text":""},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#team","title":"Team","text":"<ul> <li>Frontend Developer: 1-2 developers</li> <li>Backend Developer: 1-2 developers</li> <li>Architect: 1 (part-time)</li> <li>QA Engineer: 1 (part-time)</li> <li>Project Manager: 1 (part-time)</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#infrastructure_1","title":"Infrastructure","text":"<ul> <li>Development Environment: Local or cloud</li> <li>Database: PostgreSQL (local or cloud)</li> <li>Tools: Development tools, licenses</li> </ul>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#summary","title":"Summary","text":"<p>The PoC strategy provides a focused, achievable proof of concept that validates architecture, UX, and key technical decisions while demonstrating value to stakeholders. The PoC serves as a foundation for MVP and full modernization, with clear success criteria and transition plan.</p>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#next-steps","title":"Next Steps","text":"<ol> <li>Approve PoC Strategy: Stakeholder approval</li> <li>Assemble PoC Team: Recruit and onboard team</li> <li>Set Up Environment: Development environment setup</li> <li>Begin Development: Start PoC development</li> <li>Regular Reviews: Weekly progress reviews</li> </ol>"},{"location":"modernization-strategy/15-poc-strategy/poc-strategy/#document-references","title":"Document References","text":"<ul> <li>Phased Delivery Plan: <code>../11-phased-delivery-plan/</code></li> <li>Target Architecture: <code>../03-target-state-architecture/</code></li> <li>UX/UI Strategy: <code>../06-ux-ui-strategy/</code></li> <li>Current State Assessment: <code>../02-current-state-assessment/</code></li> </ul>"},{"location":"planning/poc_planning/","title":"PoC Implementation Plan","text":""},{"location":"planning/poc_planning/#overview","title":"Overview","text":"<p>This folder contains the detailed implementation plan for the Proof of Concept (PoC) phase of the BAITIN modernization project. The plan is organized by implementation phases and includes detailed task breakdowns, original logic references, validation requirements, and acceptance criteria.</p>"},{"location":"planning/poc_planning/#plan-structure","title":"Plan Structure","text":""},{"location":"planning/poc_planning/#phase-0-foundation-weeks-1-4","title":"Phase 0: Foundation (Weeks 1-4)","text":"<ul> <li>Infrastructure setup</li> <li>Development environment</li> <li>Core components and UX kernel</li> <li>Database schema setup</li> <li>Authentication framework</li> </ul>"},{"location":"planning/poc_planning/#phase-1-master-data-module-weeks-5-6","title":"Phase 1: Master Data Module (Weeks 5-6)","text":"<ul> <li>Item Master (Entry form, Lookup, List)</li> <li>Customer Master (Entry form, Lookup, List)</li> <li>Vendor Master (Entry form, Lookup, List)</li> </ul>"},{"location":"planning/poc_planning/#phase-2-order-enquiry-module-weeks-7-8","title":"Phase 2: Order Enquiry Module (Weeks 7-8)","text":"<ul> <li>OE Control (Create, Search/View, Validation)</li> <li>OE Manual Entry (Header form, Detail grid, Item lookup, Auto-save, Validation)</li> <li>OE Enquiry List (Search/Filter, View details, Basic reporting)</li> </ul>"},{"location":"planning/poc_planning/#phase-3-excel-import-weeks-9-10","title":"Phase 3: Excel Import (Weeks 9-10)","text":"<ul> <li>File upload and validation</li> <li>Field mapping (auto-detect + manual override)</li> <li>Data validation</li> <li>Error reporting</li> <li>Import execution</li> </ul>"},{"location":"planning/poc_planning/#phase-4-integration-and-testing-weeks-11-12","title":"Phase 4: Integration and Testing (Weeks 11-12)","text":"<ul> <li>End-to-end integration</li> <li>Testing (Unit, Integration, E2E, Performance)</li> <li>Demo preparation</li> </ul>"},{"location":"planning/poc_planning/#how-to-use-this-plan","title":"How to Use This Plan","text":"<ol> <li>Review Phase Overview: Start with the phase README.md in each phase folder</li> <li>Review Tasks: Each task has its own markdown file with detailed requirements</li> <li>Check References: All tasks reference original documentation and FoxPro code</li> <li>Validate Implementation: Use acceptance criteria to validate completion</li> <li>Follow Cursor Rules: All tasks must follow cursor rules requirements</li> </ol>"},{"location":"planning/poc_planning/#key-principles","title":"Key Principles","text":""},{"location":"planning/poc_planning/#documentation-first-development","title":"Documentation-First Development","text":"<ul> <li>All tasks reference existing documentation in <code>docs/</code> folder</li> <li>Original FoxPro code referenced where applicable</li> <li>Business logic documentation consulted before implementation</li> </ul>"},{"location":"planning/poc_planning/#original-logic-preservation","title":"Original Logic Preservation","text":"<ul> <li>Business logic MUST match original system exactly</li> <li>Validation rules MUST be preserved</li> <li>Data relationships MUST be maintained</li> <li>Exception cases (e.g., INSP company prefix) MUST be handled</li> </ul>"},{"location":"planning/poc_planning/#validation-rules","title":"Validation Rules","text":"<ul> <li>All validation rules from <code>docs/04-forms-and-screens/validation-catalog.md</code> must be implemented</li> <li>Error messages should match original system where possible</li> <li>Validation must occur at both client and server side</li> </ul>"},{"location":"planning/poc_planning/#strategic-alignment","title":"Strategic Alignment","text":"<ul> <li>Follow modernization strategy (<code>docs/modernization-strategy/</code>)</li> <li>Align with phased delivery plan</li> <li>Follow UX/UI strategy requirements</li> <li>Meet performance targets (&lt; 500ms API, &lt; 2s page load)</li> </ul>"},{"location":"planning/poc_planning/#document-references","title":"Document References","text":""},{"location":"planning/poc_planning/#primary-documentation","title":"Primary Documentation","text":"<ul> <li>PoC Strategy: <code>../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> <li>Phased Delivery Plan: <code>../../docs/modernization-strategy/11-phased-delivery-plan/phased-delivery-plan.md</code></li> <li>UX/UI Strategy: <code>../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> <li>Target Architecture: <code>../../docs/modernization-strategy/03-target-state-architecture/</code></li> <li>Current State Assessment: <code>../../docs/modernization-strategy/02-current-state-assessment/</code></li> </ul>"},{"location":"planning/poc_planning/#business-process-documentation","title":"Business Process Documentation","text":"<ul> <li>Workflow Overview: <code>../../docs/02-business-processes/workflow-overview.md</code></li> <li>Master Data Management: <code>../../docs/02-business-processes/master-data-management.md</code></li> <li>Order Enquiry Process: <code>../../docs/02-business-processes/order-enquiry-process.md</code></li> </ul>"},{"location":"planning/poc_planning/#data-architecture","title":"Data Architecture","text":"<ul> <li>Table Details: <code>../../docs/01-data-architecture/table-details/</code></li> <li>Master Data Tables: <code>../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> </ul>"},{"location":"planning/poc_planning/#validation-forms","title":"Validation &amp; Forms","text":"<ul> <li>Validation Catalog: <code>../../docs/04-forms-and-screens/validation-catalog.md</code></li> <li>Form Logic Patterns: <code>../../docs/04-forms-and-screens/form-logic-patterns.md</code></li> </ul>"},{"location":"planning/poc_planning/#technology-stack","title":"Technology Stack","text":""},{"location":"planning/poc_planning/#frontend","title":"Frontend","text":"<ul> <li>Framework: React 18+ with TypeScript</li> <li>UI Library: shadcn/ui</li> <li>Data Grid: React Data Grid (Adazzle) - Free, open-source</li> <li>State Management: React Query + Context API</li> <li>Form Management: React Hook Form</li> <li>Routing: React Router</li> </ul>"},{"location":"planning/poc_planning/#backend","title":"Backend","text":"<ul> <li>Framework: NestJS (TypeScript)</li> <li>Database: PostgreSQL</li> <li>ORM: TypeORM or Prisma</li> <li>Authentication: Basic JWT (OIDC in production)</li> </ul>"},{"location":"planning/poc_planning/#infrastructure","title":"Infrastructure","text":"<ul> <li>Development: Local development environment</li> <li>Database: Local PostgreSQL instance</li> <li>Deployment: Simple deployment (Docker or local)</li> </ul>"},{"location":"planning/poc_planning/#approval-checklist","title":"Approval Checklist","text":"<p>Before starting implementation, ensure: - [ ] PoC Strategy approved by stakeholders - [ ] Technology stack decisions finalized - [ ] Development environment ready - [ ] Team assembled and trained - [ ] Legacy system documentation reviewed - [ ] Original logic understood and documented - [ ] Database schema design approved - [ ] UX patterns validated</p>"},{"location":"planning/poc_planning/#success-criteria","title":"Success Criteria","text":""},{"location":"planning/poc_planning/#phase-completion-criteria","title":"Phase Completion Criteria","text":"<p>Each phase must meet its success criteria before proceeding to next phase:</p> <ul> <li>Phase 0: Development environment operational, core components working</li> <li>Phase 1: All master data modules functional with validation</li> <li>Phase 2: OE module complete with keyboard-first navigation</li> <li>Phase 3: Excel import working with error handling</li> <li>Phase 4: End-to-end workflow functional, demo ready</li> </ul>"},{"location":"planning/poc_planning/#overall-poc-success","title":"Overall PoC Success","text":"<ul> <li>\u2705 All PoC modules functional</li> <li>\u2705 Architecture validated</li> <li>\u2705 Performance targets met</li> <li>\u2705 UX validated with users</li> <li>\u2705 Stakeholder buy-in achieved</li> <li>\u2705 Clear path to MVP identified</li> </ul>"},{"location":"planning/poc_planning/#risk-management","title":"Risk Management","text":""},{"location":"planning/poc_planning/#high-risks","title":"High Risks","text":"<ol> <li>UX Doesn't Meet Expectations - Mitigation: Early user testing</li> <li>Performance Issues - Mitigation: Performance testing early</li> <li>Scope Creep - Mitigation: Strict scope control</li> </ol>"},{"location":"planning/poc_planning/#medium-risks","title":"Medium Risks","text":"<ol> <li>Technology Stack Issues - Mitigation: Research and validation</li> <li>Team Learning Curve - Mitigation: Training and pair programming</li> </ol>"},{"location":"planning/poc_planning/#timeline","title":"Timeline","text":"<ul> <li>Week 1-4: Phase 0 - Foundation</li> <li>Week 5-6: Phase 1 - Master Data Module</li> <li>Week 7-8: Phase 2 - Order Enquiry Module</li> <li>Week 9-10: Phase 3 - Excel Import</li> <li>Week 11-12: Phase 4 - Integration and Testing</li> </ul> <p>Total Duration: 12 weeks</p>"},{"location":"planning/poc_planning/#code-quality-standards","title":"Code Quality Standards","text":""},{"location":"planning/poc_planning/#required-code-comments","title":"Required Code Comments","text":"<p>Every significant function/component MUST include: - Original logic reference (FoxPro form/program) - Documentation reference - Business rule description - Validation rules - Special cases</p>"},{"location":"planning/poc_planning/#example","title":"Example:","text":"<pre><code>/**\n * Validates item number uniqueness\n * \n * Original Logic Reference:\n * - FoxPro Form: iitem.scx (Txtbox1.Valid)\n * - Documentation: docs/04-forms-and-screens/validation-catalog.md\n * - Business Rule: item_no must be unique in mitem table\n * \n * Validation Rules:\n * - Check if item_no already exists in database\n * - Return error \"Item Number Already Exists\" if duplicate\n */\n</code></pre>"},{"location":"planning/poc_planning/#testing-requirements","title":"Testing Requirements","text":""},{"location":"planning/poc_planning/#unit-tests","title":"Unit Tests","text":"<ul> <li>Core business logic</li> <li>Validation functions</li> <li>Utility functions</li> </ul>"},{"location":"planning/poc_planning/#integration-tests","title":"Integration Tests","text":"<ul> <li>API endpoints</li> <li>Database operations</li> <li>Service layer logic</li> </ul>"},{"location":"planning/poc_planning/#e2e-tests","title":"E2E Tests","text":"<ul> <li>Critical user flows</li> <li>Complete workflows</li> <li>Error scenarios</li> </ul>"},{"location":"planning/poc_planning/#performance-tests","title":"Performance Tests","text":"<ul> <li>API response times (&lt; 500ms p95)</li> <li>Page load times (&lt; 2s)</li> <li>Grid performance with large datasets</li> </ul>"},{"location":"planning/poc_planning/#next-steps","title":"Next Steps","text":"<ol> <li>Review this implementation plan</li> <li>Get stakeholder approval</li> <li>Begin Phase 0: Foundation</li> <li>Regular progress reviews (weekly)</li> <li>Demo preparation (Week 11-12)</li> </ol> <p>Last Updated: 2025-01-XX Version: 1.0 Status: Planning Owner: Development Team</p>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/","title":"PoC Implementation Plan - Summary","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#overview","title":"Overview","text":"<p>This document provides a quick reference summary of the complete PoC implementation plan.</p>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#plan-structure","title":"Plan Structure","text":"<pre><code>planning/poc_planning/\n\u251c\u2500\u2500 README.md                          # Main overview and guidelines\n\u251c\u2500\u2500 IMPLEMENTATION_SUMMARY.md          # This file\n\u2502\n\u251c\u2500\u2500 00-phase-0-foundation/            # Weeks 1-4\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 01-infrastructure-setup/      # 3 tasks\n\u2502   \u251c\u2500\u2500 02-core-components/           # 3 tasks\n\u2502   \u251c\u2500\u2500 03-database-schema/           # 3 tasks\n\u2502   \u2514\u2500\u2500 04-ux-kernel/                 # 4 tasks\n\u2502\n\u251c\u2500\u2500 01-phase-1-master-data/           # Weeks 5-6\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 01-item-master/               # 3 tasks\n\u2502   \u251c\u2500\u2500 02-customer-master/           # 3 tasks\n\u2502   \u2514\u2500\u2500 03-vendor-master/             # 3 tasks\n\u2502\n\u251c\u2500\u2500 02-phase-2-order-enquiry/         # Weeks 7-8\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 01-oe-control/                # 2 tasks\n\u2502   \u251c\u2500\u2500 02-oe-manual-entry/           # 3 tasks\n\u2502   \u2514\u2500\u2500 03-oe-enquiry-list/           # 2 tasks\n\u2502\n\u251c\u2500\u2500 03-phase-3-excel-import/          # Weeks 9-10\n\u2502   \u251c\u2500\u2500 README.md\n\u2502   \u251c\u2500\u2500 01-file-upload/               # 1 task\n\u2502   \u251c\u2500\u2500 02-field-mapping/             # 2 tasks\n\u2502   \u2514\u2500\u2500 03-validation-import/         # 3 tasks\n\u2502\n\u2514\u2500\u2500 04-phase-4-integration-testing/   # Weeks 11-12\n    \u251c\u2500\u2500 README.md\n    \u251c\u2500\u2500 01-integration/               # 1 task\n    \u251c\u2500\u2500 02-testing/                   # 4 tasks\n    \u2514\u2500\u2500 03-demo-preparation/          # 3 tasks\n</code></pre>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#task-count-summary","title":"Task Count Summary","text":"Phase Tasks Duration Phase 0: Foundation 13 tasks 4 weeks Phase 1: Master Data 9 tasks 2 weeks Phase 2: Order Enquiry 7 tasks 2 weeks Phase 3: Excel Import 6 tasks 2 weeks Phase 4: Integration &amp; Testing 8 tasks 2 weeks Total 43 tasks 12 weeks"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#key-deliverables-by-phase","title":"Key Deliverables by Phase","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#phase-0-foundation-weeks-1-4","title":"Phase 0: Foundation (Weeks 1-4)","text":"<ul> <li>Development environment operational</li> <li>Database schema created</li> <li>Authentication framework</li> <li>Core UX components (text input, lookup, grid)</li> <li>API foundation</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#phase-1-master-data-weeks-5-6","title":"Phase 1: Master Data (Weeks 5-6)","text":"<ul> <li>Item Master (CRUD, lookup, list)</li> <li>Customer Master (CRUD, lookup, list)</li> <li>Vendor Master (CRUD, lookup, list)</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#phase-2-order-enquiry-weeks-7-8","title":"Phase 2: Order Enquiry (Weeks 7-8)","text":"<ul> <li>OE Control (create, search)</li> <li>OE Manual Entry (header + detail grid)</li> <li>OE Enquiry List (search, filter, view)</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#phase-3-excel-import-weeks-9-10","title":"Phase 3: Excel Import (Weeks 9-10)","text":"<ul> <li>File upload</li> <li>Field mapping (auto-detect + manual)</li> <li>Data validation</li> <li>Error reporting</li> <li>Import execution</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#phase-4-integration-testing-weeks-11-12","title":"Phase 4: Integration &amp; Testing (Weeks 11-12)","text":"<ul> <li>End-to-end integration</li> <li>Comprehensive testing</li> <li>Demo preparation</li> <li>Stakeholder presentation</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#critical-success-factors","title":"Critical Success Factors","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#documentation-first-approach","title":"Documentation-First Approach","text":"<p>\u2705 All tasks reference original documentation \u2705 Original logic preserved \u2705 Validation rules documented \u2705 Business rules maintained</p>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#original-logic-preservation","title":"Original Logic Preservation","text":"<p>\u2705 All validation rules from original system \u2705 Business logic matches exactly \u2705 Exception cases handled (e.g., INSP prefix) \u2705 Data relationships maintained</p>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#ux-requirements","title":"UX Requirements","text":"<p>\u2705 Keyboard-first navigation \u2705 Auto-advance on Enter \u2705 Excel-like grid navigation \u2705 Type-to-search lookups \u2705 Performance targets met</p>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#technology-stack","title":"Technology Stack","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#frontend","title":"Frontend","text":"<ul> <li>React 18+ with TypeScript</li> <li>shadcn/ui components</li> <li>React Data Grid (Adazzle) - Free</li> <li>React Query + Context API</li> <li>React Hook Form</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#backend","title":"Backend","text":"<ul> <li>NestJS (TypeScript)</li> <li>PostgreSQL</li> <li>TypeORM or Prisma</li> <li>JWT Authentication</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#dependencies-between-phases","title":"Dependencies Between Phases","text":"<pre><code>Phase 0 (Foundation)\n    \u2193\nPhase 1 (Master Data)\n    \u2193\nPhase 2 (Order Enquiry)\n    \u2193\nPhase 3 (Excel Import)\n    \u2193\nPhase 4 (Integration &amp; Testing)\n</code></pre>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#key-milestones","title":"Key Milestones","text":"<ul> <li>Week 4: Foundation complete, ready for business logic</li> <li>Week 6: Master Data complete, demonstrates core patterns</li> <li>Week 8: Order Enquiry complete, demonstrates complex UX</li> <li>Week 10: Excel Import complete, demonstrates file handling</li> <li>Week 12: PoC complete, demo ready</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#success-criteria","title":"Success Criteria","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#technical","title":"Technical","text":"<ul> <li>\u2705 All modules functional</li> <li>\u2705 Architecture validated</li> <li>\u2705 Performance targets met (&lt; 500ms API, &lt; 2s page load)</li> <li>\u2705 Code quality standards met</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#ux","title":"UX","text":"<ul> <li>\u2705 Keyboard-first navigation works</li> <li>\u2705 Fast input experience</li> <li>\u2705 Excel-like grid navigation</li> <li>\u2705 User feedback positive</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#business","title":"Business","text":"<ul> <li>\u2705 Stakeholder buy-in achieved</li> <li>\u2705 Demo successful</li> <li>\u2705 Clear path to MVP identified</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#next-steps-after-poc","title":"Next Steps After PoC","text":"<ol> <li>PoC Review - Review results and lessons learned</li> <li>MVP Planning - Plan MVP based on PoC outcomes</li> <li>Team Expansion - Expand team for MVP development</li> <li>MVP Kickoff - Begin MVP development</li> </ol>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#document-navigation","title":"Document Navigation","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#getting-started","title":"Getting Started","text":"<ol> <li>Read <code>README.md</code> for overview</li> <li>Review <code>00-phase-0-foundation/README.md</code> for foundation phase</li> <li>Start with Phase 0 tasks</li> </ol>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#for-each-task","title":"For Each Task","text":"<ol> <li>Read task markdown file</li> <li>Review original logic references</li> <li>Check documentation links</li> <li>Follow acceptance criteria</li> <li>Complete testing checklist</li> </ol>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#reference-documentation","title":"Reference Documentation","text":"<ul> <li>All tasks link to original documentation in <code>docs/</code> folder</li> <li>Original FoxPro code referenced where applicable</li> <li>Business logic documentation consulted before implementation</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#quick-reference","title":"Quick Reference","text":""},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#key-documents","title":"Key Documents","text":"<ul> <li>PoC Strategy: <code>docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> <li>Phased Delivery Plan: <code>docs/modernization-strategy/11-phased-delivery-plan/phased-delivery-plan.md</code></li> <li>UX Strategy: <code>docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> <li>Workflow Overview: <code>docs/02-business-processes/workflow-overview.md</code></li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#validation-rules","title":"Validation Rules","text":"<ul> <li>Validation Catalog: <code>docs/04-forms-and-screens/validation-catalog.md</code></li> <li>Must be implemented exactly as specified</li> </ul>"},{"location":"planning/poc_planning/IMPLEMENTATION_SUMMARY/#business-logic","title":"Business Logic","text":"<ul> <li>Master Data: <code>docs/02-business-processes/master-data-management.md</code></li> <li>Order Enquiry: <code>docs/02-business-processes/order-enquiry-process.md</code></li> <li>Core Algorithms: <code>docs/05-business-logic/core-algorithms.md</code></li> </ul> <p>Last Updated: 2025-01-XX Status: Complete - Ready for Review and Approval Version: 1.0</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/","title":"Phase 0: Foundation","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/#overview","title":"Overview","text":"<p>Phase 0 establishes the development infrastructure, core components, and foundation for the PoC implementation. This phase sets up the development environment, database schema, authentication framework, and reusable UX components.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/#duration","title":"Duration","text":"<p>Weeks 1-4 (4 weeks)</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/#objectives","title":"Objectives","text":"<ol> <li>Set up development environment and infrastructure</li> <li>Create database schema for PoC tables</li> <li>Implement core reusable components</li> <li>Set up authentication framework (basic JWT)</li> <li>Build UX kernel components (keyboard-first navigation, auto-advance, lookups)</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/#scope","title":"Scope","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/#in-scope","title":"In Scope","text":"<ul> <li>Development environment setup</li> <li>Database schema creation (PoC tables only)</li> <li>Basic authentication (JWT)</li> <li>Core UI components (shadcn/ui setup)</li> <li>UX kernel components (text input, lookup, grid)</li> <li>API foundation (NestJS setup)</li> <li>Build and deployment configuration</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Full authentication system (OIDC deferred to MVP)</li> <li>Complete database schema (only PoC tables)</li> <li>Production deployment</li> <li>Advanced security features</li> <li>Audit logging (basic only)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#deliverables","title":"Deliverables","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/#week-1-2-infrastructure-setup","title":"Week 1-2: Infrastructure Setup","text":"<ul> <li>Development environment</li> <li>Git repository setup</li> <li>CI/CD pipeline (basic)</li> <li>Database setup</li> <li>Development tools configuration</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#week-3-core-components-development","title":"Week 3: Core Components Development","text":"<ul> <li>Frontend foundation (React + TypeScript)</li> <li>Backend foundation (NestJS)</li> <li>Database schema (PoC tables)</li> <li>Authentication framework</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#week-4-ux-kernel-development","title":"Week 4: UX Kernel Development","text":"<ul> <li>Keyboard-first components</li> <li>Data grid setup</li> <li>Form layout components</li> <li>Design system foundation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#success-criteria","title":"Success Criteria","text":"<ul> <li>[ ] Development environment fully operational</li> <li>[ ] Database schema created and tested</li> <li>[ ] Authentication working (basic JWT)</li> <li>[ ] Core components implemented and reusable</li> <li>[ ] UX kernel components functional</li> <li>[ ] Team can start Phase 1 development</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#tasks","title":"Tasks","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/#01-infrastructure-setup","title":"01: Infrastructure Setup","text":"<ul> <li>Task 01-01: Development Environment Setup</li> <li>Task 01-02: Database Setup and Configuration</li> <li>Task 01-03: Git Repository and CI/CD Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#02-core-components","title":"02: Core Components","text":"<ul> <li>Task 02-01: Authentication Framework Setup</li> <li>Task 02-02: API Foundation (NestJS)</li> <li>Task 02-03: Frontend Foundation (React + TypeScript)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#03-database-schema","title":"03: Database Schema","text":"<ul> <li>Task 03-01: Master Data Tables Schema</li> <li>Task 03-02: Order Enquiry Tables Schema</li> <li>Task 03-03: Reference Tables Schema</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#04-ux-kernel","title":"04: UX Kernel","text":"<ul> <li>Task 04-01: Text Input with Auto-Advance</li> <li>Task 04-02: Lookup Component with Type-to-Search</li> <li>Task 04-03: Data Grid Setup (React Data Grid)</li> <li>Task 04-04: Form Layout Components</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#dependencies","title":"Dependencies","text":"<ul> <li>Technology stack decisions finalized</li> <li>Team assembled</li> <li>Development tools available</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#risks","title":"Risks","text":"<ul> <li>Technology Stack Issues: Mitigation - Research and validate early</li> <li>Infrastructure Delays: Mitigation - Use cloud templates and automation</li> <li>Learning Curve: Mitigation - Team training and pair programming</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/#next-phase","title":"Next Phase","text":"<p>After Phase 0 completion, proceed to Phase 1: Master Data Module</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/#document-references","title":"Document References","text":"<ul> <li>PoC Strategy: <code>../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> <li>Target Architecture: <code>../../docs/modernization-strategy/03-target-state-architecture/</code></li> <li>UX/UI Strategy: <code>../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/","title":"Task 01-01: Development Environment Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 1</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: None</li> <li>Assignee: DevOps/Backend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#objective","title":"Objective","text":"<p>Set up the complete development environment for the PoC, including Node.js, PostgreSQL, development tools, IDE configuration, and local development setup.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#1-runtime-environment","title":"1. Runtime Environment","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#nodejs-setup","title":"Node.js Setup","text":"<ul> <li>Install Node.js 18+ LTS version</li> <li>Install npm or yarn package manager</li> <li>Verify installation: <code>node --version</code>, <code>npm --version</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#postgresql-setup","title":"PostgreSQL Setup","text":"<ul> <li>Install PostgreSQL 14+ (or use Docker)</li> <li>Create development database: <code>baitin_poc_dev</code></li> <li>Configure database user with appropriate permissions</li> <li>Verify connection: <code>psql -U username -d baitin_poc_dev</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#docker-optional-but-recommended","title":"Docker (Optional but Recommended)","text":"<ul> <li>Docker Desktop installed</li> <li>Docker Compose for local services</li> <li>PostgreSQL container for development</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#2-development-tools","title":"2. Development Tools","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#code-editor","title":"Code Editor","text":"<ul> <li>VS Code recommended</li> <li>Required extensions:</li> <li>ESLint</li> <li>Prettier</li> <li>TypeScript and JavaScript Language Features</li> <li>GitLens</li> <li>Docker (if using Docker)</li> <li>PostgreSQL (database management)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#git","title":"Git","text":"<ul> <li>Git installed and configured</li> <li>Git credentials set up</li> <li>SSH keys configured (if using SSH)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#api-testing","title":"API Testing","text":"<ul> <li>Postman or Insomnia installed</li> <li>REST Client extension for VS Code (alternative)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#database-management","title":"Database Management","text":"<ul> <li>pgAdmin or DBeaver installed</li> <li>Or use VS Code PostgreSQL extension</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#3-project-structure-setup","title":"3. Project Structure Setup","text":"<pre><code>baitin-poc/\n\u251c\u2500\u2500 frontend/\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u2502   \u251c\u2500\u2500 vite.config.ts\n\u2502   \u2514\u2500\u2500 src/\n\u251c\u2500\u2500 backend/\n\u2502   \u251c\u2500\u2500 package.json\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u2502   \u251c\u2500\u2500 nest-cli.json\n\u2502   \u2514\u2500\u2500 src/\n\u251c\u2500\u2500 docs/\n\u251c\u2500\u2500 docker-compose.yml\n\u251c\u2500\u2500 .gitignore\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#4-configuration-files","title":"4. Configuration Files","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#gitignore","title":".gitignore","text":"<ul> <li>Node modules</li> <li>Build artifacts</li> <li>Environment files (.env)</li> <li>IDE files</li> <li>Database files</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#environment-variables","title":"Environment Variables","text":"<ul> <li><code>.env.example</code> template created</li> <li><code>.env.development</code> for local development</li> <li>Environment variables documented</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#5-package-management","title":"5. Package Management","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#frontend-dependencies","title":"Frontend Dependencies","text":"<ul> <li>React 18+</li> <li>TypeScript</li> <li>Vite (build tool)</li> <li>React Router</li> <li>React Query</li> <li>React Hook Form</li> <li>shadcn/ui</li> <li>React Data Grid (Adazzle)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#backend-dependencies","title":"Backend Dependencies","text":"<ul> <li>NestJS</li> <li>TypeScript</li> <li>TypeORM or Prisma</li> <li>PostgreSQL driver</li> <li>JWT authentication</li> <li>Class-validator</li> <li>Class-transformer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Install Runtime Environments</li> <li>Install Node.js 18+ LTS</li> <li>Install PostgreSQL 14+ or set up Docker</li> <li> <p>Verify installations</p> </li> <li> <p>Set Up Project Structure</p> </li> <li>Create project root directory</li> <li>Initialize frontend project (Vite + React + TypeScript)</li> <li>Initialize backend project (NestJS)</li> <li> <p>Set up folder structure</p> </li> <li> <p>Configure Development Tools</p> </li> <li>Install VS Code and extensions</li> <li>Configure ESLint and Prettier</li> <li>Set up Git repository</li> <li> <p>Configure .gitignore</p> </li> <li> <p>Set Up Database</p> </li> <li>Create development database</li> <li>Configure database user</li> <li> <p>Test connection</p> </li> <li> <p>Install Dependencies</p> </li> <li>Install frontend dependencies</li> <li>Install backend dependencies</li> <li> <p>Verify all packages install correctly</p> </li> <li> <p>Create Configuration Files</p> </li> <li>Create .env.example</li> <li>Create .env.development</li> <li>Configure build scripts</li> <li> <p>Set up start scripts</p> </li> <li> <p>Verify Setup</p> </li> <li>Frontend dev server starts successfully</li> <li>Backend dev server starts successfully</li> <li>Database connection works</li> <li>All tools accessible</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Node.js 18+ installed and working</li> <li>[ ] PostgreSQL 14+ installed or Docker setup working</li> <li>[ ] Project structure created</li> <li>[ ] Frontend project initializes and runs (<code>npm run dev</code>)</li> <li>[ ] Backend project initializes and runs (<code>npm run start:dev</code>)</li> <li>[ ] Database connection successful</li> <li>[ ] VS Code configured with required extensions</li> <li>[ ] Git repository initialized</li> <li>[ ] .gitignore configured correctly</li> <li>[ ] Environment variables template created</li> <li>[ ] All dependencies install without errors</li> <li>[ ] Development servers start successfully</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Frontend dev server starts on port 5173 (Vite default)</li> <li>[ ] Backend dev server starts on port 3000</li> <li>[ ] Database connection test passes</li> <li>[ ] Hot reload works in frontend</li> <li>[ ] Hot reload works in backend</li> <li>[ ] TypeScript compilation succeeds</li> <li>[ ] ESLint runs without errors (empty project)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#configuration-examples","title":"Configuration Examples","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#frontend-packagejson-scripts","title":"Frontend package.json Scripts","text":"<pre><code>{\n  \"scripts\": {\n    \"dev\": \"vite\",\n    \"build\": \"tsc &amp;&amp; vite build\",\n    \"preview\": \"vite preview\",\n    \"lint\": \"eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0\"\n  }\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#backend-packagejson-scripts","title":"Backend package.json Scripts","text":"<pre><code>{\n  \"scripts\": {\n    \"start\": \"nest start\",\n    \"start:dev\": \"nest start --watch\",\n    \"start:debug\": \"nest start --debug --watch\",\n    \"start:prod\": \"node dist/main\",\n    \"build\": \"nest build\",\n    \"lint\": \"eslint \\\"{src,apps,libs,test}/**/*.ts\\\" --fix\"\n  }\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#envexample-template","title":".env.example Template","text":"<pre><code># Database\nDATABASE_HOST=localhost\nDATABASE_PORT=5432\nDATABASE_NAME=baitin_poc_dev\nDATABASE_USER=postgres\nDATABASE_PASSWORD=postgres\n\n# JWT\nJWT_SECRET=your-secret-key-change-in-production\nJWT_EXPIRES_IN=1d\n\n# Server\nPORT=3000\nNODE_ENV=development\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#notes","title":"Notes","text":"<ul> <li>Use Docker for PostgreSQL to ensure consistency across team</li> <li>Document any additional setup steps for team onboarding</li> <li>Ensure all developers can replicate the setup</li> <li>Consider creating setup scripts for automation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#dependencies","title":"Dependencies","text":"<ul> <li>None (foundational task)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 01-02: Database Setup and Configuration</li> <li>Task 01-03: Git Repository and CI/CD Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-01-development-environment/#references","title":"References","text":"<ul> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> <li>Target Architecture: <code>../../../../docs/modernization-strategy/03-target-state-architecture/</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/","title":"Task 01-02: Database Setup and Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 1</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 01-01 (Development Environment)</li> <li>Assignee: Backend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#objective","title":"Objective","text":"<p>Set up PostgreSQL database for PoC with proper configuration, connection management, and basic schema structure. This includes creating the database, setting up connection pooling, and preparing for schema migrations.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#1-database-creation","title":"1. Database Creation","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#development-database","title":"Development Database","text":"<ul> <li>Database name: <code>baitin_poc_dev</code></li> <li>Database user: <code>baitin_dev</code> (or configured user)</li> <li>Permissions: Full access to development database</li> <li>Encoding: UTF-8</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#test-database-optional","title":"Test Database (Optional)","text":"<ul> <li>Database name: <code>baitin_poc_test</code></li> <li>For running integration tests</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#2-connection-configuration","title":"2. Connection Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#connection-pooling","title":"Connection Pooling","text":"<ul> <li>Configure connection pool size</li> <li>Set appropriate timeouts</li> <li>Configure retry logic</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#environment-based-configuration","title":"Environment-Based Configuration","text":"<ul> <li>Development database connection</li> <li>Test database connection</li> <li>Production database connection (for future)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#3-migration-setup","title":"3. Migration Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#migration-tool","title":"Migration Tool","text":"<ul> <li>TypeORM migrations (if using TypeORM)</li> <li>Or Prisma migrations (if using Prisma)</li> <li>Or raw SQL migrations with version control</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#migration-structure","title":"Migration Structure","text":"<ul> <li>Initial migration template</li> <li>Migration versioning</li> <li>Rollback capability</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#4-database-tools-integration","title":"4. Database Tools Integration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#orm-setup","title":"ORM Setup","text":"<ul> <li>TypeORM or Prisma configured</li> <li>Database schema defined in code</li> <li>Type-safe database access</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#seeding-setup","title":"Seeding Setup","text":"<ul> <li>Seed script for reference data</li> <li>Development data seeding (optional)</li> <li>Test data seeding</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Create Database</li> <li>Create development database</li> <li>Create database user</li> <li>Grant appropriate permissions</li> <li> <p>Verify creation</p> </li> <li> <p>Configure Connection</p> </li> <li>Set up connection configuration</li> <li>Configure connection pooling</li> <li>Add connection health check</li> <li> <p>Test connection</p> </li> <li> <p>Set Up ORM/Migration Tool</p> </li> <li>Install and configure TypeORM or Prisma</li> <li>Create initial migration structure</li> <li>Set up migration scripts</li> <li> <p>Test migration execution</p> </li> <li> <p>Create Database Module (NestJS)</p> </li> <li>Database module setup</li> <li>Connection provider</li> <li>Repository pattern setup</li> <li> <p>Database health check endpoint</p> </li> <li> <p>Configure Environment Variables</p> </li> <li>Database connection string</li> <li>Connection pool settings</li> <li> <p>Migration settings</p> </li> <li> <p>Documentation</p> </li> <li>Connection string format</li> <li>Migration commands</li> <li>Seeding commands</li> <li>Backup/restore procedures</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Development database created and accessible</li> <li>[ ] Database connection successful from backend</li> <li>[ ] Connection pooling configured correctly</li> <li>[ ] Migration tool set up and working</li> <li>[ ] Can run migrations successfully</li> <li>[ ] Can rollback migrations</li> <li>[ ] Database health check endpoint working</li> <li>[ ] Environment variables configured</li> <li>[ ] Documentation created</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#database-configuration","title":"Database Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#connection-pool-settings","title":"Connection Pool Settings","text":"<pre><code>{\n  max: 20, // Maximum pool size\n  min: 5,  // Minimum pool size\n  idle: 10000, // Idle timeout\n  acquire: 30000, // Acquire timeout\n  evict: 1000 // Eviction interval\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#typeorm-configuration-example","title":"TypeORM Configuration Example","text":"<pre><code>{\n  type: 'postgres',\n  host: process.env.DATABASE_HOST,\n  port: parseInt(process.env.DATABASE_PORT),\n  username: process.env.DATABASE_USER,\n  password: process.env.DATABASE_PASSWORD,\n  database: process.env.DATABASE_NAME,\n  entities: [__dirname + '/**/*.entity{.ts,.js}'],\n  migrations: [__dirname + '/migrations/**/*{.ts,.js}'],\n  synchronize: false, // Never true in production\n  logging: process.env.NODE_ENV === 'development',\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Connection test successful</li> <li>[ ] Migration execution works</li> <li>[ ] Migration rollback works</li> <li>[ ] Connection pooling working correctly</li> <li>[ ] Health check endpoint returns success</li> <li>[ ] Database errors handled gracefully</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#environment-variables","title":"Environment Variables","text":"<pre><code>DATABASE_HOST=localhost\nDATABASE_PORT=5432\nDATABASE_NAME=baitin_poc_dev\nDATABASE_USER=baitin_dev\nDATABASE_PASSWORD=your_password\nDATABASE_POOL_MAX=20\nDATABASE_POOL_MIN=5\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#notes","title":"Notes","text":"<ul> <li>Use environment variables for all connection settings</li> <li>Never hardcode credentials</li> <li>Set up connection retry logic</li> <li>Monitor connection pool usage</li> <li>Consider using connection string format for easier configuration</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-01: Development Environment Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 03-01: Master Data Tables Schema</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-02-database-setup/#references","title":"References","text":"<ul> <li>Data Architecture: <code>../../../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/","title":"Task 01-03: Git Repository and CI/CD Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 1-2</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 01-01 (Development Environment)</li> <li>Assignee: DevOps/Lead Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#objective","title":"Objective","text":"<p>Set up Git repository with proper branching strategy, commit conventions, and basic CI/CD pipeline for automated testing and building.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#1-git-repository-setup","title":"1. Git Repository Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#repository-initialization","title":"Repository Initialization","text":"<ul> <li>Initialize Git repository (if new)</li> <li>Or clone existing repository</li> <li>Configure remote repository (GitHub/GitLab/etc.)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#branching-strategy","title":"Branching Strategy","text":"<ul> <li>Main/Master branch (production-ready code)</li> <li>Develop branch (integration branch)</li> <li>Feature branches (feature/phase-0-task-01-xx)</li> <li>Hotfix branches (if needed)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#2-git-configuration","title":"2. Git Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#gitignore","title":".gitignore","text":"<ul> <li>Node modules (<code>node_modules/</code>)</li> <li>Build artifacts (<code>dist/</code>, <code>build/</code>)</li> <li>Environment files (<code>.env</code>, <code>.env.local</code>)</li> <li>IDE files (<code>.vscode/</code>, <code>.idea/</code>)</li> <li>OS files (<code>.DS_Store</code>, <code>Thumbs.db</code>)</li> <li>Database files (<code>.db</code>, <code>.sqlite</code>)</li> <li>Log files (<code>*.log</code>)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#commit-convention","title":"Commit Convention","text":"<ul> <li>Use conventional commits (optional but recommended)</li> <li>Format: <code>type(scope): description</code></li> <li>Types: feat, fix, docs, style, refactor, test, chore</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#3-cicd-pipeline","title":"3. CI/CD Pipeline","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#basic-pipeline-steps","title":"Basic Pipeline Steps","text":"<ol> <li>Lint Check: Run ESLint/TSLint</li> <li>Type Check: Run TypeScript compiler check</li> <li>Unit Tests: Run unit tests (when available)</li> <li>Build: Build frontend and backend</li> <li>Integration Tests: Run integration tests (when available)</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#pipeline-triggers","title":"Pipeline Triggers","text":"<ul> <li>On pull request</li> <li>On push to develop/main branches</li> <li>Manual trigger option</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#pipeline-tools-choose-one","title":"Pipeline Tools (Choose One)","text":"<ul> <li>GitHub Actions</li> <li>GitLab CI/CD</li> <li>Jenkins</li> <li>CircleCI</li> <li>Azure DevOps</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#4-code-quality-tools","title":"4. Code Quality Tools","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#pre-commit-hooks-optional","title":"Pre-commit Hooks (Optional)","text":"<ul> <li>Husky for Git hooks</li> <li>Lint-staged for staged files</li> <li>Pre-commit validation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#code-formatting","title":"Code Formatting","text":"<ul> <li>Prettier configuration</li> <li>Auto-format on save (VS Code)</li> <li>Format check in CI/CD</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Initialize Git Repository</li> <li>Create repository on Git hosting service</li> <li>Clone or initialize locally</li> <li> <p>Configure remote</p> </li> <li> <p>Set Up .gitignore</p> </li> <li>Create comprehensive .gitignore</li> <li>Test with sample files</li> <li> <p>Document ignored patterns</p> </li> <li> <p>Configure Branching</p> </li> <li>Create main/develop branches</li> <li>Set up branch protection rules (if using)</li> <li> <p>Document branching strategy</p> </li> <li> <p>Set Up CI/CD Pipeline</p> </li> <li>Choose CI/CD tool</li> <li>Create pipeline configuration file</li> <li>Configure pipeline steps</li> <li> <p>Test pipeline execution</p> </li> <li> <p>Set Up Pre-commit Hooks (Optional)</p> </li> <li>Install Husky</li> <li>Configure pre-commit hooks</li> <li> <p>Set up lint-staged</p> </li> <li> <p>Documentation</p> </li> <li>Document branching strategy</li> <li>Document commit conventions</li> <li>Document CI/CD process</li> <li>Document setup instructions</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Git repository initialized and accessible</li> <li>[ ] .gitignore configured correctly</li> <li>[ ] Branching strategy documented and set up</li> <li>[ ] CI/CD pipeline configured and working</li> <li>[ ] Pipeline runs on pull requests</li> <li>[ ] Pipeline runs on push to main branches</li> <li>[ ] Lint check in pipeline working</li> <li>[ ] Build step in pipeline working</li> <li>[ ] Commit conventions documented</li> <li>[ ] Team can clone and set up repository</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#gitignore-template","title":".gitignore Template","text":"<pre><code># Dependencies\nnode_modules/\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*\n\n# Build outputs\ndist/\nbuild/\n*.tsbuildinfo\n\n# Environment variables\n.env\n.env.local\n.env.development.local\n.env.test.local\n.env.production.local\n\n# IDE\n.vscode/\n.idea/\n*.swp\n*.swo\n*~\n\n# OS\n.DS_Store\nThumbs.db\n\n# Testing\ncoverage/\n.nyc_output/\n\n# Logs\nlogs/\n*.log\n\n# Database\n*.db\n*.sqlite\n*.sqlite3\n\n# Temporary files\ntmp/\ntemp/\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#cicd-pipeline-example-github-actions","title":"CI/CD Pipeline Example (GitHub Actions)","text":"<pre><code>name: CI/CD Pipeline\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main, develop ]\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n      - run: npm ci\n      - run: npm run lint\n\n  type-check:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n      - run: npm ci\n      - run: npm run type-check\n\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-node@v3\n        with:\n          node-version: '18'\n      - run: npm ci\n      - run: npm run build\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#commit-convention-example","title":"Commit Convention Example","text":"<pre><code>feat(frontend): add item entry form component\nfix(backend): resolve database connection timeout\ndocs(readme): update setup instructions\nrefactor(api): improve error handling\ntest(item): add unit tests for item validation\nchore(deps): update dependencies\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Repository can be cloned by team members</li> <li>[ ] .gitignore prevents committing sensitive files</li> <li>[ ] CI/CD pipeline runs successfully</li> <li>[ ] Pipeline fails on lint errors</li> <li>[ ] Pipeline fails on build errors</li> <li>[ ] Branch protection works (if configured)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#notes","title":"Notes","text":"<ul> <li>Start with simple CI/CD pipeline, add more checks as needed</li> <li>Consider adding automated dependency updates (Dependabot)</li> <li>Set up branch protection for main branch</li> <li>Document all conventions for team</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-01: Development Environment Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#next-tasks","title":"Next Tasks","text":"<ul> <li>Continue with Phase 0 core components tasks</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/01-infrastructure-setup/task-01-03-git-and-cicd/#references","title":"References","text":"<ul> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/","title":"Task 02-01: Authentication Framework Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 3</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 01-02 (Database Setup)</li> <li>Assignee: Backend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#objective","title":"Objective","text":"<p>Set up basic JWT-based authentication framework for the PoC. This includes user model, login endpoint, JWT token generation, and authentication guards.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#1-user-modelentity","title":"1. User Model/Entity","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#user-table-schema","title":"User Table Schema","text":"<ul> <li><code>id</code> - Primary key (UUID or integer)</li> <li><code>username</code> - Unique username</li> <li><code>password</code> - Hashed password (bcrypt)</li> <li><code>user_right</code> - User role (SUPERVISOR, REGULAR_USER)</li> <li><code>company_code</code> - Company code (HT, BAT, INSP, HFW)</li> <li><code>cre_date</code> - Creation date</li> <li><code>mod_date</code> - Modification date</li> <li><code>active</code> - Active status (boolean)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#reference-original-system","title":"Reference: Original System","text":"<ul> <li>Table: <code>muser</code> (from legacy system)</li> <li>Roles: SUPERVISOR, REGULAR_USER</li> <li>Companies: HT, BAT, INSP, HFW</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#2-authentication-endpoints","title":"2. Authentication Endpoints","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#post-apiauthlogin","title":"POST /api/auth/login","text":"<ul> <li>Accepts username and password</li> <li>Validates credentials</li> <li>Returns JWT token</li> <li>Returns user information (role, company)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#post-apiauthlogout-optional","title":"POST /api/auth/logout (Optional)","text":"<ul> <li>Invalidates token (if using token blacklist)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#get-apiauthme","title":"GET /api/auth/me","text":"<ul> <li>Returns current user information</li> <li>Protected route (requires authentication)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#3-jwt-configuration","title":"3. JWT Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#token-payload","title":"Token Payload","text":"<ul> <li><code>sub</code> - User ID</li> <li><code>username</code> - Username</li> <li><code>role</code> - User role</li> <li><code>company</code> - Company code</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#token-expiration","title":"Token Expiration","text":"<ul> <li>Access token: 1 day (for PoC)</li> <li>Refresh token: 7 days (if implementing)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#4-authentication-guards","title":"4. Authentication Guards","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#jwt-auth-guard","title":"JWT Auth Guard","text":"<ul> <li>Validates JWT token</li> <li>Extracts user information</li> <li>Attaches user to request</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#role-guard-optional","title":"Role Guard (Optional)","text":"<ul> <li>Checks user role</li> <li>Allows/denies access based on role</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Create User Entity/Model</li> <li>Define user schema</li> <li>Create database migration</li> <li> <p>Run migration</p> </li> <li> <p>Implement Password Hashing</p> </li> <li>Use bcrypt for password hashing</li> <li>Implement hash/compare functions</li> <li> <p>Test password hashing</p> </li> <li> <p>Create Authentication Module</p> </li> <li>Auth service</li> <li>Auth controller</li> <li>JWT strategy</li> <li> <p>JWT auth guard</p> </li> <li> <p>Implement Login Endpoint</p> </li> <li>Validate credentials</li> <li>Generate JWT token</li> <li> <p>Return token and user info</p> </li> <li> <p>Implement Auth Guards</p> </li> <li>JWT auth guard</li> <li>Apply to protected routes</li> <li> <p>Test authentication</p> </li> <li> <p>Create Seed Data</p> </li> <li>Create test users</li> <li>Default admin user</li> <li>Test regular user</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] User entity/model created</li> <li>[ ] User table migration successful</li> <li>[ ] Password hashing working correctly</li> <li>[ ] Login endpoint functional</li> <li>[ ] JWT token generation working</li> <li>[ ] JWT token validation working</li> <li>[ ] Auth guards protecting routes</li> <li>[ ] /api/auth/me endpoint working</li> <li>[ ] Test users created</li> <li>[ ] Can login and receive token</li> <li>[ ] Protected routes require authentication</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#api-endpoints","title":"API Endpoints","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#post-apiauthlogin_1","title":"POST /api/auth/login","text":"<p>Request: <pre><code>{\n  \"username\": \"admin\",\n  \"password\": \"password123\",\n  \"company\": \"HT\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"user\": {\n    \"id\": 1,\n    \"username\": \"admin\",\n    \"role\": \"SUPERVISOR\",\n    \"company\": \"HT\"\n  }\n}\n</code></pre></p>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#get-apiauthme_1","title":"GET /api/auth/me","text":"<p>Headers: <pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre></p> <p>Response: <pre><code>{\n  \"id\": 1,\n  \"username\": \"admin\",\n  \"role\": \"SUPERVISOR\",\n  \"company\": \"HT\"\n}\n</code></pre></p>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Login with valid credentials succeeds</li> <li>[ ] Login with invalid credentials fails</li> <li>[ ] JWT token generated correctly</li> <li>[ ] Protected route without token returns 401</li> <li>[ ] Protected route with valid token succeeds</li> <li>[ ] /api/auth/me returns current user</li> <li>[ ] Password hashing secure (bcrypt)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#seed-data","title":"Seed Data","text":"<pre><code>// Default admin user\n{\n  username: 'admin',\n  password: 'hashed_password',\n  user_right: 'SUPERVISOR',\n  company_code: 'HT',\n  active: true\n}\n\n// Test regular user\n{\n  username: 'user1',\n  password: 'hashed_password',\n  user_right: 'REGULAR_USER',\n  company_code: 'HT',\n  active: true\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#notes","title":"Notes","text":"<ul> <li>This is basic authentication for PoC</li> <li>OIDC will be implemented in MVP phase</li> <li>Store passwords securely (never plain text)</li> <li>Use environment variables for JWT secret</li> <li>Consider rate limiting for login endpoint</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-02: Database Setup</li> <li>Task 03-01: Master Data Tables Schema (for user table)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 02-02: API Foundation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-01-authentication-setup/#references","title":"References","text":"<ul> <li>User Roles: <code>../../../../docs/00-overview/user-roles.md</code></li> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/","title":"Task 02-02: API Foundation (NestJS)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 3</li> <li>Priority: High</li> <li>Estimated Effort: 3 days</li> <li>Dependencies: Task 01-02 (Database Setup), Task 02-01 (Authentication)</li> <li>Assignee: Backend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#objective","title":"Objective","text":"<p>Set up NestJS API foundation with proper structure, modules, error handling, validation, logging, and API documentation.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#1-nestjs-project-structure","title":"1. NestJS Project Structure","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#module-structure","title":"Module Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 main.ts\n\u251c\u2500\u2500 app.module.ts\n\u251c\u2500\u2500 auth/\n\u2502   \u251c\u2500\u2500 auth.module.ts\n\u2502   \u251c\u2500\u2500 auth.controller.ts\n\u2502   \u2514\u2500\u2500 auth.service.ts\n\u251c\u2500\u2500 common/\n\u2502   \u251c\u2500\u2500 decorators/\n\u2502   \u251c\u2500\u2500 filters/\n\u2502   \u251c\u2500\u2500 guards/\n\u2502   \u251c\u2500\u2500 interceptors/\n\u2502   \u2514\u2500\u2500 pipes/\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 configuration.ts\n\u2514\u2500\u2500 database/\n    \u2514\u2500\u2500 database.module.ts\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#2-core-configuration","title":"2. Core Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#environment-configuration","title":"Environment Configuration","text":"<ul> <li>Environment variable management</li> <li>Configuration module</li> <li>Type-safe configuration</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#global-exception-filter","title":"Global Exception Filter","text":"<ul> <li>Standardized error responses</li> <li>Error logging</li> <li>Development vs production error handling</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#validation-pipe","title":"Validation Pipe","text":"<ul> <li>Global validation pipe</li> <li>Class-validator integration</li> <li>Custom validation messages</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#logging","title":"Logging","text":"<ul> <li>Logger configuration</li> <li>Request logging</li> <li>Error logging</li> <li>Performance logging</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#3-api-documentation","title":"3. API Documentation","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#swaggeropenapi","title":"Swagger/OpenAPI","text":"<ul> <li>Swagger setup</li> <li>API documentation generation</li> <li>Endpoint documentation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#4-common-utilities","title":"4. Common Utilities","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#response-dtos","title":"Response DTOs","text":"<ul> <li>Standardized response format</li> <li>Error response format</li> <li>Success response format</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#decorators","title":"Decorators","text":"<ul> <li>Current user decorator</li> <li>Roles decorator</li> <li>Public route decorator</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#interceptors","title":"Interceptors","text":"<ul> <li>Response transformation</li> <li>Logging interceptor</li> <li>Performance monitoring</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Set Up NestJS Project</li> <li>Initialize NestJS project</li> <li>Configure TypeScript</li> <li> <p>Set up module structure</p> </li> <li> <p>Configure Environment</p> </li> <li>Install @nestjs/config</li> <li>Set up configuration module</li> <li> <p>Load environment variables</p> </li> <li> <p>Set Up Global Pipes/Filters</p> </li> <li>Global validation pipe</li> <li>Global exception filter</li> <li> <p>Request logging interceptor</p> </li> <li> <p>Set Up Swagger</p> </li> <li>Install @nestjs/swagger</li> <li>Configure Swagger module</li> <li> <p>Add API documentation</p> </li> <li> <p>Create Common Modules</p> </li> <li>Common decorators</li> <li>Common DTOs</li> <li> <p>Common utilities</p> </li> <li> <p>Set Up Database Module</p> </li> <li>Database connection</li> <li>Repository pattern</li> <li> <p>Transaction support</p> </li> <li> <p>Create Health Check</p> </li> <li>Health check endpoint</li> <li>Database health check</li> <li>Service health check</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] NestJS project initialized</li> <li>[ ] Module structure set up correctly</li> <li>[ ] Environment configuration working</li> <li>[ ] Global validation pipe working</li> <li>[ ] Global exception filter working</li> <li>[ ] Swagger documentation accessible</li> <li>[ ] Logging configured and working</li> <li>[ ] Health check endpoint working</li> <li>[ ] Database module integrated</li> <li>[ ] Authentication integrated</li> <li>[ ] API can start and run</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#api-response-format","title":"API Response Format","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#success-response","title":"Success Response","text":"<pre><code>{\n  \"success\": true,\n  \"data\": { ... },\n  \"message\": \"Operation successful\"\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#error-response","title":"Error Response","text":"<pre><code>{\n  \"success\": false,\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Validation failed\",\n    \"details\": [ ... ]\n  },\n  \"timestamp\": \"2025-01-XX...\"\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#swagger-configuration","title":"Swagger Configuration","text":"<pre><code>const config = new DocumentBuilder()\n  .setTitle('BAITIN PoC API')\n  .setDescription('API documentation for BAITIN PoC')\n  .setVersion('1.0')\n  .addBearerAuth()\n  .build();\n\nconst document = SwaggerModule.createDocument(app, config);\nSwaggerModule.setup('api/docs', app, document);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#health-check-endpoint","title":"Health Check Endpoint","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#get-health","title":"GET /health","text":"<p>Response: <pre><code>{\n  \"status\": \"ok\",\n  \"database\": \"connected\",\n  \"timestamp\": \"2025-01-XX...\"\n}\n</code></pre></p>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] API starts successfully</li> <li>[ ] Health check returns success</li> <li>[ ] Swagger UI accessible</li> <li>[ ] Validation works on endpoints</li> <li>[ ] Error handling returns proper format</li> <li>[ ] Logging captures requests</li> <li>[ ] Authentication guards work</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#notes","title":"Notes","text":"<ul> <li>Follow NestJS best practices</li> <li>Use dependency injection properly</li> <li>Keep modules focused and modular</li> <li>Document all endpoints with Swagger</li> <li>Use DTOs for all request/response</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-02: Database Setup</li> <li>Task 02-01: Authentication Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 02-03: Frontend Foundation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-02-api-foundation/#references","title":"References","text":"<ul> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> <li>Target Architecture: <code>../../../../docs/modernization-strategy/03-target-state-architecture/</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/","title":"Task 02-03: Frontend Foundation (React + TypeScript)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 3</li> <li>Priority: High</li> <li>Estimated Effort: 3 days</li> <li>Dependencies: Task 01-01 (Development Environment)</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#objective","title":"Objective","text":"<p>Set up React + TypeScript frontend foundation with Vite, routing, state management, API client, and project structure.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#1-react-project-setup","title":"1. React Project Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#project-structure","title":"Project Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 main.tsx\n\u251c\u2500\u2500 App.tsx\n\u251c\u2500\u2500 components/\n\u2502   \u2514\u2500\u2500 ui/ (shadcn/ui components)\n\u251c\u2500\u2500 pages/\n\u251c\u2500\u2500 hooks/\n\u251c\u2500\u2500 services/\n\u2502   \u2514\u2500\u2500 api/\n\u251c\u2500\u2500 store/\n\u2502   \u2514\u2500\u2500 contexts/\n\u251c\u2500\u2500 types/\n\u251c\u2500\u2500 utils/\n\u2514\u2500\u2500 lib/\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#technology-stack","title":"Technology Stack","text":"<ul> <li>React 18+</li> <li>TypeScript 5+</li> <li>Vite (build tool)</li> <li>React Router (routing)</li> <li>React Query (server state)</li> <li>React Hook Form (forms)</li> <li>Axios or Fetch (API client)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#2-shadcnui-setup","title":"2. shadcn/ui Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#installation","title":"Installation","text":"<ul> <li>Install shadcn/ui</li> <li>Configure components.json</li> <li>Set up Tailwind CSS</li> <li>Add initial components</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#initial-components","title":"Initial Components","text":"<ul> <li>Button</li> <li>Input</li> <li>Label</li> <li>Form</li> <li>Dialog</li> <li>Select</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#3-routing-setup","title":"3. Routing Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#routes","title":"Routes","text":"<ul> <li><code>/login</code> - Login page</li> <li><code>/dashboard</code> - Dashboard (protected)</li> <li>Route protection with authentication</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#route-guards","title":"Route Guards","text":"<ul> <li>Protected route component</li> <li>Redirect to login if not authenticated</li> <li>Store return URL</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#4-state-management","title":"4. State Management","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#react-query-setup","title":"React Query Setup","text":"<ul> <li>Query client configuration</li> <li>Default options</li> <li>Error handling</li> <li>Caching strategy</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#context-api","title":"Context API","text":"<ul> <li>Auth context</li> <li>User context</li> <li>Theme context (if needed)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#5-api-client-setup","title":"5. API Client Setup","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#axiosfetch-configuration","title":"Axios/Fetch Configuration","text":"<ul> <li>Base URL configuration</li> <li>Request interceptors (add token)</li> <li>Response interceptors (handle errors)</li> <li>Error handling</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#6-type-definitions","title":"6. Type Definitions","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#api-types","title":"API Types","text":"<ul> <li>Request/response types</li> <li>Entity types</li> <li>DTO types</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Initialize React Project</li> <li>Create Vite + React + TypeScript project</li> <li>Configure TypeScript</li> <li> <p>Set up folder structure</p> </li> <li> <p>Install Dependencies</p> </li> <li>React Router</li> <li>React Query</li> <li>React Hook Form</li> <li>Axios</li> <li>shadcn/ui</li> <li> <p>Tailwind CSS</p> </li> <li> <p>Set Up shadcn/ui</p> </li> <li>Initialize shadcn/ui</li> <li>Configure components.json</li> <li> <p>Add initial components</p> </li> <li> <p>Set Up Routing</p> </li> <li>Configure React Router</li> <li>Create route components</li> <li> <p>Set up protected routes</p> </li> <li> <p>Set Up React Query</p> </li> <li>Configure QueryClient</li> <li>Set up QueryClientProvider</li> <li> <p>Configure default options</p> </li> <li> <p>Set Up API Client</p> </li> <li>Configure Axios/Fetch</li> <li>Set up interceptors</li> <li> <p>Create API service structure</p> </li> <li> <p>Create Auth Context</p> </li> <li>Auth context provider</li> <li>Login/logout functions</li> <li> <p>Token management</p> </li> <li> <p>Create Basic Layout</p> </li> <li>Main layout component</li> <li>Navigation component</li> <li>Footer component</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] React project initialized with Vite</li> <li>[ ] TypeScript configured correctly</li> <li>[ ] shadcn/ui installed and configured</li> <li>[ ] Routing set up and working</li> <li>[ ] React Query configured</li> <li>[ ] API client configured</li> <li>[ ] Auth context working</li> <li>[ ] Protected routes working</li> <li>[ ] Login page accessible</li> <li>[ ] Dashboard accessible (when authenticated)</li> <li>[ ] Project structure organized</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#project-configuration","title":"Project Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#viteconfigts","title":"vite.config.ts","text":"<pre><code>import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\nimport path from 'path'\n\nexport default defineConfig({\n  plugins: [react()],\n  resolve: {\n    alias: {\n      '@': path.resolve(__dirname, './src'),\n    },\n  },\n  server: {\n    port: 5173,\n    proxy: {\n      '/api': {\n        target: 'http://localhost:3000',\n        changeOrigin: true,\n      },\n    },\n  },\n})\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#tsconfigjson","title":"tsconfig.json","text":"<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES2020\",\n    \"useDefineForClassFields\": true,\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\n    \"module\": \"ESNext\",\n    \"skipLibCheck\": true,\n    \"moduleResolution\": \"bundler\",\n    \"allowImportingTsExtensions\": true,\n    \"resolveJsonModule\": true,\n    \"isolatedModules\": true,\n    \"noEmit\": true,\n    \"jsx\": \"react-jsx\",\n    \"strict\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"./src/*\"]\n    }\n  }\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#api-client-example","title":"API Client Example","text":"<pre><code>import axios from 'axios';\n\nconst apiClient = axios.create({\n  baseURL: import.meta.env.VITE_API_URL || '/api',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor\napiClient.interceptors.request.use((config) =&gt; {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// Response interceptor\napiClient.interceptors.response.use(\n  (response) =&gt; response,\n  (error) =&gt; {\n    if (error.response?.status === 401) {\n      // Handle unauthorized\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default apiClient;\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Application starts successfully</li> <li>[ ] Routing works correctly</li> <li>[ ] Protected routes redirect to login</li> <li>[ ] Login page accessible</li> <li>[ ] API client makes requests</li> <li>[ ] React Query works</li> <li>[ ] Auth context provides user info</li> <li>[ ] shadcn/ui components render</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#notes","title":"Notes","text":"<ul> <li>Use environment variables for API URL</li> <li>Set up path aliases for cleaner imports</li> <li>Follow React best practices</li> <li>Use TypeScript strictly</li> <li>Keep components small and focused</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-01: Development Environment Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 04-01: Text Input Component</li> <li>Task 04-02: Lookup Component</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/02-core-components/task-02-03-frontend-foundation/#references","title":"References","text":"<ul> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> <li>UX/UI Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/","title":"Task 03-01: Master Data Tables Schema","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 3</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 01-02 (Database Setup)</li> <li>Assignee: Backend Developer / Database Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#objective","title":"Objective","text":"<p>Create database schema for master data tables (item, customer, vendor) based on original DBF structure, preserving all fields, relationships, and business rules.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#1-item-master-table-item","title":"1. Item Master Table (item)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#original-reference","title":"Original Reference","text":"<ul> <li>Legacy Table: <code>mitem</code> (DBF)</li> <li>Documentation: <code>docs/01-data-architecture/table-details/master-data-tables.md</code> lines 5-49</li> <li>File Size: 11MB DBF + 24MB FPT (memo)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#schema-definition","title":"Schema Definition","text":"<pre><code>CREATE TABLE item (\n  id SERIAL PRIMARY KEY,\n  item_no VARCHAR(50) UNIQUE NOT NULL,\n  item_type VARCHAR(20),\n  date DATE,\n  short_name VARCHAR(100),\n  desp TEXT, -- Memo field converted to TEXT\n  origin VARCHAR(50),\n  grp_code VARCHAR(20),\n  material VARCHAR(100),\n  upc_no VARCHAR(50),\n  htc_no VARCHAR(50),\n  std_code VARCHAR(50),\n  price DECIMAL(18, 4),\n  price_cur VARCHAR(3),\n  pack_pc_1 INTEGER,\n  pack_desp_1 VARCHAR(50),\n  pack_pc_2 INTEGER,\n  pack_desp_2 VARCHAR(50),\n  pack_pc_3 INTEGER,\n  pack_desp_3 VARCHAR(50),\n  pack_pc_4 INTEGER,\n  pack_desp_4 VARCHAR(50),\n  wt DECIMAL(10, 2),\n  net DECIMAL(10, 2),\n  cube DECIMAL(10, 2),\n  dim VARCHAR(50),\n  duty DECIMAL(10, 4),\n  suspend_flag BOOLEAN DEFAULT FALSE,\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  user_id VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_item_item_no ON item(item_no);\nCREATE INDEX idx_item_std_code ON item(std_code);\nCREATE INDEX idx_item_origin ON item(origin);\nCREATE INDEX idx_item_grp_code ON item(grp_code);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#business-rules","title":"Business Rules","text":"<ul> <li><code>item_no</code> must be unique</li> <li><code>std_code</code> validated against <code>zstdcode</code> table</li> <li><code>origin</code> validated against <code>zorigin</code> table</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#2-customer-master-table-customer","title":"2. Customer Master Table (customer)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#original-reference_1","title":"Original Reference","text":"<ul> <li>Legacy Table: <code>mcustom</code> (DBF)</li> <li>File Size: 576KB DBF + 394KB FPT</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#schema-definition_1","title":"Schema Definition","text":"<pre><code>CREATE TABLE customer (\n  id SERIAL PRIMARY KEY,\n  cust_no VARCHAR(50) UNIQUE NOT NULL,\n  ename VARCHAR(200),\n  sname VARCHAR(100),\n  cname VARCHAR(200),\n  addr1 VARCHAR(200),\n  addr2 VARCHAR(200),\n  addr3 VARCHAR(200),\n  addr4 VARCHAR(200),\n  cont_name VARCHAR(100),\n  tel VARCHAR(50),\n  tel2 VARCHAR(50),\n  fax VARCHAR(50),\n  fax2 VARCHAR(50),\n  email VARCHAR(100),\n  show_sub_item_detail BOOLEAN DEFAULT FALSE,\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  user_id VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_customer_cust_no ON customer(cust_no);\nCREATE INDEX idx_customer_ename ON customer(ename);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#3-vendor-master-table-vendor","title":"3. Vendor Master Table (vendor)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#original-reference_2","title":"Original Reference","text":"<ul> <li>Legacy Table: <code>mvendor</code> (DBF)</li> <li>File Size: 228KB</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#schema-definition_2","title":"Schema Definition","text":"<pre><code>CREATE TABLE vendor (\n  id SERIAL PRIMARY KEY,\n  vendor_no VARCHAR(50) UNIQUE NOT NULL,\n  ename VARCHAR(200),\n  sname VARCHAR(100),\n  addr1 VARCHAR(200),\n  addr2 VARCHAR(200),\n  addr3 VARCHAR(200),\n  addr4 VARCHAR(200),\n  cont_name VARCHAR(100),\n  tel VARCHAR(50),\n  tel2 VARCHAR(50),\n  fax VARCHAR(50),\n  fax2 VARCHAR(50),\n  type INTEGER, -- 1=Vendor, 2=Maker\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  user_id VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_vendor_vendor_no ON vendor(vendor_no);\nCREATE INDEX idx_vendor_type ON vendor(type);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#4-reference-tables","title":"4. Reference Tables","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#standard-code-table-zstdcode","title":"Standard Code Table (zstdcode)","text":"<pre><code>CREATE TABLE zstdcode (\n  id SERIAL PRIMARY KEY,\n  std_code VARCHAR(50) UNIQUE NOT NULL,\n  description VARCHAR(200),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_zstdcode_std_code ON zstdcode(std_code);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#origin-table-zorigin","title":"Origin Table (zorigin)","text":"<pre><code>CREATE TABLE zorigin (\n  id SERIAL PRIMARY KEY,\n  origin VARCHAR(50) UNIQUE NOT NULL,\n  description VARCHAR(200),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_zorigin_origin ON zorigin(origin);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Design Schema</li> <li>Review original DBF structure</li> <li>Map DBF types to PostgreSQL types</li> <li>Handle memo fields (FPT) \u2192 TEXT</li> <li> <p>Plan indexes</p> </li> <li> <p>Create Migration</p> </li> <li>Create migration file</li> <li>Define all tables</li> <li>Add indexes</li> <li> <p>Add constraints</p> </li> <li> <p>Run Migration</p> </li> <li>Execute migration</li> <li>Verify tables created</li> <li> <p>Verify indexes created</p> </li> <li> <p>Create Entity/Models</p> </li> <li>Create TypeORM entities or Prisma models</li> <li>Define relationships</li> <li> <p>Add validation decorators</p> </li> <li> <p>Seed Reference Data</p> </li> <li>Seed zstdcode table</li> <li>Seed zorigin table</li> <li> <p>Test data access</p> </li> <li> <p>Documentation</p> </li> <li>Document schema</li> <li>Document field mappings</li> <li>Document business rules</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] All master data tables created</li> <li>[ ] All indexes created</li> <li>[ ] Unique constraints working</li> <li>[ ] Foreign key constraints (if any) working</li> <li>[ ] Entities/models created</li> <li>[ ] Reference data seeded</li> <li>[ ] Can query tables successfully</li> <li>[ ] Field mappings documented</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#field-type-mappings","title":"Field Type Mappings","text":"DBF Type PostgreSQL Type Notes C (Character) VARCHAR(n) Variable length string N (Numeric) DECIMAL or INTEGER Based on decimal places D (Date) DATE Date only L (Logical) BOOLEAN True/False M (Memo) TEXT Stored in FPT file, use TEXT"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Tables created successfully</li> <li>[ ] Indexes created successfully</li> <li>[ ] Unique constraints enforced</li> <li>[ ] Can insert test data</li> <li>[ ] Can query data</li> <li>[ ] Can update data</li> <li>[ ] Can delete data (if allowed)</li> <li>[ ] Entity/models map correctly</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#notes","title":"Notes","text":"<ul> <li>Preserve all original fields</li> <li>Maintain field names where possible</li> <li>Add audit fields (created_at, updated_at)</li> <li>Consider adding id as primary key (vs using item_no directly)</li> <li>Memo fields stored as TEXT in PostgreSQL</li> <li>Date fields: Use DATE type (not TIMESTAMP) where appropriate</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-02: Database Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 03-02: Order Enquiry Tables Schema</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-01-master-data-tables/#references","title":"References","text":"<ul> <li>Master Data Tables: <code>../../../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> <li>Master Data Management: <code>../../../../docs/02-business-processes/master-data-management.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/","title":"Task 03-02: Order Enquiry Tables Schema","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 3</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 03-01 (Master Data Tables)</li> <li>Assignee: Backend Developer / Database Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#objective","title":"Objective","text":"<p>Create database schema for Order Enquiry (OE) tables based on original DBF structure, preserving all fields, relationships, and business rules.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#1-oe-control-table-order_enquiry_control","title":"1. OE Control Table (order_enquiry_control)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#original-reference","title":"Original Reference","text":"<ul> <li>Legacy Table: <code>moectrl</code> (DBF)</li> <li>Documentation: <code>docs/02-business-processes/order-enquiry-process.md</code> lines 544-576</li> <li>Purpose: Validation checkpoint before OE creation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#schema-definition","title":"Schema Definition","text":"<pre><code>CREATE TABLE order_enquiry_control (\n  id SERIAL PRIMARY KEY,\n  oe_no VARCHAR(50) UNIQUE NOT NULL,\n  cust_no VARCHAR(50) NOT NULL,\n  oe_date DATE NOT NULL,\n  status VARCHAR(20),\n  po_no VARCHAR(100),\n  remark TEXT,\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  user_id VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT fk_oe_control_customer FOREIGN KEY (cust_no) \n    REFERENCES customer(cust_no)\n);\n\nCREATE INDEX idx_oe_control_oe_no ON order_enquiry_control(oe_no);\nCREATE INDEX idx_oe_control_cust_no ON order_enquiry_control(cust_no);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#business-rules","title":"Business Rules","text":"<ul> <li><code>oe_no</code> must be unique</li> <li><code>cust_no</code> must exist in <code>customer</code> table</li> <li>Required before OE import (except INSP company)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#2-oe-header-table-order_enquiry_header","title":"2. OE Header Table (order_enquiry_header)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#original-reference_1","title":"Original Reference","text":"<ul> <li>Legacy Table: <code>moehd</code> (DBF)</li> <li>Purpose: OE header information</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#schema-definition_1","title":"Schema Definition","text":"<pre><code>CREATE TABLE order_enquiry_header (\n  id SERIAL PRIMARY KEY,\n  oe_no VARCHAR(50) UNIQUE NOT NULL,\n  cust_no VARCHAR(50) NOT NULL,\n  oe_date DATE NOT NULL,\n  po_no VARCHAR(100),\n  status INTEGER DEFAULT 0, -- 0=Draft, 1=Posted\n  comp_code VARCHAR(10), -- HT, BAT, INSP, HFW\n  total_amount DECIMAL(18, 2),\n  remark TEXT,\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  user_id VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT fk_oe_header_customer FOREIGN KEY (cust_no) \n    REFERENCES customer(cust_no)\n);\n\nCREATE INDEX idx_oe_header_oe_no ON order_enquiry_header(oe_no);\nCREATE INDEX idx_oe_header_cust_no ON order_enquiry_header(cust_no);\nCREATE INDEX idx_oe_header_status ON order_enquiry_header(status);\nCREATE INDEX idx_oe_header_date ON order_enquiry_header(oe_date);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#3-oe-detail-table-order_enquiry_detail","title":"3. OE Detail Table (order_enquiry_detail)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#original-reference_2","title":"Original Reference","text":"<ul> <li>Legacy Table: <code>moe</code> (DBF)</li> <li>Purpose: OE line items</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#schema-definition_2","title":"Schema Definition","text":"<pre><code>CREATE TABLE order_enquiry_detail (\n  id SERIAL PRIMARY KEY,\n  oe_no VARCHAR(50) NOT NULL,\n  line_no INTEGER NOT NULL,\n  item_no VARCHAR(50) NOT NULL,\n  cust_no VARCHAR(50),\n  qty DECIMAL(18, 4) NOT NULL,\n  price DECIMAL(18, 4),\n  amount DECIMAL(18, 2), -- qty * price\n  unit VARCHAR(20),\n  ctn INTEGER,\n  head BOOLEAN DEFAULT FALSE, -- True for BOM head items\n  vendor_no VARCHAR(50),\n  maker VARCHAR(100),\n  skn_no VARCHAR(100),\n  item_desc TEXT,\n  pack_pc_1 INTEGER,\n  pack_desp_1 VARCHAR(50),\n  pack_pc_2 INTEGER,\n  pack_desp_2 VARCHAR(50),\n  pack_pc_3 INTEGER,\n  pack_desp_3 VARCHAR(50),\n  pack_pc_4 INTEGER,\n  pack_desp_4 VARCHAR(50),\n  del_from DATE,\n  del_to DATE,\n  cost DECIMAL(18, 4),\n  retail1 DECIMAL(18, 4),\n  retail2 DECIMAL(18, 4),\n  remark TEXT,\n  comp_code VARCHAR(10),\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  user_id VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT fk_oe_detail_header FOREIGN KEY (oe_no) \n    REFERENCES order_enquiry_header(oe_no) ON DELETE CASCADE,\n  CONSTRAINT fk_oe_detail_item FOREIGN KEY (item_no) \n    REFERENCES item(item_no),\n  CONSTRAINT fk_oe_detail_vendor FOREIGN KEY (vendor_no) \n    REFERENCES vendor(vendor_no),\n  CONSTRAINT uk_oe_detail_line UNIQUE (oe_no, line_no)\n);\n\nCREATE INDEX idx_oe_detail_oe_no ON order_enquiry_detail(oe_no);\nCREATE INDEX idx_oe_detail_item_no ON order_enquiry_detail(item_no);\nCREATE INDEX idx_oe_detail_vendor_no ON order_enquiry_detail(vendor_no);\nCREATE INDEX idx_oe_detail_head ON order_enquiry_detail(head);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#business-rules_1","title":"Business Rules","text":"<ul> <li><code>oe_no</code> must exist in <code>order_enquiry_header</code></li> <li><code>item_no</code> must exist in <code>item</code> table</li> <li><code>line_no</code> unique per <code>oe_no</code></li> <li><code>qty</code> must be &gt; 0</li> <li><code>price</code> must be &gt;= 0</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Design Schema</li> <li>Review original DBF structure</li> <li>Map relationships (header-detail)</li> <li>Plan foreign keys</li> <li> <p>Plan indexes</p> </li> <li> <p>Create Migration</p> </li> <li>Create migration file</li> <li>Define all tables</li> <li>Add foreign key constraints</li> <li> <p>Add indexes</p> </li> <li> <p>Run Migration</p> </li> <li>Execute migration</li> <li>Verify tables created</li> <li> <p>Verify constraints</p> </li> <li> <p>Create Entity/Models</p> </li> <li>Create TypeORM entities or Prisma models</li> <li>Define relationships (OneToMany, ManyToOne)</li> <li> <p>Add validation</p> </li> <li> <p>Test Relationships</p> </li> <li>Test header-detail relationship</li> <li>Test foreign key constraints</li> <li> <p>Test cascade deletes (if applicable)</p> </li> <li> <p>Documentation</p> </li> <li>Document schema</li> <li>Document relationships</li> <li>Document business rules</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] All OE tables created</li> <li>[ ] Foreign key constraints working</li> <li>[ ] Indexes created</li> <li>[ ] Unique constraints working</li> <li>[ ] Entities/models created with relationships</li> <li>[ ] Can create OE header with details</li> <li>[ ] Cascade deletes work (if configured)</li> <li>[ ] Schema documented</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#relationship-diagram","title":"Relationship Diagram","text":"<pre><code>order_enquiry_control\n  \u2514\u2500&gt; customer (cust_no)\n\norder_enquiry_header\n  \u2514\u2500&gt; customer (cust_no)\n  \u2514\u2500&gt; order_enquiry_detail (oe_no) [OneToMany]\n\norder_enquiry_detail\n  \u2514\u2500&gt; order_enquiry_header (oe_no) [ManyToOne]\n  \u2514\u2500&gt; item (item_no) [ManyToOne]\n  \u2514\u2500&gt; vendor (vendor_no) [ManyToOne, optional]\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Tables created successfully</li> <li>[ ] Foreign keys enforced</li> <li>[ ] Can create OE header</li> <li>[ ] Can create OE details</li> <li>[ ] Cannot create detail without header</li> <li>[ ] Cannot reference non-existent item</li> <li>[ ] Cascade delete works (if configured)</li> <li>[ ] Can query with joins</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#notes","title":"Notes","text":"<ul> <li>OE Control is separate from OE Header (different purposes)</li> <li>OE Detail linked to Header via <code>oe_no</code></li> <li>BOM items use <code>head</code> flag to identify parent items</li> <li>Consider adding trigger to calculate <code>amount = qty * price</code></li> <li>Status field: 0=Draft, 1=Posted (from original system)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#dependencies","title":"Dependencies","text":"<ul> <li>Task 03-01: Master Data Tables Schema</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 03-03: Reference Tables Schema</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-02-oe-tables-schema/#references","title":"References","text":"<ul> <li>Order Enquiry Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code></li> <li>Workflow Overview: <code>../../../../docs/02-business-processes/workflow-overview.md</code></li> <li>Data Architecture: <code>../../../../docs/01-data-architecture/table-details/</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/","title":"Task 03-03: Reference Tables Schema","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 3</li> <li>Priority: Medium</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 03-01 (Master Data Tables)</li> <li>Assignee: Backend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#objective","title":"Objective","text":"<p>Create database schema for reference/lookup tables needed for validation and data integrity in the PoC.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#1-standard-code-table-zstdcode","title":"1. Standard Code Table (zstdcode)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#purpose","title":"Purpose","text":"<ul> <li>Validates <code>item.std_code</code> field</li> <li>Reference data for standard codes</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#schema-definition","title":"Schema Definition","text":"<pre><code>CREATE TABLE zstdcode (\n  id SERIAL PRIMARY KEY,\n  std_code VARCHAR(50) UNIQUE NOT NULL,\n  description VARCHAR(200),\n  active BOOLEAN DEFAULT TRUE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_zstdcode_std_code ON zstdcode(std_code);\nCREATE INDEX idx_zstdcode_active ON zstdcode(active);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#2-origin-table-zorigin","title":"2. Origin Table (zorigin)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#purpose_1","title":"Purpose","text":"<ul> <li>Validates <code>item.origin</code> field</li> <li>Reference data for country/region origins</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#schema-definition_1","title":"Schema Definition","text":"<pre><code>CREATE TABLE zorigin (\n  id SERIAL PRIMARY KEY,\n  origin VARCHAR(50) UNIQUE NOT NULL,\n  description VARCHAR(200),\n  active BOOLEAN DEFAULT TRUE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_zorigin_origin ON zorigin(origin);\nCREATE INDEX idx_zorigin_active ON zorigin(active);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#3-company-table-mcomp-optional","title":"3. Company Table (mcomp) - Optional","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#purpose_2","title":"Purpose","text":"<ul> <li>Company codes (HT, BAT, INSP, HFW)</li> <li>Company-specific configurations</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#schema-definition_2","title":"Schema Definition","text":"<pre><code>CREATE TABLE mcomp (\n  id SERIAL PRIMARY KEY,\n  comp_code VARCHAR(10) UNIQUE NOT NULL,\n  comp_name VARCHAR(100) NOT NULL,\n  active BOOLEAN DEFAULT TRUE,\n  oe_prefix VARCHAR(10), -- e.g., \"HT-OC/\" for HT\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_mcomp_comp_code ON mcomp(comp_code);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#4-user-table-muser-for-authentication","title":"4. User Table (muser) - For Authentication","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#purpose_3","title":"Purpose","text":"<ul> <li>User accounts for authentication</li> <li>User roles and permissions</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#schema-definition_3","title":"Schema Definition","text":"<pre><code>CREATE TABLE muser (\n  id SERIAL PRIMARY KEY,\n  username VARCHAR(50) UNIQUE NOT NULL,\n  password VARCHAR(255) NOT NULL, -- Hashed password\n  user_right VARCHAR(20) NOT NULL, -- SUPERVISOR, REGULAR_USER\n  company_code VARCHAR(10), -- HT, BAT, INSP, HFW\n  active BOOLEAN DEFAULT TRUE,\n  cre_date DATE,\n  cre_user VARCHAR(50),\n  mod_date DATE,\n  mod_user VARCHAR(50),\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  CONSTRAINT fk_user_company FOREIGN KEY (company_code) \n    REFERENCES mcomp(comp_code)\n);\n\nCREATE INDEX idx_muser_username ON muser(username);\nCREATE INDEX idx_muser_user_right ON muser(user_right);\nCREATE INDEX idx_muser_company_code ON muser(company_code);\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Design Reference Tables</li> <li>Review validation requirements</li> <li>Identify all reference data needed</li> <li> <p>Plan relationships</p> </li> <li> <p>Create Migration</p> </li> <li>Create migration file</li> <li>Define all reference tables</li> <li> <p>Add indexes</p> </li> <li> <p>Run Migration</p> </li> <li>Execute migration</li> <li> <p>Verify tables created</p> </li> <li> <p>Seed Reference Data</p> </li> <li>Seed standard codes</li> <li>Seed origin codes</li> <li>Seed company codes</li> <li> <p>Seed test users</p> </li> <li> <p>Create Entity/Models</p> </li> <li>Create entities for reference tables</li> <li> <p>Add relationships</p> </li> <li> <p>Documentation</p> </li> <li>Document reference tables</li> <li>Document seed data</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#seed-data","title":"Seed Data","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#standard-codes-zstdcode","title":"Standard Codes (zstdcode)","text":"<pre><code>INSERT INTO zstdcode (std_code, description) VALUES\n('STD001', 'Standard Code 1'),\n('STD002', 'Standard Code 2');\n-- Add more as needed\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#origins-zorigin","title":"Origins (zorigin)","text":"<pre><code>INSERT INTO zorigin (origin, description) VALUES\n('CN', 'China'),\n('US', 'United States'),\n('HK', 'Hong Kong');\n-- Add more as needed\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#companies-mcomp","title":"Companies (mcomp)","text":"<pre><code>INSERT INTO mcomp (comp_code, comp_name, oe_prefix) VALUES\n('HT', 'Holiday Times', 'HT-OC/'),\n('BAT', 'Baitin Trading', 'BTL-'),\n('INSP', 'InSpirt Designs', 'IN-OC/'),\n('HFW', 'Holiday Funworld', 'HFW-OC/');\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#users-muser","title":"Users (muser)","text":"<pre><code>-- Password should be hashed with bcrypt\nINSERT INTO muser (username, password, user_right, company_code) VALUES\n('admin', '$2b$10$hashed_password_here', 'SUPERVISOR', 'HT'),\n('user1', '$2b$10$hashed_password_here', 'REGULAR_USER', 'HT');\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] All reference tables created</li> <li>[ ] Indexes created</li> <li>[ ] Seed data loaded</li> <li>[ ] Can query reference tables</li> <li>[ ] Foreign key relationships working</li> <li>[ ] Entities/models created</li> <li>[ ] Documentation complete</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Tables created successfully</li> <li>[ ] Can insert reference data</li> <li>[ ] Can query reference data</li> <li>[ ] Foreign keys enforced</li> <li>[ ] Indexes working</li> <li>[ ] Seed data loaded correctly</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#notes","title":"Notes","text":"<ul> <li>Reference tables are typically read-only for users</li> <li>Seed data should match production data as closely as possible</li> <li>Add <code>active</code> flag for soft-delete capability</li> <li>Consider adding versioning for reference data</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#dependencies","title":"Dependencies","text":"<ul> <li>Task 03-01: Master Data Tables Schema</li> <li>Task 02-01: Authentication Setup (for user table)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 04-01: Text Input Component</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/03-database-schema/task-03-03-reference-tables-schema/#references","title":"References","text":"<ul> <li>Master Data Tables: <code>../../../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> <li>Validation Catalog: <code>../../../../docs/04-forms-and-screens/validation-catalog.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/","title":"Task 04-01: Text Input Component with Auto-Advance","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 4</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 02-03 (Frontend Foundation)</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#objective","title":"Objective","text":"<p>Create a reusable text input component with keyboard-first navigation, auto-advance on Enter, and inline validation support.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#1-component-features","title":"1. Component Features","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#keyboard-navigation","title":"Keyboard Navigation","text":"<ul> <li>Tab key: Move to next field</li> <li>Enter key: Move to next field (if validation passes)</li> <li>Shift+Tab: Move to previous field</li> <li>Arrow keys: Normal text cursor behavior</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#auto-advance","title":"Auto-Advance","text":"<ul> <li>Automatically move focus to next field on Enter</li> <li>Only advance if current field is valid</li> <li>Prevent advance on validation errors</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#inline-validation","title":"Inline Validation","text":"<ul> <li>Show validation errors below field</li> <li>Don't block typing on validation errors</li> <li>Clear errors when field becomes valid</li> <li>Support async validation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#accessibility","title":"Accessibility","text":"<ul> <li>Proper label association</li> <li>ARIA attributes</li> <li>Keyboard accessible</li> <li>Screen reader support</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#2-component-props","title":"2. Component Props","text":"<pre><code>interface TextInputProps {\n  label: string;\n  name: string;\n  value: string;\n  onChange: (value: string) =&gt; void;\n  onBlur?: () =&gt; void;\n  onEnter?: () =&gt; void; // Called on Enter key\n  error?: string;\n  placeholder?: string;\n  disabled?: boolean;\n  required?: boolean;\n  type?: 'text' | 'email' | 'password' | 'number';\n  autoFocus?: boolean;\n  autoAdvance?: boolean; // Enable auto-advance\n  validateOnBlur?: boolean;\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#3-ux-requirements","title":"3. UX Requirements","text":"<p>Reference: <code>docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> lines 49-55</p> <ul> <li>Keyboard: Tab to focus, Enter to submit/next</li> <li>Auto-Advance: Move to next field on Enter (if valid)</li> <li>Validation: Show error inline, don't block typing</li> <li>Formatting: Auto-format on blur (for numbers)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Create Base Component</li> <li>Create TextInput component</li> <li>Use shadcn/ui Input as base</li> <li> <p>Add label and error display</p> </li> <li> <p>Implement Auto-Advance</p> </li> <li>Handle Enter key press</li> <li>Find next input field</li> <li> <p>Focus next field if valid</p> </li> <li> <p>Add Validation Display</p> </li> <li>Show error message below input</li> <li>Style error state</li> <li> <p>Clear errors on input change</p> </li> <li> <p>Add Keyboard Handlers</p> </li> <li>Enter key handler</li> <li>Tab key handler (native)</li> <li> <p>Shift+Tab handler (native)</p> </li> <li> <p>Integrate with React Hook Form</p> </li> <li>Create wrapper for RHF</li> <li>Support validation from RHF</li> <li> <p>Handle form state</p> </li> <li> <p>Testing</p> </li> <li>Test keyboard navigation</li> <li>Test auto-advance</li> <li>Test validation display</li> <li>Test accessibility</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Text input component created</li> <li>[ ] Keyboard navigation works (Tab, Enter, Shift+Tab)</li> <li>[ ] Auto-advance works on Enter (when valid)</li> <li>[ ] Inline validation displays correctly</li> <li>[ ] Error messages show/hide properly</li> <li>[ ] Component integrates with React Hook Form</li> <li>[ ] Accessibility requirements met</li> <li>[ ] Component is reusable</li> <li>[ ] Works with shadcn/ui styling</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#component-example","title":"Component Example","text":"<pre><code>import { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\n\nexport function TextInput({\n  label,\n  name,\n  value,\n  onChange,\n  onEnter,\n  error,\n  autoAdvance = true,\n  ...props\n}: TextInputProps) {\n  const handleKeyDown = (e: React.KeyboardEvent) =&gt; {\n    if (e.key === 'Enter' &amp;&amp; autoAdvance &amp;&amp; !error) {\n      e.preventDefault();\n      // Focus next input\n      onEnter?.();\n    }\n  };\n\n  return (\n    &lt;div className=\"space-y-2\"&gt;\n      &lt;Label htmlFor={name}&gt;{label}&lt;/Label&gt;\n      &lt;Input\n        id={name}\n        name={name}\n        value={value}\n        onChange={(e) =&gt; onChange(e.target.value)}\n        onKeyDown={handleKeyDown}\n        aria-invalid={!!error}\n        aria-describedby={error ? `${name}-error` : undefined}\n        {...props}\n      /&gt;\n      {error &amp;&amp; (\n        &lt;p id={`${name}-error`} className=\"text-sm text-red-500\"&gt;\n          {error}\n        &lt;/p&gt;\n      )}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Component renders correctly</li> <li>[ ] Tab key moves to next field</li> <li>[ ] Enter key advances when valid</li> <li>[ ] Enter key does not advance when invalid</li> <li>[ ] Error message displays correctly</li> <li>[ ] Error clears when input becomes valid</li> <li>[ ] Component works with React Hook Form</li> <li>[ ] Accessibility tested with screen reader</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#notes","title":"Notes","text":"<ul> <li>Base component on shadcn/ui Input</li> <li>Ensure consistent styling with design system</li> <li>Consider adding number formatting on blur</li> <li>Support different input types (text, number, etc.)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#dependencies","title":"Dependencies","text":"<ul> <li>Task 02-03: Frontend Foundation</li> <li>shadcn/ui components installed</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 04-02: Lookup Component</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-01-text-input-component/#references","title":"References","text":"<ul> <li>UX/UI Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/","title":"Task 04-02: Lookup Component with Type-to-Search","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 4</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 04-01 (Text Input Component)</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#objective","title":"Objective","text":"<p>Create a reusable lookup/select component with type-to-search functionality, keyboard navigation, and support for displaying code and description.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#1-component-features","title":"1. Component Features","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#type-to-search","title":"Type-to-Search","text":"<ul> <li>Instant search as user types</li> <li>Debounced API calls (200ms delay)</li> <li>Show loading state during search</li> <li>Display search results in dropdown</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#keyboard-navigation","title":"Keyboard Navigation","text":"<ul> <li>Arrow keys: Navigate suggestions</li> <li>Enter: Select current suggestion</li> <li>Escape: Close dropdown</li> <li>Tab: Move to next field (after selection)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#display","title":"Display","text":"<ul> <li>Show code and description</li> <li>Highlight search term in results</li> <li>Show \"No results\" message</li> <li>Show loading indicator</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#selection","title":"Selection","text":"<ul> <li>Click to select</li> <li>Enter to select</li> <li>Auto-fill selected value</li> <li>Callback on selection</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#2-component-props","title":"2. Component Props","text":"<pre><code>interface LookupProps {\n  label: string;\n  name: string;\n  value: string;\n  onChange: (value: string, item?: any) =&gt; void;\n  onSearch: (query: string) =&gt; Promise&lt;LookupItem[]&gt;;\n  displayField?: string; // Field to display (default: 'name')\n  valueField?: string; // Field for value (default: 'code')\n  placeholder?: string;\n  error?: string;\n  required?: boolean;\n  disabled?: boolean;\n  autoFocus?: boolean;\n  minSearchLength?: number; // Minimum chars to trigger search\n  debounceMs?: number; // Debounce delay\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#3-lookup-item-type","title":"3. Lookup Item Type","text":"<pre><code>interface LookupItem {\n  code: string;\n  name: string;\n  description?: string;\n  [key: string]: any;\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#4-ux-requirements","title":"4. UX Requirements","text":"<p>Reference: <code>docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> lines 67-71</p> <ul> <li>Type-to-Search: Instant search as user types</li> <li>Keyboard: Arrow keys to navigate, Enter to select</li> <li>Display: Show code and description</li> <li>Recent: Show recently used items first (future)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Create Base Component</li> <li>Create Lookup component</li> <li>Use Combobox or Popover from shadcn/ui</li> <li> <p>Add input field</p> </li> <li> <p>Implement Type-to-Search</p> </li> <li>Handle input changes</li> <li>Debounce search calls</li> <li>Call onSearch prop</li> <li> <p>Handle loading state</p> </li> <li> <p>Add Dropdown Display</p> </li> <li>Show search results in dropdown</li> <li>Display code and description</li> <li>Highlight search term</li> <li> <p>Handle empty results</p> </li> <li> <p>Implement Keyboard Navigation</p> </li> <li>Arrow up/down to navigate</li> <li>Enter to select</li> <li>Escape to close</li> <li> <p>Focus management</p> </li> <li> <p>Add Selection Handling</p> </li> <li>Handle click selection</li> <li>Handle keyboard selection</li> <li>Update value</li> <li> <p>Close dropdown</p> </li> <li> <p>Integration</p> </li> <li>Integrate with React Hook Form</li> <li>Support validation</li> <li> <p>Handle errors</p> </li> <li> <p>Testing</p> </li> <li>Test type-to-search</li> <li>Test keyboard navigation</li> <li>Test selection</li> <li>Test performance</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Lookup component created</li> <li>[ ] Type-to-search works (debounced)</li> <li>[ ] Search results display correctly</li> <li>[ ] Keyboard navigation works (arrows, Enter, Escape)</li> <li>[ ] Selection works (click and keyboard)</li> <li>[ ] Loading state displayed</li> <li>[ ] Empty state handled</li> <li>[ ] Component integrates with React Hook Form</li> <li>[ ] Performance: Search &lt; 200ms response</li> <li>[ ] Component is reusable</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#component-example","title":"Component Example","text":"<pre><code>import { useState, useEffect, useRef } from 'react';\nimport { useDebounce } from '@/hooks/useDebounce';\nimport { Input } from '@/components/ui/input';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\n\nexport function Lookup({\n  label,\n  name,\n  value,\n  onChange,\n  onSearch,\n  displayField = 'name',\n  valueField = 'code',\n  minSearchLength = 1,\n  debounceMs = 200,\n  ...props\n}: LookupProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [results, setResults] = useState&lt;LookupItem[]&gt;([]);\n  const [loading, setLoading] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n\n  const debouncedQuery = useDebounce(searchQuery, debounceMs);\n\n  useEffect(() =&gt; {\n    if (debouncedQuery.length &gt;= minSearchLength) {\n      setLoading(true);\n      onSearch(debouncedQuery)\n        .then(setResults)\n        .finally(() =&gt; setLoading(false));\n    }\n  }, [debouncedQuery, onSearch, minSearchLength]);\n\n  const handleSelect = (item: LookupItem) =&gt; {\n    onChange(item[valueField], item);\n    setOpen(false);\n  };\n\n  // Keyboard handlers...\n\n  return (\n    &lt;Popover open={open} onOpenChange={setOpen}&gt;\n      &lt;PopoverTrigger asChild&gt;\n        &lt;Input\n          value={searchQuery}\n          onChange={(e) =&gt; setSearchQuery(e.target.value)}\n          onFocus={() =&gt; setOpen(true)}\n          // ... keyboard handlers\n        /&gt;\n      &lt;/PopoverTrigger&gt;\n      &lt;PopoverContent&gt;\n        {loading &amp;&amp; &lt;div&gt;Loading...&lt;/div&gt;}\n        {!loading &amp;&amp; results.length === 0 &amp;&amp; &lt;div&gt;No results&lt;/div&gt;}\n        {results.map((item, index) =&gt; (\n          &lt;div\n            key={item[valueField]}\n            onClick={() =&gt; handleSelect(item)}\n            className={selectedIndex === index ? 'bg-blue-100' : ''}\n          &gt;\n            {item[valueField]} - {item[displayField]}\n          &lt;/div&gt;\n        ))}\n      &lt;/PopoverContent&gt;\n    &lt;/Popover&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Component renders correctly</li> <li>[ ] Type-to-search triggers after debounce</li> <li>[ ] Search results display correctly</li> <li>[ ] Arrow keys navigate results</li> <li>[ ] Enter selects item</li> <li>[ ] Escape closes dropdown</li> <li>[ ] Loading state shows during search</li> <li>[ ] Empty state displays correctly</li> <li>[ ] Component works with React Hook Form</li> <li>[ ] Performance acceptable (&lt; 200ms)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#notes","title":"Notes","text":"<ul> <li>Use shadcn/ui Combobox or Popover as base</li> <li>Implement proper debouncing for performance</li> <li>Consider caching search results</li> <li>Support both controlled and uncontrolled modes</li> <li>Ensure accessibility (ARIA attributes)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#dependencies","title":"Dependencies","text":"<ul> <li>Task 04-01: Text Input Component</li> <li>Task 02-03: Frontend Foundation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 04-03: Data Grid Setup</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-02-lookup-component/#references","title":"References","text":"<ul> <li>UX/UI Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/","title":"Task 04-03: Data Grid Setup (React Data Grid)","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 4</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 02-03 (Frontend Foundation)</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#objective","title":"Objective","text":"<p>Set up React Data Grid (Adazzle) library with Excel-like keyboard navigation, inline editing, and integration with the application.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#1-library-installation","title":"1. Library Installation","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#react-data-grid-adazzle","title":"React Data Grid (Adazzle)","text":"<ul> <li>Install <code>react-data-grid</code> package</li> <li>Version: Latest stable (7.x+)</li> <li>Install types: <code>@types/react-data-grid</code> (if needed)</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#2-grid-features","title":"2. Grid Features","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#keyboard-navigation","title":"Keyboard Navigation","text":"<ul> <li>Arrow keys: Move between cells</li> <li>Tab/Enter: Move to next cell</li> <li>Shift+Tab: Move to previous cell</li> <li>Ctrl+C/Ctrl+V: Copy/paste</li> <li>F2: Edit cell</li> <li>Escape: Cancel edit</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#inline-editing","title":"Inline Editing","text":"<ul> <li>Direct cell editing</li> <li>Auto-save on cell change</li> <li>Validation on edit</li> <li>Cancel edit with Escape</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#excel-like-features","title":"Excel-like Features","text":"<ul> <li>Copy/paste from Excel</li> <li>Multi-row selection</li> <li>Row-level validation</li> <li>Auto-calculate totals</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#performance","title":"Performance","text":"<ul> <li>Virtual scrolling for large datasets</li> <li>Lazy loading support</li> <li>Client-side filtering/sorting</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#3-grid-configuration","title":"3. Grid Configuration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#basic-setup","title":"Basic Setup","text":"<ul> <li>Column definitions</li> <li>Row data</li> <li>Cell renderers</li> <li>Cell editors</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#customization","title":"Customization","text":"<ul> <li>Styling with Tailwind CSS</li> <li>Theme integration</li> <li>Custom cell components</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#4-integration","title":"4. Integration","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#with-react-query","title":"With React Query","text":"<ul> <li>Data fetching</li> <li>Optimistic updates</li> <li>Cache management</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#with-form-state","title":"With Form State","text":"<ul> <li>Grid as form field</li> <li>Validation integration</li> <li>Change tracking</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Install Library</li> <li>Install react-data-grid</li> <li>Install dependencies</li> <li> <p>Verify installation</p> </li> <li> <p>Create Base Grid Component</p> </li> <li>Create DataGrid wrapper component</li> <li>Configure basic grid</li> <li> <p>Set up column definitions</p> </li> <li> <p>Implement Keyboard Navigation</p> </li> <li>Configure keyboard handlers</li> <li>Test navigation</li> <li> <p>Ensure Excel-like behavior</p> </li> <li> <p>Add Inline Editing</p> </li> <li>Configure cell editors</li> <li>Handle cell changes</li> <li> <p>Implement auto-save</p> </li> <li> <p>Integrate Copy/Paste</p> </li> <li>Handle clipboard events</li> <li>Parse Excel data</li> <li> <p>Paste into grid</p> </li> <li> <p>Add Styling</p> </li> <li>Customize grid styles</li> <li>Match design system</li> <li> <p>Ensure readability</p> </li> <li> <p>Testing</p> </li> <li>Test keyboard navigation</li> <li>Test inline editing</li> <li>Test copy/paste</li> <li>Test performance</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] React Data Grid installed</li> <li>[ ] Base grid component created</li> <li>[ ] Keyboard navigation works (arrows, Tab, Enter)</li> <li>[ ] Inline editing works</li> <li>[ ] Copy/paste from Excel works</li> <li>[ ] Grid integrates with React Query</li> <li>[ ] Grid styling matches design system</li> <li>[ ] Performance acceptable with large datasets</li> <li>[ ] Component is reusable</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#grid-component-example","title":"Grid Component Example","text":"<pre><code>import DataGrid, { Column, Row } from 'react-data-grid';\nimport { useMemo } from 'react';\n\ninterface DataGridProps&lt;T&gt; {\n  columns: Column&lt;T&gt;[];\n  rows: T[];\n  onRowsChange?: (rows: T[]) =&gt; void;\n  onCellClick?: (args: any) =&gt; void;\n  selectedRows?: Set&lt;number&gt;;\n}\n\nexport function CustomDataGrid&lt;T extends Row&gt;({\n  columns,\n  rows,\n  onRowsChange,\n  onCellClick,\n  selectedRows,\n}: DataGridProps&lt;T&gt;) {\n  const defaultColumnOptions = useMemo(\n    () =&gt; ({\n      resizable: true,\n      sortable: true,\n      editable: true,\n    }),\n    []\n  );\n\n  return (\n    &lt;DataGrid\n      columns={columns}\n      rows={rows}\n      onRowsChange={onRowsChange}\n      defaultColumnOptions={defaultColumnOptions}\n      selectedRows={selectedRows}\n      onCellClick={onCellClick}\n      className=\"rdg-light\" // or custom theme\n      style={{ height: '100%' }}\n    /&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#column-definition-example","title":"Column Definition Example","text":"<pre><code>const columns: Column&lt;OrderEnquiryDetail&gt;[] = [\n  {\n    key: 'item_no',\n    name: 'Item No',\n    width: 150,\n    editable: true,\n    editor: TextEditor,\n    cellClass: 'font-mono',\n  },\n  {\n    key: 'qty',\n    name: 'Quantity',\n    width: 100,\n    editable: true,\n    editor: NumberEditor,\n    formatter: (props) =&gt; formatNumber(props.row.qty),\n  },\n  {\n    key: 'price',\n    name: 'Price',\n    width: 120,\n    editable: true,\n    editor: NumberEditor,\n    formatter: (props) =&gt; formatCurrency(props.row.price),\n  },\n  {\n    key: 'amount',\n    name: 'Total',\n    width: 120,\n    editable: false,\n    formatter: (props) =&gt; formatCurrency(props.row.qty * props.row.price),\n  },\n];\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#keyboard-navigation-configuration","title":"Keyboard Navigation Configuration","text":"<pre><code>const keyboardNavigationOptions = {\n  // Enable Excel-like navigation\n  enableCellSelection: true,\n  enableCellCopy: true,\n  enableCellPaste: true,\n\n  // Keyboard shortcuts\n  onCellKeyDown: (event: React.KeyboardEvent) =&gt; {\n    if (event.key === 'Enter' || event.key === 'Tab') {\n      // Move to next cell\n      event.preventDefault();\n      // Focus next cell logic\n    }\n    if (event.key === 'F2') {\n      // Start editing\n      event.preventDefault();\n      // Start edit logic\n    }\n  },\n};\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Grid renders correctly</li> <li>[ ] Arrow keys navigate cells</li> <li>[ ] Tab/Enter moves to next cell</li> <li>[ ] Inline editing works</li> <li>[ ] Copy/paste works</li> <li>[ ] Excel paste works</li> <li>[ ] Cell validation works</li> <li>[ ] Performance acceptable (1000+ rows)</li> <li>[ ] Grid integrates with form state</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#notes","title":"Notes","text":"<ul> <li>React Data Grid is free and open-source</li> <li>Consider virtual scrolling for large datasets</li> <li>Customize cell editors for specific data types</li> <li>Ensure accessibility (keyboard navigation)</li> <li>Match grid styling with design system</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#dependencies","title":"Dependencies","text":"<ul> <li>Task 02-03: Frontend Foundation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#next-tasks","title":"Next Tasks","text":"<ul> <li>Task 04-04: Form Layout Components</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-03-data-grid-setup/#references","title":"References","text":"<ul> <li>UX/UI Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> (lines 75-96)</li> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/","title":"Task 04-04: Form Layout Components","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#task-information","title":"Task Information","text":"<ul> <li>Phase: 0 - Foundation</li> <li>Sprint: Week 4</li> <li>Priority: Medium</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 04-01 (Text Input), Task 04-02 (Lookup)</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#objective","title":"Objective","text":"<p>Create reusable form layout components for consistent form structure, field grouping, and layout patterns used throughout the application.</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#1-form-container-component","title":"1. Form Container Component","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#features","title":"Features","text":"<ul> <li>Standard form wrapper</li> <li>Form validation integration</li> <li>Submit handling</li> <li>Loading states</li> <li>Error display</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#2-form-section-component","title":"2. Form Section Component","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#features_1","title":"Features","text":"<ul> <li>Group related fields</li> <li>Section title</li> <li>Optional description</li> <li>Visual grouping</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#3-form-field-group-component","title":"3. Form Field Group Component","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#features_2","title":"Features","text":"<ul> <li>Horizontal field layout</li> <li>Responsive design</li> <li>Consistent spacing</li> <li>Label alignment</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#4-form-actions-component","title":"4. Form Actions Component","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#features_3","title":"Features","text":"<ul> <li>Action buttons (Save, Cancel, etc.)</li> <li>Consistent button placement</li> <li>Loading states</li> <li>Disabled states</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#5-layout-patterns","title":"5. Layout Patterns","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#standard-form-pattern","title":"Standard Form Pattern","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Header Section                          \u2502\n\u2502 [Field 1] [Field 2] [Field 3]         \u2502\n\u2502                                         \u2502\n\u2502 Detail Grid Section                     \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Item | Qty | Price | Total | ...   \u2502 \u2502\n\u2502 \u2502 [Grid with keyboard navigation]     \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                         \u2502\n\u2502 Footer Section                          \u2502\n\u2502 [Save] [Cancel] [Print] [Export]      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Reference: <code>docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> lines 97-122</p>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Create Form Container</li> <li>Create FormContainer component</li> <li>Integrate with React Hook Form</li> <li> <p>Handle form submission</p> </li> <li> <p>Create Form Section</p> </li> <li>Create FormSection component</li> <li>Add section title</li> <li> <p>Group fields visually</p> </li> <li> <p>Create Form Field Group</p> </li> <li>Create FormFieldGroup component</li> <li>Support horizontal layout</li> <li> <p>Responsive design</p> </li> <li> <p>Create Form Actions</p> </li> <li>Create FormActions component</li> <li>Standard button layout</li> <li> <p>Handle actions</p> </li> <li> <p>Create Layout Templates</p> </li> <li>Standard form layout</li> <li>Header-detail layout</li> <li> <p>List-detail layout</p> </li> <li> <p>Styling</p> </li> <li>Match design system</li> <li>Ensure consistency</li> <li> <p>Responsive design</p> </li> <li> <p>Testing</p> </li> <li>Test layouts</li> <li>Test responsiveness</li> <li>Test accessibility</li> </ol>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Form container component created</li> <li>[ ] Form section component created</li> <li>[ ] Form field group component created</li> <li>[ ] Form actions component created</li> <li>[ ] Layout templates created</li> <li>[ ] Components integrate with React Hook Form</li> <li>[ ] Components are reusable</li> <li>[ ] Styling matches design system</li> <li>[ ] Responsive design works</li> <li>[ ] Accessibility requirements met</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#component-examples","title":"Component Examples","text":""},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#formcontainer","title":"FormContainer","text":"<pre><code>import { FormProvider, useForm } from 'react-hook-form';\n\nexport function FormContainer({\n  children,\n  onSubmit,\n  defaultValues,\n  ...props\n}: FormContainerProps) {\n  const methods = useForm({ defaultValues });\n\n  return (\n    &lt;FormProvider {...methods}&gt;\n      &lt;form onSubmit={methods.handleSubmit(onSubmit)} {...props}&gt;\n        {children}\n      &lt;/form&gt;\n    &lt;/FormProvider&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#formsection","title":"FormSection","text":"<pre><code>export function FormSection({\n  title,\n  description,\n  children,\n}: FormSectionProps) {\n  return (\n    &lt;div className=\"space-y-4\"&gt;\n      &lt;div&gt;\n        &lt;h3 className=\"text-lg font-semibold\"&gt;{title}&lt;/h3&gt;\n        {description &amp;&amp; (\n          &lt;p className=\"text-sm text-muted-foreground\"&gt;{description}&lt;/p&gt;\n        )}\n      &lt;/div&gt;\n      &lt;div className=\"space-y-4\"&gt;{children}&lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#formfieldgroup","title":"FormFieldGroup","text":"<pre><code>export function FormFieldGroup({\n  columns = 2,\n  children,\n}: FormFieldGroupProps) {\n  return (\n    &lt;div\n      className={`grid gap-4 ${\n        columns === 2 ? 'grid-cols-2' : 'grid-cols-3'\n      }`}\n    &gt;\n      {children}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#formactions","title":"FormActions","text":"<pre><code>import { Button } from '@/components/ui/button';\n\nexport function FormActions({\n  onSave,\n  onCancel,\n  onPrint,\n  onExport,\n  loading = false,\n  disabled = false,\n}: FormActionsProps) {\n  return (\n    &lt;div className=\"flex items-center justify-end gap-2 border-t pt-4\"&gt;\n      {onCancel &amp;&amp; (\n        &lt;Button type=\"button\" variant=\"outline\" onClick={onCancel}&gt;\n          Cancel\n        &lt;/Button&gt;\n      )}\n      {onSave &amp;&amp; (\n        &lt;Button type=\"submit\" onClick={onSave} disabled={disabled || loading}&gt;\n          {loading ? 'Saving...' : 'Save'}\n        &lt;/Button&gt;\n      )}\n      {onPrint &amp;&amp; (\n        &lt;Button type=\"button\" variant=\"outline\" onClick={onPrint}&gt;\n          Print\n        &lt;/Button&gt;\n      )}\n      {onExport &amp;&amp; (\n        &lt;Button type=\"button\" variant=\"outline\" onClick={onExport}&gt;\n          Export\n        &lt;/Button&gt;\n      )}\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Form container works with React Hook Form</li> <li>[ ] Form sections group fields correctly</li> <li>[ ] Field groups layout correctly</li> <li>[ ] Form actions display correctly</li> <li>[ ] Layout templates work</li> <li>[ ] Responsive design works</li> <li>[ ] Components are reusable</li> <li>[ ] Accessibility tested</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#notes","title":"Notes","text":"<ul> <li>Use shadcn/ui components as base</li> <li>Ensure consistent spacing and alignment</li> <li>Support different layout patterns</li> <li>Keep components flexible and composable</li> <li>Follow design system guidelines</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#dependencies","title":"Dependencies","text":"<ul> <li>Task 04-01: Text Input Component</li> <li>Task 04-02: Lookup Component</li> <li>Task 02-03: Frontend Foundation</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#next-tasks","title":"Next Tasks","text":"<ul> <li>Phase 1: Master Data Module tasks</li> </ul>"},{"location":"planning/poc_planning/00-phase-0-foundation/04-ux-kernel/task-04-04-form-layout-components/#references","title":"References","text":"<ul> <li>UX/UI Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> (lines 97-122)</li> <li>PoC Strategy: <code>../../../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/","title":"Phase 1: Master Data Module","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/#overview","title":"Overview","text":"<p>Phase 1 implements the Master Data Management module, including Item Master, Customer Master, and Vendor Master. This phase demonstrates core UX patterns, validation, and CRUD operations.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/#duration","title":"Duration","text":"<p>Weeks 5-6 (2 weeks)</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/#objectives","title":"Objectives","text":"<ol> <li>Implement Item Master with full CRUD operations</li> <li>Implement Customer Master with full CRUD operations</li> <li>Implement Vendor Master with full CRUD operations</li> <li>Demonstrate keyboard-first navigation</li> <li>Implement type-to-search lookups</li> <li>Validate all business rules from original system</li> </ol>"},{"location":"planning/poc_planning/01-phase-1-master-data/#scope","title":"Scope","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/#in-scope","title":"In Scope","text":"<ul> <li>Item Master: Entry form, lookup, list with filtering</li> <li>Customer Master: Entry form, lookup, list</li> <li>Vendor Master: Entry form, lookup, list</li> <li>All validation rules from original system</li> <li>Keyboard-first navigation</li> <li>Type-to-search functionality</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#out-of-scope","title":"Out of Scope","text":"<ul> <li>BOM management (deferred to MVP)</li> <li>Item-Vendor relationships management (deferred)</li> <li>Item-Manufacturer relationships (deferred)</li> <li>Advanced filtering (basic filtering only)</li> <li>Reporting (basic list views only)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#deliverables","title":"Deliverables","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/#week-5-item-master","title":"Week 5: Item Master","text":"<ul> <li>Item entry form (create, edit, view)</li> <li>Item lookup with type-to-search</li> <li>Item list with filtering</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#week-6-customer-and-vendor-masters","title":"Week 6: Customer and Vendor Masters","text":"<ul> <li>Customer entry form, lookup, list</li> <li>Vendor entry form, lookup, list</li> <li>Integration and testing</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#success-criteria","title":"Success Criteria","text":"<ul> <li>[ ] All master data modules functional</li> <li>[ ] All validation rules implemented</li> <li>[ ] Keyboard-first navigation working</li> <li>[ ] Type-to-search working</li> <li>[ ] Performance targets met</li> <li>[ ] User acceptance testing passed</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#tasks","title":"Tasks","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/#01-item-master","title":"01: Item Master","text":"<ul> <li>Task 01-01: Item Entry Form</li> <li>Task 01-02: Item Lookup with Type-to-Search</li> <li>Task 01-03: Item List with Filtering</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#02-customer-master","title":"02: Customer Master","text":"<ul> <li>Task 02-01: Customer Entry Form</li> <li>Task 02-02: Customer Lookup</li> <li>Task 02-03: Customer List</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#03-vendor-master","title":"03: Vendor Master","text":"<ul> <li>Task 03-01: Vendor Entry Form</li> <li>Task 03-02: Vendor Lookup</li> <li>Task 03-03: Vendor List</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#dependencies","title":"Dependencies","text":"<ul> <li>Phase 0 complete (Foundation)</li> <li>Database schema created</li> <li>UX kernel components ready</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#risks","title":"Risks","text":"<ul> <li>Validation Complexity: Many validation rules - Mitigation: Document all rules early</li> <li>Performance: Large item master - Mitigation: Implement pagination and lazy loading</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/#next-phase","title":"Next Phase","text":"<p>After Phase 1 completion, proceed to Phase 2: Order Enquiry Module</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/#document-references","title":"Document References","text":"<ul> <li>Master Data Management: <code>../../docs/02-business-processes/master-data-management.md</code></li> <li>Master Data Tables: <code>../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> <li>Validation Catalog: <code>../../docs/04-forms-and-screens/validation-catalog.md</code></li> <li>UX/UI Strategy: <code>../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/","title":"Task 01-01: Item Entry Form","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module</li> <li>Sprint: Week 5</li> <li>Priority: High</li> <li>Estimated Effort: 3 days</li> <li>Dependencies: Phase 0 complete (database schema, UX kernel, API foundation)</li> <li>Assignee: Frontend + Backend Developers</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#objective","title":"Objective","text":"<p>Implement the Item Master entry form with full CRUD functionality, keyboard-first navigation, and all original validation rules preserved.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#original-logic-reference","title":"Original Logic Reference","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#foxpro-formprogram","title":"FoxPro Form/Program","text":"<ul> <li>Form: <code>iitem</code> (Input Item Detail)</li> <li>Code Reference: <code>source/iitem.scx</code></li> <li>Legacy Import: <code>source/xitem.prg</code> (lines 20-71)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#documentation-references","title":"Documentation References","text":"<ul> <li>Business Process: <code>../../../../docs/02-business-processes/master-data-management.md</code> (lines 9-163)</li> <li>Data Architecture: <code>../../../../docs/01-data-architecture/table-details/master-data-tables.md</code> (lines 5-49)</li> <li>Validation Rules: <code>../../../../docs/04-forms-and-screens/validation-catalog.md</code> (lines 42-56)</li> <li>UX Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> (lines 289-321)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#functional-requirements","title":"Functional Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#1-item-entry-form-layout","title":"1. Item Entry Form Layout","text":"<p>Header Section: - Item Number (<code>item_no</code>) - Primary key, required - Short Name (<code>short_name</code>) - Description (<code>desp</code>) - Memo field, TEXT area</p> <p>Basic Information: - Origin (<code>origin</code>) - Lookup, validated against <code>zorigin</code> table - Standard Code (<code>std_code</code>) - Lookup, validated against <code>zstdcode</code> table - HTC Code (<code>htc_no</code>) - Harmonized Tariff Code - UPC Code (<code>upc_no</code>)</p> <p>Pricing: - Price (<code>price</code>) - Decimal, must be &gt;= 0 - Price Currency (<code>price_cur</code>) - Cost (<code>cost</code>) - Decimal, must be &gt;= 0</p> <p>Packing Information: - Pack PC 1-4 (<code>pack_pc_1</code> through <code>pack_pc_4</code>) - Integer - Pack Description 1-4 (<code>pack_desp_1</code> through <code>pack_desp_4</code>) - Text</p> <p>Dimensions: - Weight (<code>wt</code>) - Decimal - Net Weight (<code>net</code>) - Decimal - Cube (<code>cube</code>) - Decimal - Dimensions (<code>dim</code>) - Text</p> <p>Additional Fields: - Item Type (<code>item_type</code>) - Group Code (<code>grp_code</code>) - Material (<code>material</code>) - Duty (<code>duty</code>)</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#2-validation-rules-must-preserve","title":"2. Validation Rules (MUST PRESERVE)","text":"<p>Original Logic Reference: <code>docs/04-forms-and-screens/validation-catalog.md</code> lines 42-56</p> <ul> <li>Item Number (<code>item_no</code>):</li> <li>Must be unique in <code>item</code> table</li> <li>Error: \"Item Number Already Exists\"</li> <li> <p>Validation on field exit (onBlur)</p> </li> <li> <p>Price:</p> </li> <li>Must be &gt;= 0</li> <li> <p>Error: \"Price Must Be Positive\"</p> </li> <li> <p>Cost:</p> </li> <li>Must be &gt;= 0</li> <li> <p>Error: \"Cost Must Be Positive\"</p> </li> <li> <p>Standard Code (<code>std_code</code>):</p> </li> <li>Must exist in <code>zstdcode</code> table (if provided)</li> <li>Error: \"Invalid Standard Code\"</li> <li> <p>Validate on field exit</p> </li> <li> <p>Origin:</p> </li> <li>Must exist in <code>zorigin</code> table (if provided)</li> <li>Error: \"Invalid Origin\"</li> <li>Validate on field exit</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#3-ux-requirements","title":"3. UX Requirements","text":"<p>Reference: <code>docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> lines 289-321</p> <ul> <li>Keyboard Navigation:</li> <li>Tab key moves to next field</li> <li>Enter key moves to next field (if valid)</li> <li>Shift+Tab moves to previous field</li> <li> <p>F2 opens item lookup (when on item_no field)</p> </li> <li> <p>Auto-Advance:</p> </li> <li>Auto-advance to next field on Enter (if validation passes)</li> <li> <p>Don't block typing on validation error</p> </li> <li> <p>Lookup Integration:</p> </li> <li>F2 on item_no field opens item lookup</li> <li>F2 on origin field opens origin lookup</li> <li>F2 on std_code field opens standard code lookup</li> <li>Type-to-search in lookups</li> <li>Arrow keys navigate suggestions</li> <li> <p>Enter selects and populates form</p> </li> <li> <p>Inline Validation:</p> </li> <li>Show validation errors inline (below field)</li> <li>Don't block user input</li> <li>Clear errors when field becomes valid</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#4-business-logic-must-preserve","title":"4. Business Logic (MUST PRESERVE)","text":"<p>Original Logic Reference: <code>docs/02-business-processes/master-data-management.md</code> lines 13-83</p> <p>Create Item Flow: 1. User enters item number 2. System checks if item exists:    - If exists: Show error \"Item Number Already Exists\"    - If not exists: Continue 3. User enters item details 4. Validate <code>std_code</code> against <code>zstdcode</code> table (if provided) 5. Validate <code>origin</code> against <code>zorigin</code> table (if provided) 6. Create record in <code>item</code> table 7. Set audit fields:    - <code>cre_date</code> = current date    - <code>cre_user</code> = current user    - <code>user_id</code> = current user</p> <p>Update Item Flow: 1. User selects existing item (via lookup or search) 2. Load item data into form 3. User modifies fields 4. Validate changes (std_code, origin) 5. Save changes to <code>item</code> table 6. Set audit fields:    - <code>mod_date</code> = current date    - <code>mod_user</code> = current user</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#technical-requirements","title":"Technical Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#frontend","title":"Frontend","text":"<ul> <li>Component: React functional component with TypeScript</li> <li>Form Management: React Hook Form</li> <li>UI Library: shadcn/ui components</li> <li>Validation: React Hook Form validation + custom validators</li> <li>State: React Query for server state, local state for form</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#backend","title":"Backend","text":"<ul> <li>API Endpoints:</li> <li><code>GET /api/items/:itemNo</code> - Get item by number</li> <li><code>POST /api/items</code> - Create new item</li> <li><code>PUT /api/items/:itemNo</code> - Update existing item</li> <li> <p><code>DELETE /api/items/:itemNo</code> - Delete item (optional, if needed)</p> </li> <li> <p>Validation:</p> </li> <li>Server-side validation for all rules</li> <li>Database constraints for uniqueness</li> <li>Return clear error messages matching original system</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#database","title":"Database","text":"<ul> <li>Table: <code>item</code> (PostgreSQL)</li> <li>Schema: Already created in Phase 0</li> <li>Indexes: Already created</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#implementation-steps","title":"Implementation Steps","text":"<ol> <li>Backend API</li> <li>Create Item entity/model (if not done)</li> <li>Create Item service</li> <li>Implement validation logic</li> <li>Create API endpoints (controller)</li> <li> <p>Write unit tests for validation</p> </li> <li> <p>Frontend Form</p> </li> <li>Create ItemEntryForm component</li> <li>Implement form fields using TextInput and Lookup components</li> <li>Add React Hook Form setup</li> <li>Implement validation rules</li> <li>Add keyboard navigation</li> <li> <p>Integrate with API using React Query</p> </li> <li> <p>Lookup Integration</p> </li> <li>Integrate origin lookup (Task 01-02)</li> <li>Integrate std_code lookup (Task 01-02)</li> <li> <p>Test lookup functionality</p> </li> <li> <p>Testing</p> </li> <li>Unit tests for validation</li> <li>Integration tests for API</li> <li>E2E tests for form workflow</li> <li>Test all validation scenarios</li> </ol>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Item entry form displays all required fields</li> <li>[ ] Form supports create and update modes</li> <li>[ ] All validation rules implemented and working</li> <li>[ ] Keyboard navigation works (Tab, Enter, Shift+Tab, F2)</li> <li>[ ] Auto-advance works on Enter</li> <li>[ ] Inline validation shows errors correctly</li> <li>[ ] F2 opens lookups for origin and std_code</li> <li>[ ] Form integrates with backend API</li> <li>[ ] Audit fields (cre_date, cre_user, mod_date, mod_user) set correctly</li> <li>[ ] Standard code validation against <code>zstdcode</code> works</li> <li>[ ] Origin validation against <code>zorigin</code> works</li> <li>[ ] Error messages match original system behavior</li> <li>[ ] Form handles loading and error states</li> <li>[ ] Code includes documentation references</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Create new item with valid data - succeeds</li> <li>[ ] Create item with duplicate item_no - shows error</li> <li>[ ] Create item with invalid std_code - shows error</li> <li>[ ] Create item with invalid origin - shows error</li> <li>[ ] Create item with negative price - shows error</li> <li>[ ] Create item with negative cost - shows error</li> <li>[ ] Update existing item - succeeds</li> <li>[ ] Update item with invalid std_code - shows error</li> <li>[ ] Keyboard navigation works throughout form</li> <li>[ ] Auto-advance works on valid fields</li> <li>[ ] Validation errors don't block typing</li> <li>[ ] F2 lookup works for origin and std_code</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#dependencies","title":"Dependencies","text":"<ul> <li>Task 01-02: Item Lookup (for F2 lookup functionality)</li> <li>Phase 0: Database schema setup</li> <li>Phase 0: UX kernel components</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#notes","title":"Notes","text":"<ul> <li>Memo field (<code>desp</code>) requires TEXT area component</li> <li>Original FoxPro uses memo files (.FPT), we'll use TEXT column</li> <li>Consider character encoding for description field</li> <li>Performance: Item lookup should be fast (&lt; 200ms for validation checks)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#code-comments-template","title":"Code Comments Template","text":"<p>When implementing, include comments like:</p> <pre><code>/**\n * Validates item number uniqueness\n * \n * Original Logic Reference:\n * - FoxPro Form: iitem.scx (Txtbox1.Valid)\n * - Documentation: docs/04-forms-and-screens/validation-catalog.md\n * - Business Rule: item_no must be unique in mitem table\n * \n * Validation Rules:\n * - Check if item_no already exists in database\n * - Return error \"Item Number Already Exists\" if duplicate\n */\nasync function validateItemNumberUniqueness(itemNo: string): Promise&lt;boolean&gt; {\n  // Implementation\n}\n</code></pre>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-01-item-entry-form/#references","title":"References","text":"<ul> <li>Original Form: <code>source/iitem.scx</code></li> <li>Business Process: <code>../../../../docs/02-business-processes/master-data-management.md</code></li> <li>Data Model: <code>../../../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> <li>Validation: <code>../../../../docs/04-forms-and-screens/validation-catalog.md</code></li> <li>UX Requirements: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/","title":"Task 01-02: Item Lookup with Type-to-Search","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module</li> <li>Sprint: Week 5</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 01-01 (Item Entry Form), Phase 0 UX kernel</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#objective","title":"Objective","text":"<p>Implement item lookup component with type-to-search functionality, displaying item code and description, integrated with item entry form.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#1-lookup-features","title":"1. Lookup Features","text":"<ul> <li>Type-to-search (debounced, &lt; 200ms response)</li> <li>Display item_no and short_name/description</li> <li>Keyboard navigation (arrows, Enter, Escape)</li> <li>Recent items support (optional)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#2-api-endpoint","title":"2. API Endpoint","text":"<ul> <li><code>GET /api/items/search?q={query}</code> - Search items</li> <li>Returns: <code>{ code: string, name: string, description?: string }[]</code></li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#3-integration","title":"3. Integration","text":"<ul> <li>Used in Item Entry Form (F2 on item_no field)</li> <li>Used in OE Entry (item selection in grid)</li> <li>Reusable across application</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Lookup component created and reusable</li> <li>[ ] Type-to-search works (&lt; 200ms response)</li> <li>[ ] Displays item_no and description</li> <li>[ ] Keyboard navigation works</li> <li>[ ] Integrates with Item Entry Form</li> <li>[ ] Performance acceptable</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-02-item-lookup/#references","title":"References","text":"<ul> <li>UX Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> <li>Phase 0: Task 04-02 (Lookup Component)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/","title":"Task 01-03: Item List with Filtering","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module  </li> <li>Sprint: Week 5</li> <li>Priority: Medium</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 01-01, Task 01-02</li> <li>Assignee: Frontend Developer</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/#objective","title":"Objective","text":"<p>Create item list view with filtering, sorting, and navigation to item entry form.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/#1-list-features","title":"1. List Features","text":"<ul> <li>Grid display of items</li> <li>Filter by item_no, short_name, std_code</li> <li>Sort by columns</li> <li>Pagination (if large dataset)</li> <li>Click to edit item</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/#2-actions","title":"2. Actions","text":"<ul> <li>New Item button</li> <li>Edit Item (click row)</li> <li>Delete Item (optional)</li> <li>Export (optional)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/01-item-master/task-01-03-item-list/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Item list displays correctly</li> <li>[ ] Filtering works</li> <li>[ ] Sorting works</li> <li>[ ] Click to edit works</li> <li>[ ] Navigation to entry form works</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/","title":"Task 02-01: Customer Entry Form","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module</li> <li>Sprint: Week 6</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Phase 0 complete, Item Master tasks as reference</li> <li>Assignee: Frontend + Backend Developers</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#objective","title":"Objective","text":"<p>Implement Customer Master entry form with CRUD operations, preserving all original validation rules.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#original-logic-reference","title":"Original Logic Reference","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#documentation-references","title":"Documentation References","text":"<ul> <li>Business Process: <code>../../../../docs/02-business-processes/master-data-management.md</code> (lines 164-290)</li> <li>Data Architecture: <code>../../../../docs/01-data-architecture/table-details/master-data-tables.md</code></li> <li>Validation Rules: <code>../../../../docs/04-forms-and-screens/validation-catalog.md</code> (lines 57-67)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#fields","title":"Fields","text":"<ul> <li>Customer Number (<code>cust_no</code>) - Primary key, unique</li> <li>English Name (<code>ename</code>)</li> <li>Short Name (<code>sname</code>)</li> <li>Chinese Name (<code>cname</code>) - Optional</li> <li>Address (<code>addr1-4</code>)</li> <li>Contact Name (<code>cont_name</code>)</li> <li>Telephones (<code>tel</code>, <code>tel2</code>)</li> <li>Fax (<code>fax</code>, <code>fax2</code>)</li> <li>Email (<code>email</code>)</li> <li>Show Sub Item Detail (<code>show_sub_item_detail</code>) - Boolean</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#validation-rules","title":"Validation Rules","text":"<ul> <li><code>cust_no</code> must be unique</li> <li>Customer name required</li> <li>Error messages match original system</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#ux-requirements","title":"UX Requirements","text":"<ul> <li>Keyboard-first navigation</li> <li>Auto-advance on Enter</li> <li>F2 for customer lookup</li> <li>Inline validation</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-01-customer-entry-form/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Form displays all fields</li> <li>[ ] Validation rules implemented</li> <li>[ ] Keyboard navigation works</li> <li>[ ] CRUD operations work</li> <li>[ ] Audit fields set correctly</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-02-customer-lookup/","title":"Task 02-02: Customer Lookup","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-02-customer-lookup/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module</li> <li>Sprint: Week 6</li> <li>Priority: Medium</li> <li>Estimated Effort: 0.5 days</li> <li>Dependencies: Task 02-01</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-02-customer-lookup/#objective","title":"Objective","text":"<p>Implement customer lookup with type-to-search, reusable across application.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-02-customer-lookup/#requirements","title":"Requirements","text":"<ul> <li>Type-to-search functionality</li> <li>Display cust_no and ename</li> <li>Keyboard navigation</li> <li>API endpoint: <code>GET /api/customers/search?q={query}</code></li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-02-customer-lookup/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Lookup works with type-to-search</li> <li>[ ] Displays customer code and name</li> <li>[ ] Reusable component</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-03-customer-list/","title":"Task 02-03: Customer List","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-03-customer-list/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module</li> <li>Sprint: Week 6</li> <li>Priority: Medium</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 02-01, Task 02-02</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-03-customer-list/#objective","title":"Objective","text":"<p>Create customer list view with filtering and navigation.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-03-customer-list/#requirements","title":"Requirements","text":"<ul> <li>List display with grid</li> <li>Filter by cust_no, ename</li> <li>Sort functionality</li> <li>Click to edit</li> <li>New Customer button</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/02-customer-master/task-02-03-customer-list/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] List displays correctly</li> <li>[ ] Filtering and sorting work</li> <li>[ ] Navigation works</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/","title":"Task 03-01: Vendor Entry Form","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#task-information","title":"Task Information","text":"<ul> <li>Phase: 1 - Master Data Module</li> <li>Sprint: Week 6</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Phase 0 complete</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#objective","title":"Objective","text":"<p>Implement Vendor Master entry form with CRUD operations.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#original-logic-reference","title":"Original Logic Reference","text":"<ul> <li>Business Process: <code>../../../../docs/02-business-processes/master-data-management.md</code> (lines 291-363)</li> <li>Validation Rules: <code>../../../../docs/04-forms-and-screens/validation-catalog.md</code> (lines 68-74)</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#fields","title":"Fields","text":"<ul> <li>Vendor Number (<code>vendor_no</code>) - Primary key, unique</li> <li>English Name (<code>ename</code>)</li> <li>Short Name (<code>sname</code>)</li> <li>Address (<code>addr1-4</code>)</li> <li>Contact Name (<code>cont_name</code>)</li> <li>Telephones (<code>tel</code>, <code>tel2</code>)</li> <li>Fax (<code>fax</code>, <code>fax2</code>)</li> <li>Type (<code>type</code>) - 1=Vendor, 2=Maker</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#validation","title":"Validation","text":"<ul> <li><code>vendor_no</code> must be unique</li> <li>Type must be 1 or 2</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-01-vendor-entry-form/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Form displays all fields</li> <li>[ ] Validation works</li> <li>[ ] CRUD operations work</li> </ul>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-02-vendor-lookup/","title":"Task 03-02: Vendor Lookup","text":"<p>Similar structure to Customer Lookup (Task 02-02). Implement vendor lookup with type-to-search functionality.</p>"},{"location":"planning/poc_planning/01-phase-1-master-data/03-vendor-master/task-03-03-vendor-list/","title":"Task 03-03: Vendor List","text":"<p>Similar structure to Customer List (Task 02-03). Implement vendor list view with filtering.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/","title":"Phase 2: Order Enquiry Module","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#overview","title":"Overview","text":"<p>Phase 2 implements the Order Enquiry (OE) module, which is the entry point of the trading workflow. This includes OE Control, OE Manual Entry with detail grid, and OE Enquiry List.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#duration","title":"Duration","text":"<p>Weeks 7-8 (2 weeks)</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#objectives","title":"Objectives","text":"<ol> <li>Implement OE Control management</li> <li>Implement OE Manual Entry with header and detail grid</li> <li>Implement OE Enquiry List with search/filter</li> <li>Demonstrate Excel-like grid navigation</li> <li>Implement auto-save functionality</li> <li>Preserve all original business logic and validation</li> </ol>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#scope","title":"Scope","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#in-scope","title":"In Scope","text":"<ul> <li>OE Control: Create, search, view, validation</li> <li>OE Manual Entry: Header form, detail grid, item lookup, auto-save</li> <li>OE Enquiry List: Search, filter, view details</li> <li>Basic validation (OE Control requirement, customer matching)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Quantity breakdown (deferred to MVP)</li> <li>BOM processing (deferred to MVP)</li> <li>Post OE to OC (deferred to MVP)</li> <li>Advanced Excel formats (only single format in PoC)</li> <li>Printing (deferred)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#deliverables","title":"Deliverables","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#week-7-oe-control-and-oe-entry","title":"Week 7: OE Control and OE Entry","text":"<ul> <li>OE Control create/search</li> <li>OE Entry header form</li> <li>OE Entry detail grid</li> <li>Item lookup in grid</li> <li>Auto-save</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#week-8-oe-enquiry-list-and-integration","title":"Week 8: OE Enquiry List and Integration","text":"<ul> <li>OE Enquiry List</li> <li>Search and filtering</li> <li>View OE details</li> <li>Integration and testing</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#success-criteria","title":"Success Criteria","text":"<ul> <li>[ ] OE Control functional</li> <li>[ ] OE Entry functional with grid</li> <li>[ ] Keyboard navigation works in grid</li> <li>[ ] Auto-save works</li> <li>[ ] All validation rules implemented</li> <li>[ ] OE Enquiry List functional</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#tasks","title":"Tasks","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#01-oe-control","title":"01: OE Control","text":"<ul> <li>Task 01-01: OE Control Entry Form</li> <li>Task 01-02: OE Control Search</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#02-oe-manual-entry","title":"02: OE Manual Entry","text":"<ul> <li>Task 02-01: OE Header Form</li> <li>Task 02-02: OE Detail Grid</li> <li>Task 02-03: Auto-Save Functionality</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#03-oe-enquiry-list","title":"03: OE Enquiry List","text":"<ul> <li>Task 03-01: OE List View</li> <li>Task 03-02: Search and Filter</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/#document-references","title":"Document References","text":"<ul> <li>Order Enquiry Process: <code>../../docs/02-business-processes/order-enquiry-process.md</code></li> <li>Workflow Overview: <code>../../docs/02-business-processes/workflow-overview.md</code></li> <li>Validation Catalog: <code>../../docs/04-forms-and-screens/validation-catalog.md</code></li> <li>UX Strategy: <code>../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code></li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/","title":"Task 01-01: OE Control Entry Form","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 7</li> <li>Priority: Critical</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Phase 1 complete (Customer Master)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#objective","title":"Objective","text":"<p>Implement OE Control entry form for creating and managing OE Control records required before OE import/creation.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#original-logic-reference","title":"Original Logic Reference","text":"<ul> <li>Business Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code> (lines 351-410)</li> <li>Validation: OE Control must exist before OE import (except INSP company)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#fields","title":"Fields","text":"<ul> <li>OE Number (<code>oe_no</code>) - Primary key, unique</li> <li>Customer Number (<code>cust_no</code>) - Lookup, required</li> <li>OE Date (<code>oe_date</code>) - Required</li> <li>PO Number (<code>po_no</code>) - Optional</li> <li>Status - Optional</li> <li>Remarks - Optional</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#validation","title":"Validation","text":"<ul> <li><code>oe_no</code> must be unique</li> <li>Customer must exist</li> <li>Required for OE import (except INSP)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#business-rules","title":"Business Rules","text":"<ul> <li>INSP company: Automatically adds \"IN-\" prefix, bypasses OE Control check</li> <li>Other companies: Must have OE Control record before OE creation</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Form displays all fields</li> <li>[ ] Validation works</li> <li>[ ] Customer lookup integrated</li> <li>[ ] CRUD operations work</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-01-oe-control-entry-form/#references","title":"References","text":"<ul> <li>Order Enquiry Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code></li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-02-oe-control-search/","title":"Task 01-02: OE Control Search","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-02-oe-control-search/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 7</li> <li>Priority: Medium</li> <li>Estimated Effort: 0.5 days</li> <li>Dependencies: Task 01-01</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-02-oe-control-search/#objective","title":"Objective","text":"<p>Implement OE Control search functionality to find and view existing OE Control records.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-02-oe-control-search/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-02-oe-control-search/#features","title":"Features","text":"<ul> <li>Search by OE Number</li> <li>Search by Customer</li> <li>Search by Date range</li> <li>List view with results</li> <li>Click to view/edit</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/01-oe-control/task-01-02-oe-control-search/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Search functionality works</li> <li>[ ] Results display correctly</li> <li>[ ] Navigation to edit works</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/","title":"Task 02-01: OE Header Form","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 7</li> <li>Priority: Critical</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 01-01 (OE Control)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#objective","title":"Objective","text":"<p>Implement OE Header form for Order Enquiry header information.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#fields","title":"Fields","text":"<ul> <li>OE Number (<code>oe_no</code>) - Lookup or enter, must have OE Control</li> <li>OE Date (<code>oe_date</code>)</li> <li>Customer (<code>cust_no</code>) - Lookup, required</li> <li>PO Number (<code>po_no</code>) - Optional</li> <li>Status - Default: Draft</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#validation","title":"Validation","text":"<ul> <li>OE Control must exist (except INSP)</li> <li>Customer must match OE Control customer (if OE Control exists)</li> <li>Customer must exist</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#ux","title":"UX","text":"<ul> <li>Keyboard navigation</li> <li>Customer lookup (F2)</li> <li>Auto-advance fields</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-01-oe-header-form/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Form displays correctly</li> <li>[ ] OE Control validation works</li> <li>[ ] Customer lookup works</li> <li>[ ] Validation rules enforced</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/","title":"Task 02-02: OE Detail Grid","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 7-8</li> <li>Priority: Critical</li> <li>Estimated Effort: 3 days</li> <li>Dependencies: Task 02-01, Phase 0 (Data Grid)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#objective","title":"Objective","text":"<p>Implement OE Detail grid with Excel-like keyboard navigation, inline editing, item lookup, and auto-calculate totals.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#original-logic-reference","title":"Original Logic Reference","text":"<ul> <li>Business Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code> (lines 276-349)</li> <li>UX Strategy: <code>../../../../docs/modernization-strategy/06-ux-ui-strategy/ux-ui-strategy.md</code> (lines 226-287)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#grid-columns","title":"Grid Columns","text":"<ul> <li>Item No - Lookup field</li> <li>Description - Auto-filled from item</li> <li>Quantity - Number, required, &gt; 0</li> <li>Price - Number, required, &gt;= 0</li> <li>Total - Auto-calculated (qty * price), read-only</li> <li>Unit - Optional</li> <li>CTN - Optional</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#features","title":"Features","text":"<ul> <li>Excel-like keyboard navigation</li> <li>Inline editing</li> <li>Item lookup in grid (F2 on Item No column)</li> <li>Auto-fill description when item selected</li> <li>Auto-calculate total</li> <li>Add new row</li> <li>Delete row</li> <li>Copy/paste from Excel</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#validation","title":"Validation","text":"<ul> <li>Item must exist</li> <li>Quantity &gt; 0</li> <li>Price &gt;= 0</li> <li>Item must not be suspended</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#ux-requirements","title":"UX Requirements","text":"<ul> <li>Arrow keys navigate cells</li> <li>Tab/Enter moves to next cell</li> <li>F2 opens item lookup</li> <li>Auto-advance after item selection</li> <li>Auto-calculate on quantity/price change</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-02-oe-detail-grid/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Grid displays correctly</li> <li>[ ] Keyboard navigation works</li> <li>[ ] Inline editing works</li> <li>[ ] Item lookup in grid works</li> <li>[ ] Auto-calculate totals works</li> <li>[ ] Validation works</li> <li>[ ] Add/delete rows work</li> <li>[ ] Copy/paste works</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/","title":"Task 02-03: OE Auto-Save Functionality","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 7-8</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 02-01, Task 02-02</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/#objective","title":"Objective","text":"<p>Implement auto-save functionality for OE Entry to prevent data loss and provide seamless user experience.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/#auto-save-triggers","title":"Auto-Save Triggers","text":"<ul> <li>Save on field blur (debounced)</li> <li>Save every 30 seconds (if changes made)</li> <li>Save on row add/delete</li> <li>Manual save button (optional)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/#features","title":"Features","text":"<ul> <li>Show \"Saving...\" indicator</li> <li>Show \"Saved\" indicator</li> <li>Handle save errors gracefully</li> <li>Retry on failure</li> <li>Optimistic updates</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/02-oe-manual-entry/task-02-03-oe-auto-save/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Auto-save works on field blur</li> <li>[ ] Auto-save works on timer</li> <li>[ ] Save indicator shows</li> <li>[ ] Errors handled gracefully</li> <li>[ ] No data loss</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/","title":"Task 03-01: OE List View","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 8</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Phase 2 OE Entry complete</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/#objective","title":"Objective","text":"<p>Create OE Enquiry List view displaying all Order Enquiries with key information.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/#display-columns","title":"Display Columns","text":"<ul> <li>OE Number</li> <li>OE Date</li> <li>Customer Name</li> <li>PO Number</li> <li>Status</li> <li>Total Amount (sum of detail lines)</li> <li>Item Count</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/#features","title":"Features","text":"<ul> <li>Grid/list display</li> <li>Sort by columns</li> <li>Click to view details</li> <li>New OE button</li> <li>Status indicators</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-01-oe-list-view/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] List displays all OEs</li> <li>[ ] Columns show correct data</li> <li>[ ] Sorting works</li> <li>[ ] Click to view works</li> <li>[ ] Navigation works</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/","title":"Task 03-02: OE Search and Filter","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/#task-information","title":"Task Information","text":"<ul> <li>Phase: 2 - Order Enquiry Module</li> <li>Sprint: Week 8</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 03-01</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/#objective","title":"Objective","text":"<p>Implement search and filter functionality for OE List view.</p>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/#filter-options","title":"Filter Options","text":"<ul> <li>Filter by OE Number (contains)</li> <li>Filter by Customer (lookup)</li> <li>Filter by Date range</li> <li>Filter by Status</li> <li>Clear filters button</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/#search","title":"Search","text":"<ul> <li>Quick search across key fields</li> <li>Debounced search</li> <li>Highlight search terms (optional)</li> </ul>"},{"location":"planning/poc_planning/02-phase-2-order-enquiry/03-oe-enquiry-list/task-03-02-oe-search-filter/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Filtering works correctly</li> <li>[ ] Search works</li> <li>[ ] Multiple filters can be combined</li> <li>[ ] Clear filters works</li> <li>[ ] Results update in real-time</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/","title":"Phase 3: Excel Import","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/#overview","title":"Overview","text":"<p>Phase 3 implements Excel import functionality for Order Enquiry, including file upload, field mapping, validation, and import execution.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#duration","title":"Duration","text":"<p>Weeks 9-10 (2 weeks)</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#objectives","title":"Objectives","text":"<ol> <li>Implement file upload functionality</li> <li>Implement field mapping (auto-detect + manual)</li> <li>Implement data validation</li> <li>Implement error reporting</li> <li>Execute import and save to database</li> </ol>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#scope","title":"Scope","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/#in-scope","title":"In Scope","text":"<ul> <li>Single Excel format for PoC</li> <li>File upload (drag-drop or browse)</li> <li>Field mapping interface</li> <li>Data preview</li> <li>Validation</li> <li>Error reporting</li> <li>Import execution</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Multiple Excel formats (deferred to MVP)</li> <li>Quantity breakdown from Excel (deferred)</li> <li>BOM processing from Excel (deferred)</li> <li>Advanced field detection</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#deliverables","title":"Deliverables","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/#week-9-file-upload-and-field-mapping","title":"Week 9: File Upload and Field Mapping","text":"<ul> <li>File upload component</li> <li>Excel file parsing</li> <li>Field mapping interface</li> <li>Auto-detect field mappings</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#week-10-validation-and-import","title":"Week 10: Validation and Import","text":"<ul> <li>Data validation</li> <li>Error reporting</li> <li>Import execution</li> <li>Integration and testing</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#success-criteria","title":"Success Criteria","text":"<ul> <li>[ ] File upload works</li> <li>[ ] Field mapping works (auto + manual)</li> <li>[ ] Validation works</li> <li>[ ] Error reporting clear</li> <li>[ ] Import executes successfully</li> <li>[ ] Data imported correctly</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#tasks","title":"Tasks","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/#01-file-upload","title":"01: File Upload","text":"<ul> <li>Task 01-01: File Upload Component</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#02-field-mapping","title":"02: Field Mapping","text":"<ul> <li>Task 02-01: Field Mapping Interface</li> <li>Task 02-02: Auto-Detect Field Mapping</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#03-validation-and-import","title":"03: Validation and Import","text":"<ul> <li>Task 03-01: Data Validation</li> <li>Task 03-02: Error Reporting</li> <li>Task 03-03: Import Execution</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/#document-references","title":"Document References","text":"<ul> <li>Order Enquiry Process: <code>../../docs/02-business-processes/order-enquiry-process.md</code> (Excel Import section)</li> <li>Original Code: <code>source/uoexls_2013.prg</code> (1,747 lines - most complex import)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/","title":"Task 01-01: File Upload Component","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/#task-information","title":"Task Information","text":"<ul> <li>Phase: 3 - Excel Import</li> <li>Sprint: Week 9</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Phase 0 complete</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/#objective","title":"Objective","text":"<p>Implement file upload component for Excel file selection and upload.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/#features","title":"Features","text":"<ul> <li>Drag and drop support</li> <li>File browse button</li> <li>File type validation (.xlsx, .xls, .csv)</li> <li>File size validation</li> <li>Upload progress indicator</li> <li>File preview (filename, size)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/#validation","title":"Validation","text":"<ul> <li>Only Excel/CSV files allowed</li> <li>Max file size: 10MB (configurable)</li> <li>Show clear error messages</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/01-file-upload/task-01-01-file-upload-component/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Drag and drop works</li> <li>[ ] File browse works</li> <li>[ ] File validation works</li> <li>[ ] Progress indicator shows</li> <li>[ ] Error messages clear</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/","title":"Task 02-01: Field Mapping Interface","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/#task-information","title":"Task Information","text":"<ul> <li>Phase: 3 - Excel Import</li> <li>Sprint: Week 9</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 01-01</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/#objective","title":"Objective","text":"<p>Create field mapping interface to map Excel columns to system fields.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/#features","title":"Features","text":"<ul> <li>Display Excel column headers</li> <li>Display system fields (OE Header, OE Detail)</li> <li>Drag-and-drop or dropdown mapping</li> <li>Auto-detect mapping (see Task 02-02)</li> <li>Manual override</li> <li>Save mapping template (optional)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/#mapping-fields","title":"Mapping Fields","text":"<ul> <li>OE Number</li> <li>Customer</li> <li>OE Date</li> <li>Item Number</li> <li>Quantity</li> <li>Price</li> <li>(Other fields as needed)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-01-field-mapping-interface/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Mapping interface displays correctly</li> <li>[ ] Manual mapping works</li> <li>[ ] Auto-detect works (integration)</li> <li>[ ] Mapping saved correctly</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/","title":"Task 02-02: Auto-Detect Field Mapping","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#task-information","title":"Task Information","text":"<ul> <li>Phase: 3 - Excel Import</li> <li>Sprint: Week 9</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 02-01</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#objective","title":"Objective","text":"<p>Implement automatic field mapping detection based on Excel column headers and content patterns.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#original-logic-reference","title":"Original Logic Reference","text":"<ul> <li>Original Code: <code>source/uoexls_2013.prg</code> (lines 147-189) - Dynamic field detection</li> <li>Business Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code> (Excel Import section)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#detection-patterns","title":"Detection Patterns","text":"<ul> <li>Search for keywords: \"ITEM\", \"ITEM NO\", \"QTY\", \"QUANTITY\", \"PRICE\", \"CUST\", \"CUSTOMER\", \"OE NO\", \"OENO\"</li> <li>Case-insensitive matching</li> <li>Partial matching (e.g., \"ITEM\" matches \"ITEM NO\")</li> <li>Priority matching (exact match &gt; partial match)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#detection-logic","title":"Detection Logic","text":"<ol> <li>Read Excel header row</li> <li>Search each column for keywords</li> <li>Map to system fields</li> <li>Allow manual override</li> <li>Save mapping for reuse</li> </ol>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#fields-to-detect","title":"Fields to Detect","text":"<ul> <li>OE Number</li> <li>Customer Number</li> <li>OE Date</li> <li>Item Number</li> <li>Quantity (TOTAL QTY, TOTAL PIECE, etc.)</li> <li>Price</li> <li>SKU/SKN (if present)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Auto-detection works correctly</li> <li>[ ] Common patterns detected</li> <li>[ ] Manual override available</li> <li>[ ] Mapping saved correctly</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/02-field-mapping/task-02-02-auto-detect-mapping/#notes","title":"Notes","text":"<ul> <li>Original FoxPro code uses complex field detection (1,747 lines)</li> <li>For PoC, implement basic detection patterns</li> <li>Can enhance in MVP phase</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/","title":"Task 03-01: Data Validation","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#task-information","title":"Task Information","text":"<ul> <li>Phase: 3 - Excel Import</li> <li>Sprint: Week 10</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 02-01, Task 02-02</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#objective","title":"Objective","text":"<p>Implement comprehensive data validation for imported Excel data following original business rules.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#original-logic-reference","title":"Original Logic Reference","text":"<ul> <li>Order Enquiry Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code> (lines 44-108)</li> <li>Original Code: <code>source/uoexls_2013.prg</code> (validation sections)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#validation-rules-must-preserve","title":"Validation Rules (MUST PRESERVE)","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#oe-control-validation","title":"OE Control Validation","text":"<ul> <li>OE must have control record in <code>order_enquiry_control</code> (except INSP)</li> <li>Exception: INSP company adds \"IN-\" prefix automatically</li> <li>Error: \"No OE Control Record\" if missing</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#customer-validation","title":"Customer Validation","text":"<ul> <li>Customer code must exist in <code>customer</code> table</li> <li>Customer must match OE Control customer (if OE Control exists)</li> <li>Error: \"Customer Not Found\" or \"Customer Mismatch\"</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#item-validation","title":"Item Validation","text":"<ul> <li>Item number must exist in <code>item</code> table</li> <li>Item must not be suspended</li> <li>Error: \"Item Not Found\" or \"Item Suspended\"</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#data-type-validation","title":"Data Type Validation","text":"<ul> <li>OE Date: Valid date format</li> <li>Quantity: Numeric, &gt; 0</li> <li>Price: Numeric, &gt;= 0</li> <li>Required fields present</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#validation-process","title":"Validation Process","text":"<ol> <li>Validate OE Control (per OE)</li> <li>Validate Customer (per OE)</li> <li>Validate Items (per row)</li> <li>Validate data types and formats</li> <li>Collect all errors</li> <li>Display errors with row numbers</li> </ol>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-01-data-validation/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] All validation rules implemented</li> <li>[ ] Errors collected and displayed</li> <li>[ ] Row numbers in error messages</li> <li>[ ] Validation prevents import if critical errors</li> <li>[ ] Warnings shown for non-critical issues</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/","title":"Task 03-02: Error Reporting","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#task-information","title":"Task Information","text":"<ul> <li>Phase: 3 - Excel Import</li> <li>Sprint: Week 10</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Task 03-01</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#objective","title":"Objective","text":"<p>Implement clear error reporting interface showing validation errors with details.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#error-display","title":"Error Display","text":"<ul> <li>List of errors with row numbers</li> <li>Error message (clear and actionable)</li> <li>Error type (Critical/Warning)</li> <li>Highlight problematic rows</li> <li>Summary count (X errors, Y warnings)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#error-types","title":"Error Types","text":"<ul> <li>Critical: Prevents import (e.g., missing OE Control, invalid item)</li> <li>Warning: Can proceed but should review (e.g., missing optional field)</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#features","title":"Features","text":"<ul> <li>Expandable error list</li> <li>Export errors to Excel/CSV (optional)</li> <li>Filter by error type</li> <li>Sort by row number</li> <li>Click to highlight row in preview</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-02-error-reporting/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Errors display clearly</li> <li>[ ] Row numbers shown</li> <li>[ ] Error types distinguished</li> <li>[ ] Summary count displayed</li> <li>[ ] User can understand and fix errors</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/","title":"Task 03-03: Import Execution","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#task-information","title":"Task Information","text":"<ul> <li>Phase: 3 - Excel Import</li> <li>Sprint: Week 10</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 03-01, Task 03-02</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#objective","title":"Objective","text":"<p>Implement import execution that saves validated data to database following original business logic.</p>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#original-logic-reference","title":"Original Logic Reference","text":"<ul> <li>Order Enquiry Process: <code>../../../../docs/02-business-processes/order-enquiry-process.md</code> (Excel Import section)</li> <li>Business Rules: OE Control validation, customer matching, item validation</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#requirements","title":"Requirements","text":""},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#import-process","title":"Import Process","text":"<ol> <li>Validate all data (Task 03-01)</li> <li>Show errors if any (Task 03-02)</li> <li>User confirms import</li> <li>Execute import transactionally</li> <li>Create OE Header</li> <li>Create OE Details</li> <li>Set audit fields</li> <li>Show import results</li> </ol>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#business-rules-must-preserve","title":"Business Rules (MUST PRESERVE)","text":"<ul> <li>OE Control must exist (except INSP)</li> <li>Customer must match OE Control</li> <li>Items must exist</li> <li>Quantities &gt; 0</li> <li>Prices &gt;= 0</li> </ul>"},{"location":"planning/poc_planning/03-phase-3-excel-import/03-validation-import/task-03-03-import-execution/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Import executes successfully</li> <li>[ ] All business rules enforced</li> <li>[ ] Data saved correctly</li> <li>[ ] Transaction rollback on error</li> <li>[ ] Import results displayed</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/","title":"Phase 4: Integration and Testing","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/#overview","title":"Overview","text":"<p>Phase 4 focuses on end-to-end integration, comprehensive testing, and demo preparation for the PoC.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#duration","title":"Duration","text":"<p>Weeks 11-12 (2 weeks)</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#objectives","title":"Objectives","text":"<ol> <li>Integrate all modules end-to-end</li> <li>Perform comprehensive testing</li> <li>Prepare demo materials</li> <li>Validate success criteria</li> <li>Document lessons learned</li> </ol>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#scope","title":"Scope","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/#in-scope","title":"In Scope","text":"<ul> <li>End-to-end workflow testing</li> <li>Unit tests for critical business logic</li> <li>Integration tests for APIs</li> <li>E2E tests for user flows</li> <li>Performance testing</li> <li>Demo preparation</li> <li>Documentation</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#out-of-scope","title":"Out of Scope","text":"<ul> <li>Full test coverage (focused on critical paths)</li> <li>Load testing (basic performance only)</li> <li>Security testing (basic only for PoC)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#deliverables","title":"Deliverables","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/#week-11-integration-and-testing","title":"Week 11: Integration and Testing","text":"<ul> <li>End-to-end integration</li> <li>Unit tests</li> <li>Integration tests</li> <li>E2E tests</li> <li>Performance testing</li> <li>Bug fixes</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#week-12-demo-preparation","title":"Week 12: Demo Preparation","text":"<ul> <li>Demo script</li> <li>Demo data</li> <li>Presentation materials</li> <li>Final documentation</li> <li>Stakeholder demo</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#success-criteria","title":"Success Criteria","text":"<ul> <li>[ ] All modules integrated</li> <li>[ ] End-to-end workflow works</li> <li>[ ] Tests pass</li> <li>[ ] Performance targets met</li> <li>[ ] Demo successful</li> <li>[ ] Stakeholder buy-in achieved</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#tasks","title":"Tasks","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/#01-integration","title":"01: Integration","text":"<ul> <li>Task 01-01: End-to-End Workflow Integration</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#02-testing","title":"02: Testing","text":"<ul> <li>Task 02-01: Unit Tests</li> <li>Task 02-02: Integration Tests</li> <li>Task 02-03: E2E Tests</li> <li>Task 02-04: Performance Tests</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#03-demo-preparation","title":"03: Demo Preparation","text":"<ul> <li>Task 03-01: Demo Script</li> <li>Task 03-02: Demo Data Preparation</li> <li>Task 03-03: Presentation Materials</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/#document-references","title":"Document References","text":"<ul> <li>PoC Strategy: <code>../../docs/modernization-strategy/15-poc-strategy/poc-strategy.md</code> (Success Criteria, Demo Strategy)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/","title":"Task 01-01: End-to-End Workflow Integration","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 11</li> <li>Priority: Critical</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: All previous phases complete</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#objective","title":"Objective","text":"<p>Integrate all modules and test complete end-to-end workflow from master data creation through OE import.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#end-to-end-workflow","title":"End-to-End Workflow","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#complete-flow","title":"Complete Flow","text":"<ol> <li>Master Data Setup</li> <li>Create Item</li> <li>Create Customer</li> <li> <p>Create Vendor</p> </li> <li> <p>OE Control</p> </li> <li> <p>Create OE Control record</p> </li> <li> <p>OE Creation</p> </li> <li>Create OE manually OR</li> <li> <p>Import OE from Excel</p> </li> <li> <p>OE Enquiry</p> </li> <li>View OE in list</li> <li>Search and filter OEs</li> <li>View OE details</li> </ol>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#test-scenarios","title":"Test Scenarios","text":"<ol> <li>Manual OE Entry Flow</li> <li> <p>Create Item \u2192 Create Customer \u2192 Create OE Control \u2192 Create OE \u2192 View OE</p> </li> <li> <p>Excel Import Flow</p> </li> <li> <p>Create Item \u2192 Create Customer \u2192 Create OE Control \u2192 Import Excel \u2192 View OE</p> </li> <li> <p>Error Scenarios</p> </li> <li>Missing OE Control (should fail)</li> <li>Invalid Customer (should fail)</li> <li>Invalid Item (should fail)</li> <li>Missing required fields (should fail)</li> </ol>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Complete workflow works end-to-end</li> <li>[ ] All modules integrated correctly</li> <li>[ ] Data flows correctly between modules</li> <li>[ ] Error scenarios handled correctly</li> <li>[ ] Performance acceptable</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/01-integration/task-01-01-end-to-end-workflow/#testing-checklist","title":"Testing Checklist","text":"<ul> <li>[ ] Manual OE entry flow works</li> <li>[ ] Excel import flow works</li> <li>[ ] Error scenarios work correctly</li> <li>[ ] Data integrity maintained</li> <li>[ ] No data loss between steps</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/","title":"Task 02-01: Unit Tests","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 11</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: All implementation complete</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#objective","title":"Objective","text":"<p>Write unit tests for critical business logic, validation rules, and utility functions.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#test-coverage","title":"Test Coverage","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#backend-unit-tests","title":"Backend Unit Tests","text":"<ul> <li>Validation functions</li> <li>Business logic services</li> <li>Data transformation</li> <li>Utility functions</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#frontend-unit-tests","title":"Frontend Unit Tests","text":"<ul> <li>Form validation</li> <li>Component logic</li> <li>Utility functions</li> <li>Custom hooks</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#critical-areas","title":"Critical Areas","text":"<ul> <li>Item validation (uniqueness, std_code, origin)</li> <li>Customer validation (uniqueness)</li> <li>Vendor validation (uniqueness, type)</li> <li>OE Control validation</li> <li>OE validation (customer match, item validation)</li> <li>Excel import validation</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#testing-tools","title":"Testing Tools","text":"<ul> <li>Jest (JavaScript/TypeScript)</li> <li>React Testing Library (React components)</li> <li>Supertest (API testing)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-01-unit-tests/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Critical business logic covered</li> <li>[ ] Validation rules tested</li> <li>[ ] Tests pass consistently</li> <li>[ ] Test coverage &gt; 60% for critical paths</li> <li>[ ] Tests maintainable</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/","title":"Task 02-02: Integration Tests","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 11</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: Task 02-01</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#objective","title":"Objective","text":"<p>Write integration tests for API endpoints, database operations, and module interactions.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#test-coverage","title":"Test Coverage","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#api-integration-tests","title":"API Integration Tests","text":"<ul> <li>Authentication endpoints</li> <li>Master data CRUD operations</li> <li>OE CRUD operations</li> <li>Excel import endpoint</li> <li>Error handling</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#database-integration-tests","title":"Database Integration Tests","text":"<ul> <li>Entity creation/update/deletion</li> <li>Relationships (header-detail)</li> <li>Foreign key constraints</li> <li>Transaction rollback</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#service-integration-tests","title":"Service Integration Tests","text":"<ul> <li>Service layer interactions</li> <li>Business logic integration</li> <li>Validation integration</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-02-integration-tests/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] All API endpoints tested</li> <li>[ ] Database operations tested</li> <li>[ ] Integration points tested</li> <li>[ ] Tests use test database</li> <li>[ ] Tests isolated and repeatable</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/","title":"Task 02-03: E2E Tests","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 11</li> <li>Priority: High</li> <li>Estimated Effort: 2 days</li> <li>Dependencies: All modules complete</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/#objective","title":"Objective","text":"<p>Write end-to-end tests for critical user flows using browser automation.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/#test-scenarios","title":"Test Scenarios","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/#critical-user-flows","title":"Critical User Flows","text":"<ol> <li>Login Flow</li> <li>Login with valid credentials</li> <li>Login with invalid credentials</li> <li> <p>Logout</p> </li> <li> <p>Item Master Flow</p> </li> <li>Create new item</li> <li>Edit existing item</li> <li>Search and filter items</li> <li> <p>Validation errors</p> </li> <li> <p>OE Manual Entry Flow</p> </li> <li>Create OE Control</li> <li>Create OE with items</li> <li>Auto-save functionality</li> <li> <p>View OE in list</p> </li> <li> <p>Excel Import Flow</p> </li> <li>Upload Excel file</li> <li>Map fields</li> <li>Validate data</li> <li>Import and verify</li> </ol>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/#testing-tools","title":"Testing Tools","text":"<ul> <li>Playwright or Cypress</li> <li>Test data setup/teardown</li> <li>Screenshot on failure</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-03-e2e-tests/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Critical user flows tested</li> <li>[ ] Tests run in headless browser</li> <li>[ ] Tests repeatable and stable</li> <li>[ ] Screenshots captured on failure</li> <li>[ ] Tests document expected behavior</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/","title":"Task 02-04: Performance Tests","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 11</li> <li>Priority: Medium</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: All modules complete</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#objective","title":"Objective","text":"<p>Validate performance targets are met for the PoC.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#performance-targets","title":"Performance Targets","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#api-response-times","title":"API Response Times","text":"<ul> <li>GET requests: &lt; 500ms (p95)</li> <li>POST/PUT requests: &lt; 500ms (p95)</li> <li>Search/lookup: &lt; 200ms (p95)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#page-load-times","title":"Page Load Times","text":"<ul> <li>Initial page load: &lt; 2 seconds</li> <li>Navigation between pages: &lt; 500ms</li> <li>Grid rendering: &lt; 1 second (1000 rows)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#client-side-performance","title":"Client-Side Performance","text":"<ul> <li>Form validation: &lt; 100ms</li> <li>Type-to-search: &lt; 200ms</li> <li>Auto-save: &lt; 500ms</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#test-scenarios","title":"Test Scenarios","text":"<ul> <li>Load item list (1000 items)</li> <li>Search items (large dataset)</li> <li>Load OE with many detail lines</li> <li>Excel import (1000 rows)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#tools","title":"Tools","text":"<ul> <li>Browser DevTools (Lighthouse)</li> <li>API load testing (optional)</li> <li>Performance monitoring</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/02-testing/task-02-04-performance-tests/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] API response times meet targets</li> <li>[ ] Page load times meet targets</li> <li>[ ] Client-side performance acceptable</li> <li>[ ] No performance regressions</li> <li>[ ] Performance documented</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/","title":"Task 03-01: Demo Script","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 12</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: All modules complete and tested</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#objective","title":"Objective","text":"<p>Create comprehensive demo script for stakeholder demonstration.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#demo-script-structure","title":"Demo Script Structure","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#1-introduction-2-minutes","title":"1. Introduction (2 minutes)","text":"<ul> <li>PoC objectives recap</li> <li>What will be demonstrated</li> <li>Technology stack overview</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#2-master-data-entry-5-minutes","title":"2. Master Data Entry (5 minutes)","text":"<ul> <li>Item Entry:</li> <li>Create new item</li> <li>Demonstrate keyboard navigation</li> <li>Show lookup/search</li> <li>Edit existing item</li> <li> <p>Show validation</p> </li> <li> <p>Customer Entry:</p> </li> <li>Create customer</li> <li>Show fast data entry</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#3-order-enquiry-entry-10-minutes","title":"3. Order Enquiry Entry (10 minutes)","text":"<ul> <li>OE Control:</li> <li>Create OE Control</li> <li> <p>Search OE Control</p> </li> <li> <p>OE Entry:</p> </li> <li>Create new OE</li> <li>Add items using grid</li> <li>Demonstrate item lookup</li> <li>Show auto-calculate</li> <li>Show auto-save</li> <li>Demonstrate keyboard navigation</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#4-excel-import-5-minutes","title":"4. Excel Import (5 minutes)","text":"<ul> <li>Import:</li> <li>Upload Excel file</li> <li>Show field mapping (auto-detect)</li> <li>Execute import</li> <li>Show error reporting</li> <li>Verify imported data</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#5-enquiry-3-minutes","title":"5. Enquiry (3 minutes)","text":"<ul> <li>OE List:</li> <li>Search/filter OEs</li> <li>View OE details</li> <li>Show fast navigation</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#6-qa-and-summary-5-minutes","title":"6. Q&amp;A and Summary (5 minutes)","text":"<ul> <li>Answer questions</li> <li>Recap key achievements</li> <li>Next steps (MVP)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Demo script complete</li> <li>[ ] Timing realistic</li> <li>[ ] Key features highlighted</li> <li>[ ] Success criteria demonstrated</li> <li>[ ] Backup plan documented</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-01-demo-script/#notes","title":"Notes","text":"<ul> <li>Practice demo multiple times</li> <li>Have backup demo data ready</li> <li>Prepare for common questions</li> <li>Highlight keyboard-first navigation</li> <li>Emphasize Excel-like grid experience</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/","title":"Task 03-02: Demo Data Preparation","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 12</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: All modules complete</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#objective","title":"Objective","text":"<p>Prepare realistic, clean demo data for stakeholder demonstration.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#demo-data-requirements","title":"Demo Data Requirements","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#master-data","title":"Master Data","text":"<ul> <li>Items: 20-30 sample items</li> <li>Various item types</li> <li>Different origins</li> <li>Different standard codes</li> <li> <p>Complete data (price, cost, packing info)</p> </li> <li> <p>Customers: 5-10 sample customers</p> </li> <li>Complete address information</li> <li> <p>Contact details</p> </li> <li> <p>Vendors: 5-10 sample vendors</p> </li> <li>Different types (Vendor, Maker)</li> <li>Complete information</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#reference-data","title":"Reference Data","text":"<ul> <li>Standard codes (zstdcode)</li> <li>Origins (zorigin)</li> <li>Companies (mcomp)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#oe-control","title":"OE Control","text":"<ul> <li>3-5 OE Control records</li> <li>Different customers</li> <li>Different dates</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#oe-data","title":"OE Data","text":"<ul> <li>2-3 Order Enquiries</li> <li>One manually entered</li> <li>One imported from Excel</li> <li>Multiple items per OE</li> <li>Complete data</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#excel-import-file","title":"Excel Import File","text":"<ul> <li>Sample Excel file for import demo</li> <li>Standard format</li> <li>Valid data</li> <li>Multiple items</li> <li>Ready for import</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#data-quality","title":"Data Quality","text":"<ul> <li>Realistic data (not dummy/test data)</li> <li>Complete data (no missing required fields)</li> <li>Valid relationships (items exist, customers exist)</li> <li>Clean data (no errors)</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Demo data prepared</li> <li>[ ] Data is realistic</li> <li>[ ] All relationships valid</li> <li>[ ] Excel file ready</li> <li>[ ] Data can be reset quickly</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-02-demo-data/#notes","title":"Notes","text":"<ul> <li>Prepare reset script to reload demo data</li> <li>Keep backup of demo data</li> <li>Document data structure</li> <li>Ensure data demonstrates all features</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/","title":"Task 03-03: Presentation Materials","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#task-information","title":"Task Information","text":"<ul> <li>Phase: 4 - Integration and Testing</li> <li>Sprint: Week 12</li> <li>Priority: High</li> <li>Estimated Effort: 1 day</li> <li>Dependencies: Demo script ready</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#objective","title":"Objective","text":"<p>Create presentation materials for stakeholder demo.</p>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#presentation-content","title":"Presentation Content","text":""},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#1-poc-overview","title":"1. PoC Overview","text":"<ul> <li>Objectives and scope</li> <li>Timeline and milestones</li> <li>Key achievements</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#2-technology-stack","title":"2. Technology Stack","text":"<ul> <li>Frontend: React + TypeScript</li> <li>Backend: NestJS</li> <li>Database: PostgreSQL</li> <li>Key libraries</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#3-architecture-overview","title":"3. Architecture Overview","text":"<ul> <li>System architecture diagram</li> <li>Technology decisions</li> <li>Scalability considerations</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#4-key-features-demonstrated","title":"4. Key Features Demonstrated","text":"<ul> <li>Keyboard-first navigation</li> <li>Excel-like grid experience</li> <li>Auto-save functionality</li> <li>Excel import</li> <li>Fast data entry</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#5-success-criteria-met","title":"5. Success Criteria Met","text":"<ul> <li>Technical success</li> <li>UX success</li> <li>Business success</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#6-lessons-learned","title":"6. Lessons Learned","text":"<ul> <li>What worked well</li> <li>Challenges overcome</li> <li>Improvements for MVP</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#7-next-steps","title":"7. Next Steps","text":"<ul> <li>Path to MVP</li> <li>Recommendations</li> <li>Timeline</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#presentation-format","title":"Presentation Format","text":"<ul> <li>PowerPoint/Google Slides</li> <li>Screenshots of key features</li> <li>Architecture diagrams</li> <li>Metrics and performance data</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#acceptance-criteria","title":"Acceptance Criteria","text":"<ul> <li>[ ] Presentation complete</li> <li>[ ] Covers all key points</li> <li>[ ] Visual aids included</li> <li>[ ] Ready for stakeholder review</li> <li>[ ] Backup slides for Q&amp;A</li> </ul>"},{"location":"planning/poc_planning/04-phase-4-integration-testing/03-demo-preparation/task-03-03-presentation/#notes","title":"Notes","text":"<ul> <li>Keep presentation concise (30 minutes + demo)</li> <li>Focus on achievements</li> <li>Highlight UX improvements</li> <li>Show value to stakeholders</li> <li>Prepare for questions</li> </ul>"},{"location":"source/","title":"FoxPro Trading Management System - Documentation","text":""},{"location":"source/#overview","title":"Overview","text":"<p>This documentation provides comprehensive analysis of the existing FoxPro Trading Management System (Version 3.0, July 2025). It serves as the foundation for understanding the system's architecture, business logic, and data structures before any modernization efforts.</p>"},{"location":"source/#documentation-structure","title":"Documentation Structure","text":""},{"location":"source/#00-overview","title":"00-overview/","text":"<ul> <li>system-summary.md - Application overview, capabilities, and architecture</li> <li>technology-stack.md - Technology details, file formats, and dependencies</li> <li>user-roles.md - User roles, permissions, and multi-company support</li> </ul>"},{"location":"source/#01-data-architecture","title":"01-data-architecture/","text":"<ul> <li>database-overview.md - Database technology, file types, and organization</li> <li>table-inventory.md - Complete list of 186 DBF tables</li> <li>entity-relationships.md - Table relationships and ERD diagrams</li> <li>table-details/</li> <li>transaction-tables.md - Transaction table schemas (OE, OC, Contract, SO, Invoice, etc.)</li> <li>master-data-tables.md - Master data schemas (Items, Customers, Vendors, BOM)</li> <li>supporting-tables.md - Supporting/reference table schemas</li> <li>indexes-and-keys.md - Index structures and key management</li> </ul>"},{"location":"source/#02-business-processes","title":"02-business-processes/","text":"<ul> <li>workflow-overview.md - End-to-end trading workflow and document lifecycle</li> <li>order-enquiry-process.md - OE creation, validation, and processing</li> <li>order-confirmation-process.md - Post OE to OC workflow</li> <li>contract-process.md - Contract generation from OC</li> <li>shipping-process.md - Shipping order creation and management</li> <li>invoice-process.md - Invoice generation and packing lists</li> <li>master-data-management.md - Item, customer, vendor setup</li> </ul>"},{"location":"source/#03-application-modules","title":"03-application-modules/","text":"<ul> <li>Module documentation (in progress)</li> </ul>"},{"location":"source/#04-forms-and-screens","title":"04-forms-and-screens/","text":"<ul> <li>Form documentation (in progress)</li> </ul>"},{"location":"source/#05-business-logic","title":"05-business-logic/","text":"<ul> <li>Business logic documentation (in progress)</li> </ul>"},{"location":"source/#06-reporting","title":"06-reporting/","text":"<ul> <li>Reporting documentation (in progress)</li> </ul>"},{"location":"source/#07-integration","title":"07-integration/","text":"<ul> <li>Integration documentation (in progress)</li> </ul>"},{"location":"source/#08-security","title":"08-security/","text":"<ul> <li>Security documentation (in progress)</li> </ul>"},{"location":"source/#09-technical-details","title":"09-technical-details/","text":"<ul> <li>Technical documentation (in progress)</li> </ul>"},{"location":"source/#system-statistics","title":"System Statistics","text":"<ul> <li>Forms: 195+ screens (.scx files)</li> <li>Programs: 176+ business logic files (.prg)</li> <li>Database Tables: 186 DBF files</li> <li>Reports: 116+ FRX report files</li> <li>Menu Items: 100+ menu options</li> </ul>"},{"location":"source/#key-workflows","title":"Key Workflows","text":"<ol> <li> <p>Order-to-Invoice Flow:    OE \u2192 OC \u2192 Contract \u2192 SO \u2192 DN \u2192 Invoice</p> </li> <li> <p>Data Import Flow:    Excel File \u2192 Validation \u2192 OE Creation \u2192 Processing</p> </li> <li> <p>Master Data Flow:    Item/Customer/Vendor Setup \u2192 Transaction Creation \u2192 Reporting</p> </li> </ol>"},{"location":"source/#technology","title":"Technology","text":"<ul> <li>Platform: Visual FoxPro 9.0</li> <li>Database: DBF/CDX/FPT (file-based)</li> <li>Architecture: Desktop application, multi-user capable</li> <li>Integration: Excel import/export, PDF generation</li> </ul>"},{"location":"source/#documentation-status","title":"Documentation Status","text":"<p>\u2705 Completed: - System Overview (3 files) - Complete - Data Architecture (6 files) - Complete - Business Processes (7 files) - Complete - Application Modules (2 files) - Core modules documented - Forms and Screens (1 file) - Inventory created - Business Logic (2 files) - Key logic documented - Reporting (1 file) - Inventory created - Integration (1 file) - Excel integration documented - Security (1 file) - Authentication documented - Technical Details (3 files) - Key technical info documented</p> <p>\ud83d\udcdd Documentation Created: 27 files \ud83d\udcca Coverage: Core architecture, data structures, business processes, and key modules</p>"},{"location":"source/#how-to-use-this-documentation","title":"How to Use This Documentation","text":"<ol> <li>Start with Overview: Read <code>00-overview/</code> to understand the system</li> <li>Understand Data: Review <code>01-data-architecture/</code> for table structures</li> <li>Learn Processes: Study <code>02-business-processes/</code> for workflows</li> <li>Explore Modules: Review <code>03-application-modules/</code> for functionality</li> <li>Reference Details: Use other sections for specific information</li> </ol>"},{"location":"source/#notes","title":"Notes","text":"<ul> <li>This documentation is based on source code analysis</li> <li>Some details are inferred from code patterns</li> <li>Table schemas are inferred from usage, not actual DBF structure</li> <li>Business rules extracted from validation logic</li> </ul>"},{"location":"source/#last-updated","title":"Last Updated","text":"<p>December 2025</p>"},{"location":"source/00-overview/system-summary/","title":"System Summary","text":""},{"location":"source/00-overview/system-summary/#application-information","title":"Application Information","text":"<p>Application Name: Trading Management System Version: V3.0 Release Date: July 9, 2025 Technology: Visual FoxPro 9.0 Database: DBF/CDX/FPT (File-based)</p>"},{"location":"source/00-overview/system-summary/#purpose","title":"Purpose","text":"<p>The Trading Management System is a comprehensive desktop application designed for managing international trading operations. It handles the complete lifecycle of trading documents from initial customer inquiries through to final invoicing and shipping.</p>"},{"location":"source/00-overview/system-summary/#high-level-capabilities","title":"High-Level Capabilities","text":"<p>The system manages:</p> <ol> <li>Order Processing</li> <li>Order Enquiry (OE) creation and management</li> <li>Order Confirmation (OC) processing</li> <li>Contract generation and management</li> <li>Shipping Order (SO) creation</li> <li>Delivery Note (DN) processing</li> <li> <p>Invoice generation and packing lists</p> </li> <li> <p>Master Data Management</p> </li> <li>Item/product catalog</li> <li>Customer database</li> <li>Vendor/supplier management</li> <li>Manufacturer information</li> <li> <p>Product BOM (Bill of Materials)</p> </li> <li> <p>Document Management</p> </li> <li>Excel import/export for orders</li> <li>PDF report generation</li> <li>Multiple document formats per customer</li> <li> <p>Customizable shipping order formats</p> </li> <li> <p>Reporting &amp; Analysis</p> </li> <li>Sales analysis by customer, item, date</li> <li>Order summaries and enquiries</li> <li>Contract summaries</li> <li>Invoice summaries</li> <li> <p>Cost breakdown analysis</p> </li> <li> <p>Multi-Company Support</p> </li> <li>Supports multiple trading companies (HT, BAT, INSP, HFW)</li> <li>Company-specific configurations</li> <li>Separate data contexts</li> </ol>"},{"location":"source/00-overview/system-summary/#deployment-model","title":"Deployment Model","text":"<ul> <li>Type: Desktop application (Windows)</li> <li>Architecture: File-based, multi-user capable</li> <li>Database: Local/network file shares (DBF files)</li> <li>Working Directories:</li> <li><code>C:\\batwork</code> - Shared working directory</li> <li><code>C:\\&lt;userid&gt;work</code> - Per-user working directory</li> </ul>"},{"location":"source/00-overview/system-summary/#user-count","title":"User Count","text":"<ul> <li>Multi-user capable (file-based locking)</li> <li>User-specific working directories</li> <li>Role-based access control (SUPERVISOR vs REGULAR_USER)</li> </ul>"},{"location":"source/00-overview/system-summary/#business-domain","title":"Business Domain","text":"<p>International Trading Operations</p> <p>The system is designed for companies engaged in: - Import/export trading - Order fulfillment - Vendor management - Customer relationship management - Shipping and logistics coordination - Invoice and payment tracking</p>"},{"location":"source/00-overview/system-summary/#key-features-summary","title":"Key Features Summary","text":""},{"location":"source/00-overview/system-summary/#1-order-enquiry-oe-management","title":"1. Order Enquiry (OE) Management","text":"<ul> <li>Excel import from multiple formats</li> <li>Manual order entry</li> <li>Quantity breakdown by size/color/style</li> <li>BOM (Bill of Materials) processing</li> <li>OE Control record validation</li> <li>Customer/item validation</li> </ul>"},{"location":"source/00-overview/system-summary/#2-order-confirmation-oc","title":"2. Order Confirmation (OC)","text":"<ul> <li>Post OE to OC workflow</li> <li>Confirmation document generation</li> <li>Quantity and pricing confirmation</li> </ul>"},{"location":"source/00-overview/system-summary/#3-contract-management","title":"3. Contract Management","text":"<ul> <li>Automatic contract generation from OC</li> <li>Vendor grouping</li> <li>Contract amendments</li> <li>Payment terms management</li> <li>Delivery date tracking</li> </ul>"},{"location":"source/00-overview/system-summary/#4-shipping-operations","title":"4. Shipping Operations","text":"<ul> <li>Shipping Order (SO) creation</li> <li>Customizable SO formats per customer</li> <li>Ship mark management</li> <li>FOB port/terms handling</li> </ul>"},{"location":"source/00-overview/system-summary/#5-invoice-packing","title":"5. Invoice &amp; Packing","text":"<ul> <li>Invoice generation from SO/DN</li> <li>Multi-page invoice support</li> <li>Packing list generation</li> <li>Carton breakdown</li> <li>Excel/PDF export</li> </ul>"},{"location":"source/00-overview/system-summary/#6-master-data","title":"6. Master Data","text":"<ul> <li>Item master with pricing, dimensions, packaging</li> <li>Customer master with shipping parameters</li> <li>Vendor master with payment terms</li> <li>Product BOM management</li> </ul>"},{"location":"source/00-overview/system-summary/#7-reporting","title":"7. Reporting","text":"<ul> <li>116+ reports available</li> <li>Sales analysis reports</li> <li>Transaction summaries</li> <li>Item enquiries</li> <li>Cost breakdowns</li> </ul>"},{"location":"source/00-overview/system-summary/#system-architecture","title":"System Architecture","text":"<pre><code>flowchart TB\n    User[User] --&gt; Login[\"Login Form&lt;br/&gt;ILOGON\"]\n    Login --&gt; Auth{Authentication}\n    Auth --&gt;|SUPERVISOR| MenuS[\"BATMENUS&lt;br/&gt;Full Menu\"]\n    Auth --&gt;|REGULAR| MenuR[\"BATMENU&lt;br/&gt;Limited Menu\"]\n\n    MenuS --&gt; File[File Management]\n    MenuS --&gt; OE[Order Enquiry]\n    MenuS --&gt; OC[Order Confirmation]\n    MenuS --&gt; Contract[Contract]\n    MenuS --&gt; SO[Shipping Order]\n    MenuS --&gt; DN[Delivery Note]\n    MenuS --&gt; Inv[Invoice]\n    MenuS --&gt; Reports[Reports]\n\n    File --&gt; Items[Items]\n    File --&gt; Customers[Customers]\n    File --&gt; Vendors[Vendors]\n\n    OE --&gt; Excel[Excel Import]\n    OE --&gt; Manual[Manual Entry]\n    OE --&gt; QtyBrk[Qty Breakdown]\n\n    subgraph DataLayer [Data Layer]\n        DBF[(\"DBF Files&lt;br/&gt;186 Tables\")]\n        CDX[(\"CDX Indexes\")]\n        FPT[(\"FPT Memo Files\")]\n    end\n\n    OE --&gt; DBF\n    OC --&gt; DBF\n    Contract --&gt; DBF\n    SO --&gt; DBF\n    Inv --&gt; DBF\n\n    Reports --&gt; DBF\n    Excel --&gt; DBF</code></pre>"},{"location":"source/00-overview/system-summary/#system-scale","title":"System Scale","text":"<ul> <li>Forms: 195+ screens (.scx files)</li> <li>Programs: 176+ business logic files (.prg)</li> <li>Database Tables: 186 DBF files</li> <li>Reports: 116+ FRX report files</li> <li>Menu Items: 100+ menu options</li> </ul>"},{"location":"source/00-overview/system-summary/#technology-foundation","title":"Technology Foundation","text":"<ul> <li>Development Platform: Visual FoxPro 9.0</li> <li>Database: FoxPro DBF format (no SQL backend)</li> <li>Indexing: CDX compound index files</li> <li>Memo Fields: FPT files for large text</li> <li>Reports: FRX report engine</li> <li>External Integration: Excel (ODBC/Automation), PDF generation</li> </ul>"},{"location":"source/00-overview/system-summary/#key-business-workflows","title":"Key Business Workflows","text":"<ol> <li> <p>Order-to-Invoice Flow:    OE \u2192 OC \u2192 Contract \u2192 SO \u2192 DN \u2192 Invoice</p> </li> <li> <p>Data Import Flow:    Excel File \u2192 Validation \u2192 OE Creation \u2192 Processing</p> </li> <li> <p>Master Data Flow:    Item/Customer/Vendor Setup \u2192 Transaction Creation \u2192 Reporting</p> </li> </ol>"},{"location":"source/00-overview/system-summary/#system-characteristics","title":"System Characteristics","text":"<ul> <li>File-based: No centralized database server</li> <li>Multi-user: File locking for concurrent access</li> <li>Desktop Application: Windows-only deployment</li> <li>Legacy Technology: Visual FoxPro (discontinued by Microsoft)</li> <li>Custom Business Logic: Extensive custom code for trading operations</li> </ul>"},{"location":"source/00-overview/technology-stack/","title":"Technology Stack","text":""},{"location":"source/00-overview/technology-stack/#core-technology","title":"Core Technology","text":""},{"location":"source/00-overview/technology-stack/#visual-foxpro","title":"Visual FoxPro","text":"<ul> <li>Version: Visual FoxPro 9.0</li> <li>Engine Behavior: SET ENGINEBEHAVIOR 70/90</li> <li>Status: Discontinued by Microsoft (last version released in 2007)</li> <li>Platform: Windows only</li> </ul>"},{"location":"source/00-overview/technology-stack/#database-technology","title":"Database Technology","text":""},{"location":"source/00-overview/technology-stack/#dbf-files-database-files","title":"DBF Files (Database Files)","text":"<ul> <li>Format: FoxPro DBF format</li> <li>Total Tables: 186 DBF files</li> <li>Structure: Fixed-width record format</li> <li>Limitations:</li> <li>No built-in referential integrity</li> <li>No ACID transactions</li> <li>Manual foreign key management</li> <li>File-level locking only</li> </ul>"},{"location":"source/00-overview/technology-stack/#cdx-files-compound-index","title":"CDX Files (Compound Index)","text":"<ul> <li>Purpose: Index files for fast lookups</li> <li>Format: Compound index structure</li> <li>Usage: Multiple indexes per table</li> <li>Maintenance: Manual reindexing required (via <code>zdoc.prg</code>)</li> </ul>"},{"location":"source/00-overview/technology-stack/#fpt-files-memotext-fields","title":"FPT Files (Memo/Text Fields)","text":"<ul> <li>Purpose: Store large text fields (memos, remarks, descriptions)</li> <li>Format: FoxPro memo file format</li> <li>Associated: One FPT file per DBF with memo fields</li> <li>Examples: </li> <li><code>mitem.FPT</code> - Item descriptions</li> <li><code>mcustom.FPT</code> - Customer notes</li> <li><code>mcontdt.FPT</code> - Contract details</li> </ul>"},{"location":"source/00-overview/technology-stack/#operating-system-requirements","title":"Operating System Requirements","text":"<ul> <li>Platform: Microsoft Windows</li> <li>Architecture: 32-bit or 64-bit (with compatibility)</li> <li>File System: NTFS recommended</li> <li>Network: Network file shares supported for multi-user access</li> </ul>"},{"location":"source/00-overview/technology-stack/#external-dependencies","title":"External Dependencies","text":""},{"location":"source/00-overview/technology-stack/#microsoft-excel","title":"Microsoft Excel","text":"<ul> <li>Purpose: Import/export functionality</li> <li>Integration Methods:</li> <li>ODBC connection</li> <li>OLE Automation</li> <li>Direct file reading</li> <li>Formats Supported:</li> <li>Excel 97-2003 (.xls)</li> <li>Excel 2007+ (.xlsx)</li> <li>CSV files</li> <li>Custom formats per customer</li> </ul>"},{"location":"source/00-overview/technology-stack/#pdf-generation","title":"PDF Generation","text":"<ul> <li>Purpose: Report and document generation</li> <li>Method: FoxPro report engine (FRX) \u2192 PDF</li> <li>Tools: Third-party PDF drivers or built-in print-to-PDF</li> </ul>"},{"location":"source/00-overview/technology-stack/#mysql-optional","title":"MySQL (Optional)","text":"<ul> <li>Evidence: <code>openMySqlConnect.prg</code>, <code>getMySqlConnect.prg</code></li> <li>Purpose: Possible external data connectivity</li> <li>Status: Limited usage in current codebase</li> </ul>"},{"location":"source/00-overview/technology-stack/#file-based-architecture-details","title":"File-Based Architecture Details","text":""},{"location":"source/00-overview/technology-stack/#directory-structure","title":"Directory Structure","text":"<pre><code>C:\\batwork\\              # Shared working directory\n\u251c\u2500\u2500 *.dbf                # Database files\n\u251c\u2500\u2500 *.cdx                # Index files\n\u251c\u2500\u2500 *.fpt                # Memo files\n\u2514\u2500\u2500 *.frx                # Report files\n\nC:\\&lt;userid&gt;work\\         # Per-user working directory\n\u2514\u2500\u2500 [user-specific temp files]\n</code></pre>"},{"location":"source/00-overview/technology-stack/#file-access-patterns","title":"File Access Patterns","text":""},{"location":"source/00-overview/technology-stack/#exclusive-access","title":"Exclusive Access","text":"<ul> <li>Used for: Batch operations, reindexing, data conversion</li> <li>Example: <code>USE moe EXCLUSIVE</code></li> <li>Impact: Locks entire table during operation</li> </ul>"},{"location":"source/00-overview/technology-stack/#shared-access","title":"Shared Access","text":"<ul> <li>Default: <code>SET EXCLUSIVE OFF</code></li> <li>Used for: Normal operations, multi-user access</li> <li>Locking: Record-level or file-level</li> </ul>"},{"location":"source/00-overview/technology-stack/#database-file-organization","title":"Database File Organization","text":""},{"location":"source/00-overview/technology-stack/#transaction-tables","title":"Transaction Tables","text":"<ul> <li>Pattern: Header/Detail pairs</li> <li><code>moehd</code> / <code>moe</code> (Order Enquiry)</li> <li><code>mordhd</code> / <code>morddt</code> (Order Confirmation)</li> <li><code>mconthd</code> / <code>mcontdt</code> (Contract)</li> <li><code>minvhd</code> / <code>minvdt</code> (Invoice)</li> <li>Relationship: Manual linking via key fields</li> </ul>"},{"location":"source/00-overview/technology-stack/#master-data-tables","title":"Master Data Tables","text":"<ul> <li>Pattern: Single table per entity</li> <li><code>mitem</code> (Items)</li> <li><code>mcustom</code> (Customers)</li> <li><code>mvendor</code> (Vendors)</li> <li>Lookup Tables: Supporting reference data</li> </ul>"},{"location":"source/00-overview/technology-stack/#index-management","title":"Index Management","text":""},{"location":"source/00-overview/technology-stack/#index-types","title":"Index Types","text":"<ol> <li>Primary Index: Unique key (e.g., <code>oe_no</code>, <code>item_no</code>)</li> <li>Foreign Key Index: For lookups (e.g., <code>cust_no</code>, <code>vendor_no</code>)</li> <li>Search Index: For filtering (e.g., date ranges, status)</li> </ol>"},{"location":"source/00-overview/technology-stack/#index-maintenance","title":"Index Maintenance","text":"<ul> <li>Manual Process: Reindex utility (<code>zdoc.prg</code>)</li> <li>Frequency: After bulk data changes</li> <li>Method: <code>REINDEX</code> command on each table</li> <li>Exclusive Access Required: Yes</li> </ul>"},{"location":"source/00-overview/technology-stack/#memo-field-handling","title":"Memo Field Handling","text":""},{"location":"source/00-overview/technology-stack/#storage","title":"Storage","text":"<ul> <li>Location: Separate FPT files</li> <li>Size: Variable length</li> <li>Content: Text, descriptions, remarks, notes</li> </ul>"},{"location":"source/00-overview/technology-stack/#access-patterns","title":"Access Patterns","text":"<ul> <li>Read: Direct field access</li> <li>Write: REPLACE command</li> <li>Search: Limited (requires full table scan)</li> </ul>"},{"location":"source/00-overview/technology-stack/#configuration-management","title":"Configuration Management","text":""},{"location":"source/00-overview/technology-stack/#system-configuration","title":"System Configuration","text":"<ul> <li>File: <code>main.prg</code> (startup script)</li> <li>Settings:</li> <li>Date format: <code>SET DATE MDY</code></li> <li>Century: <code>SET CENTURY ON</code></li> <li>Hour format: <code>SET HOUR TO 24</code></li> <li>Path: <code>SET PATH TO c:\\batwork, &amp;syswork</code></li> </ul>"},{"location":"source/00-overview/technology-stack/#company-configuration","title":"Company Configuration","text":"<ul> <li>Method: Password-based company selection</li> <li>Variables:</li> <li><code>w_password</code> - Company code (HT, BAT, INSP, HFW)</li> <li><code>w_co_name</code> - Company name</li> <li><code>w_oe_prefix</code> - OE number prefix</li> <li>Location: Hardcoded in <code>a.prg</code> or login form</li> </ul>"},{"location":"source/00-overview/technology-stack/#user-configuration","title":"User Configuration","text":"<ul> <li>User ID: <code>sysUserId</code> (from login)</li> <li>Working Directory: <code>C:\\&lt;userid&gt;work</code></li> <li>User Rights: <code>User_right</code> (SUPERVISOR/REGULAR_USER)</li> </ul>"},{"location":"source/00-overview/technology-stack/#development-environment","title":"Development Environment","text":""},{"location":"source/00-overview/technology-stack/#source-code-organization","title":"Source Code Organization","text":"<ul> <li>Forms: <code>.scx</code> / <code>.sct</code> files (binary + text)</li> <li>Programs: <code>.prg</code> files (text)</li> <li>Menus: <code>.mnx</code> / <code>.mpr</code> files</li> <li>Reports: <code>.frx</code> / <code>.frt</code> files</li> <li>Project: <code>.pjx</code> / <code>.pjt</code> files</li> </ul>"},{"location":"source/00-overview/technology-stack/#build-process","title":"Build Process","text":"<ul> <li>Compiler: Visual FoxPro compiler</li> <li>Output: <code>.exe</code> file (standalone executable)</li> <li>Dependencies: Runtime libraries included</li> </ul>"},{"location":"source/00-overview/technology-stack/#limitations-constraints","title":"Limitations &amp; Constraints","text":""},{"location":"source/00-overview/technology-stack/#technical-limitations","title":"Technical Limitations","text":"<ol> <li>No SQL Backend</li> <li>No complex queries</li> <li>No stored procedures</li> <li>No views</li> <li> <p>Manual relationship management</p> </li> <li> <p>File Locking</p> </li> <li>Record-level or file-level only</li> <li>No row-level locking</li> <li> <p>Potential for conflicts in multi-user scenarios</p> </li> <li> <p>No Transactions</p> </li> <li>No rollback capability</li> <li>Manual data consistency checks required</li> <li> <p>Risk of partial updates</p> </li> <li> <p>Limited Scalability</p> </li> <li>File-based storage limits</li> <li>Network file share performance</li> <li> <p>No connection pooling</p> </li> <li> <p>Platform Dependency</p> </li> <li>Windows only</li> <li>Visual FoxPro runtime required</li> <li>Legacy technology</li> </ol>"},{"location":"source/00-overview/technology-stack/#maintenance-challenges","title":"Maintenance Challenges","text":"<ol> <li>Index Corruption</li> <li>Requires periodic reindexing</li> <li> <p>Manual maintenance process</p> </li> <li> <p>Data Integrity</p> </li> <li>No foreign key constraints</li> <li>Manual validation in code</li> <li> <p>Risk of orphaned records</p> </li> <li> <p>Backup/Recovery</p> </li> <li>File-based backup required</li> <li>No point-in-time recovery</li> <li>Manual backup procedures</li> </ol>"},{"location":"source/00-overview/technology-stack/#integration-points","title":"Integration Points","text":""},{"location":"source/00-overview/technology-stack/#excel-integration","title":"Excel Integration","text":"<ul> <li>Import: Multiple formats (standard, Walmart, CSV, 2013 format)</li> <li>Export: Reports, invoices, packing lists</li> <li>Method: ODBC or OLE Automation</li> </ul>"},{"location":"source/00-overview/technology-stack/#file-system-integration","title":"File System Integration","text":"<ul> <li>Working Directories: Per-user temp files</li> <li>Import Files: Excel files from network shares</li> <li>Export Files: Generated reports, Excel files</li> </ul>"},{"location":"source/00-overview/technology-stack/#print-integration","title":"Print Integration","text":"<ul> <li>Reports: FRX report engine</li> <li>Output: Printer or PDF</li> <li>Formats: Custom layouts per document type</li> </ul>"},{"location":"source/00-overview/user-roles/","title":"User Roles and Permissions","text":""},{"location":"source/00-overview/user-roles/#role-overview","title":"Role Overview","text":"<p>The system supports two primary user roles with different access levels:</p> <ol> <li>SUPERVISOR - Full system access</li> <li>REGULAR_USER - Limited access</li> </ol>"},{"location":"source/00-overview/user-roles/#role-determination","title":"Role Determination","text":""},{"location":"source/00-overview/user-roles/#authentication-flow","title":"Authentication Flow","text":"<pre><code>flowchart TD\n    Start([User Login]) --&gt; LoginForm[\"ILOGON Form\"]\n    LoginForm --&gt; Validate{Validate Credentials}\n    Validate --&gt;|Success| CheckRole{Check User_right}\n    Validate --&gt;|Fail| Reject[Login Rejected]\n    CheckRole --&gt;|SUPERVISOR| LoadSupervisor[\"BATMENUS.MPX&lt;br/&gt;Full Menu\"]\n    CheckRole --&gt;|REGULAR| LoadRegular[\"BATMENU.MPX&lt;br/&gt;Limited Menu\"]\n    LoadSupervisor --&gt; MainApp[Main Application]\n    LoadRegular --&gt; MainApp</code></pre>"},{"location":"source/00-overview/user-roles/#code-reference","title":"Code Reference","text":"<p>From <code>main.prg</code>: <pre><code>IF M = .T.    \n    IF Upper(User_right) = \"SUPERVISOR\"\n        DO BATMENUS.MPX         \n    ELSE\n        DO BATMENU.MPX          \n    Endif  \n</code></pre></p>"},{"location":"source/00-overview/user-roles/#supervisor-role","title":"SUPERVISOR Role","text":""},{"location":"source/00-overview/user-roles/#capabilities","title":"Capabilities","text":"<p>Full System Access: - All master data management functions - All transaction entry functions - All reporting functions - System administration functions</p>"},{"location":"source/00-overview/user-roles/#menu-access-batmenusmpx","title":"Menu Access (BATMENUS.MPX)","text":"<p>File Menu: - Item management (full) - Customer management (full) - Vendor management (full) - User account management - Company information setup - Suspended item management - Data recovery tools - Reindex utilities - Delete data functions - Data conversion tools</p> <p>Order Enquiry: - OE Control file management - Import/Input/Print Order Enquiry (all methods) - Qty Breakdown (all methods) - Other enquiry functions - Change Customer No. (all documents)</p> <p>Order Confirmation: - Post OE/Post OC - Input Order Confirmation - Print Order Confirmation - Print OC Qty Breakdown</p> <p>Contract: - All contract functions - Contract amendments - Contract printing</p> <p>Shipping Order: - Input Shipping Order - Print Shipping Order - Input Shipping Order Format</p> <p>DN (Delivery Note): - Input D/N - Create D/N Excel File - Loading Master - Loading Advice - Print functions</p> <p>Invoice: - All invoice functions - Packing list (all formats) - Shipment advice - Debit note</p> <p>Delivery Report: - All delivery report functions - Payment authorization</p> <p>Enquiry: - All enquiry functions - Sales analysis (all types) - Item enquiries - Summary reports</p> <p>Report: - All report functions - Export functions</p> <p>Acrobat File: - PDF generation for all documents</p>"},{"location":"source/00-overview/user-roles/#administrative-functions","title":"Administrative Functions","text":"<ol> <li>User Management</li> <li>Create/edit user accounts</li> <li>Assign user rights</li> <li> <p>Form: <code>iuser</code></p> </li> <li> <p>System Configuration</p> </li> <li>Company information setup</li> <li>System parameters</li> <li> <p>Form: <code>ipara2</code></p> </li> <li> <p>Data Maintenance</p> </li> <li>Reindex all tables</li> <li>Data recovery</li> <li>Delete data</li> <li> <p>Data conversion tools</p> </li> <li> <p>Data Conversion</p> </li> <li>Vendor code conversion</li> <li>Cancel status conversion</li> <li>DR SO conversion</li> <li>DR DN conversion</li> <li>Change Item No.</li> </ol>"},{"location":"source/00-overview/user-roles/#regular_user-role","title":"REGULAR_USER Role","text":""},{"location":"source/00-overview/user-roles/#capabilities_1","title":"Capabilities","text":"<p>Limited System Access: - Basic transaction entry - Limited master data viewing - Basic reporting - No administrative functions</p>"},{"location":"source/00-overview/user-roles/#menu-access-batmenumpx","title":"Menu Access (BATMENU.MPX)","text":"<p>File Menu: - Item management (limited) - Customer management (view only) - Vendor management (view only) - No access to:   - User account management   - Company information   - Data recovery   - Reindex   - Delete data   - Data conversion</p> <p>Order Enquiry: - Import OE from Excel (limited formats) - Input OE (new) - Print Order Enquiry - Print OE Doc - Qty Breakdown (limited) - No access to:   - OE Control file management   - Some import formats   - Change Customer No.</p> <p>Order Confirmation: - Post OE/Post OC - Input Order Confirmation - Print Order Confirmation - Print OC Qty Breakdown</p> <p>Contract: - Contract functions (limited) - Contract printing</p> <p>Shipping Order: - Input Shipping Order - Print Shipping Order - No access to: Format configuration</p> <p>DN (Delivery Note): - Input D/N - Loading functions - Print functions - No access to: Excel file creation</p> <p>Invoice: - Invoice functions - Packing list - Limited export formats</p> <p>Enquiry: - Basic enquiry functions - Limited analysis reports</p> <p>Report: - Basic reports - Limited export functions</p>"},{"location":"source/00-overview/user-roles/#restrictions","title":"Restrictions","text":"<ol> <li>No Administrative Access</li> <li>Cannot manage users</li> <li>Cannot configure system</li> <li> <p>Cannot perform data maintenance</p> </li> <li> <p>Limited Data Modification</p> </li> <li>Cannot delete data</li> <li>Cannot perform bulk conversions</li> <li> <p>Limited master data editing</p> </li> <li> <p>Limited Import/Export</p> </li> <li>Fewer Excel import formats</li> <li>Limited export options</li> <li>No advanced Excel functions</li> </ol>"},{"location":"source/00-overview/user-roles/#user-management","title":"User Management","text":""},{"location":"source/00-overview/user-roles/#user-table","title":"User Table","text":"<p>Table: <code>user.DBF</code> (or <code>user#.dbf</code>)</p> <p>Fields (inferred): - User ID - Password - User rights (SUPERVISOR/REGULAR_USER) - User name - Other user attributes</p>"},{"location":"source/00-overview/user-roles/#rights-table","title":"Rights Table","text":"<p>Table: <code>rights.DBF</code> (or <code>rights#.dbf</code>)</p> <p>Purpose: Additional permission definitions (if used)</p>"},{"location":"source/00-overview/user-roles/#user-identification","title":"User Identification","text":"<p>Variable: <code>sysUserId</code> - Set during login - Used for audit trails - Used for user-specific working directories</p> <p>Code Reference: <pre><code>syswork=\"c:\\\"+alltrim(sysuserid)+\"work\"\n_screen.Caption=_screen.Caption+ \"   \"+alltrim(sysuserid)\n</code></pre></p>"},{"location":"source/00-overview/user-roles/#multi-company-support","title":"Multi-Company Support","text":""},{"location":"source/00-overview/user-roles/#company-context","title":"Company Context","text":"<p>The system supports multiple trading companies through password-based selection:</p> <p>Companies: - HT - Holiday Times Unlimited Inc - BAT - Baitin Trading Limited - INSP - InSpirt Designs - HFW - Holiday Funworld Limited (with prefix)</p>"},{"location":"source/00-overview/user-roles/#company-configuration","title":"Company Configuration","text":"<p>Variable: <code>w_password</code> - Determines company context - Affects data filtering - Affects OE number prefixes</p> <p>Code Reference (from <code>a.prg</code>): <pre><code>w_password = \"HT\"\nw_co_name = \"HOLIDAY TIMES UNLIMITED INC\"\nw_oe_prefix = \"\"\n\n*w_password = \"INSP\"\n*w_co_name = \"InSpirt Designs\"\n\n*w_password = \"BAT\"\n*w_co_name = \"BAITIN TRADING LIMITED\"\n\n*w_password = \"HFW\"\n*w_co_name = \"HOLIDAY FUNWORLD LIMITED\"\n*w_oe_prefix = \"HFW\"\n</code></pre></p>"},{"location":"source/00-overview/user-roles/#company-specific-behavior","title":"Company-Specific Behavior","text":"<p>OE Number Handling: - INSP: Adds \"IN-\" prefix automatically - HFW: Uses \"HFW\" prefix - HT/BAT: No prefix</p> <p>Data Filtering: - Company code stored in records (<code>comp_code</code> field in <code>moe</code>) - Reports filtered by company - User context determines visible data</p>"},{"location":"source/00-overview/user-roles/#user-working-directories","title":"User Working Directories","text":""},{"location":"source/00-overview/user-roles/#per-user-directories","title":"Per-User Directories","text":"<p>Pattern: <code>C:\\&lt;userid&gt;work</code></p> <p>Purpose: - User-specific temporary files - User-specific exports - User-specific working data</p> <p>Creation: <pre><code>syswork=\"c:\\\"+alltrim(sysuserid)+\"work\"\nif !directory(syswork)\n   md &amp;syswork\nendif   \nset path to c:\\batwork, &amp;syswork\n</code></pre></p>"},{"location":"source/00-overview/user-roles/#shared-working-directory","title":"Shared Working Directory","text":"<p>Path: <code>C:\\batwork</code></p> <p>Purpose: - Shared database files - Shared temporary files - Common working area</p>"},{"location":"source/00-overview/user-roles/#audit-trail","title":"Audit Trail","text":""},{"location":"source/00-overview/user-roles/#user-tracking-fields","title":"User Tracking Fields","text":"<p>Common Fields in Transaction Tables: - <code>user_id</code> - User who created/modified - <code>cre_user</code> - User who created record - <code>cre_date</code> - Creation date</p> <p>Example (from <code>uoexls_2013.prg</code>): <pre><code>replace moehd.user_id with sysuserid\nreplace moehd.cre_user with sysuserid\nreplace moehd.cre_date with date()\n</code></pre></p>"},{"location":"source/00-overview/user-roles/#activity-logging","title":"Activity Logging","text":"<p>Table: <code>mactivity.DBF</code></p> <p>Purpose: Track user activities and system events</p>"},{"location":"source/00-overview/user-roles/#security-considerations","title":"Security Considerations","text":""},{"location":"source/00-overview/user-roles/#authentication","title":"Authentication","text":"<ul> <li>Method: Form-based login (<code>ilogon.scx</code>)</li> <li>Password: Stored in user table</li> <li>Session: Maintained during application run</li> <li>Logout: Clears session and returns to login</li> </ul>"},{"location":"source/00-overview/user-roles/#authorization","title":"Authorization","text":"<ul> <li>Method: Role-based (SUPERVISOR vs REGULAR_USER)</li> <li>Enforcement: Menu structure differences</li> <li>Data Access: Same tables, different menu options</li> </ul>"},{"location":"source/00-overview/user-roles/#limitations","title":"Limitations","text":"<ol> <li>No Password Encryption: Passwords likely stored in plain text</li> <li>No Session Timeout: Session lasts until logout or application close</li> <li>No Audit Logging: Limited activity tracking</li> <li>File-Based Security: No database-level security</li> </ol>"},{"location":"source/00-overview/user-roles/#menu-differences-summary","title":"Menu Differences Summary","text":"Feature SUPERVISOR REGULAR_USER User Management \u2705 \u274c System Configuration \u2705 \u274c Data Recovery \u2705 \u274c Reindex \u2705 \u274c Delete Data \u2705 \u274c Data Conversion \u2705 \u274c OE Control Management \u2705 \u274c Change Customer No. \u2705 \u274c SO Format Configuration \u2705 \u274c Advanced Reports \u2705 Limited Excel Export (Advanced) \u2705 Limited"},{"location":"source/01-data-architecture/database-overview/","title":"Database Overview","text":""},{"location":"source/01-data-architecture/database-overview/#database-technology","title":"Database Technology","text":""},{"location":"source/01-data-architecture/database-overview/#file-format","title":"File Format","text":"<ul> <li>Type: FoxPro DBF (Database File) format</li> <li>Version: Visual FoxPro 9.0 compatible</li> <li>Structure: Fixed-width record format with variable-length memo fields</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#total-tables","title":"Total Tables","text":"<ul> <li>Count: 186 DBF files identified in the source directory</li> <li>Categories:</li> <li>Transaction tables (header/detail pairs)</li> <li>Master data tables</li> <li>Supporting/reference tables</li> <li>Temporary/work tables</li> <li>Legacy/backup tables</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#file-types","title":"File Types","text":""},{"location":"source/01-data-architecture/database-overview/#dbf-files-database-tables","title":"DBF Files (Database Tables)","text":"<ul> <li>Purpose: Store structured data records</li> <li>Format: Binary fixed-width records</li> <li>Naming Convention: </li> <li><code>m</code> prefix for master/transaction tables (e.g., <code>mitem</code>, <code>moe</code>, <code>mordhd</code>)</li> <li><code>z</code> prefix for reference/lookup tables (e.g., <code>zstdcode</code>, <code>zorigin</code>)</li> <li><code>w</code> prefix for work/temporary tables (e.g., <code>woexls</code>, <code>wcontract</code>)</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#cdx-files-compound-index","title":"CDX Files (Compound Index)","text":"<ul> <li>Purpose: Provide fast lookups and sorting</li> <li>Format: Compound index structure</li> <li>Association: One CDX file per DBF (can contain multiple indexes)</li> <li>Examples:</li> <li><code>mitem.CDX</code> - Indexes for item table</li> <li><code>moe.CDX</code> - Indexes for OE table</li> <li><code>mcustom.CDX</code> - Indexes for customer table</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#fpt-files-memotext-fields","title":"FPT Files (Memo/Text Fields)","text":"<ul> <li>Purpose: Store large text fields (memos, descriptions, remarks)</li> <li>Format: FoxPro memo file format</li> <li>Association: One FPT file per DBF that contains memo fields</li> <li>Size: Variable length (can be very large)</li> <li>Examples:</li> <li><code>mitem.FPT</code> - Item descriptions (24MB)</li> <li><code>mcustom.FPT</code> - Customer notes (394KB)</li> <li><code>mcontdt.FPT</code> - Contract details (75MB)</li> <li><code>minvdt.FPT</code> - Invoice details (178MB)</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#file-sizes","title":"File Sizes","text":"<p>Based on file listing analysis:</p>"},{"location":"source/01-data-architecture/database-overview/#large-transaction-tables","title":"Large Transaction Tables","text":"<ul> <li><code>mso.dbf</code> - 279MB (Shipping Orders)</li> <li><code>minvdt.dbf</code> - 123MB (Invoice Details)</li> <li><code>morddt.dbf</code> - 39MB (Order Confirmation Details)</li> <li><code>mcontdt.dbf</code> - 47MB (Contract Details)</li> <li><code>moe.dbf</code> - 102MB (Order Enquiry)</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#large-memo-files","title":"Large Memo Files","text":"<ul> <li><code>minvdt.FPT</code> - 178MB (Invoice detail memos)</li> <li><code>mcontdt.FPT</code> - 75MB (Contract detail memos)</li> <li><code>mso.FPT</code> - 131MB (Shipping order memos)</li> <li><code>morddt.FPT</code> - 77MB (Order confirmation memos)</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#master-data-tables","title":"Master Data Tables","text":"<ul> <li><code>mitem.dbf</code> - 11MB (Items)</li> <li><code>mcustom.dbf</code> - 576KB (Customers)</li> <li><code>mvendor.dbf</code> - 228KB (Vendors)</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#database-structure","title":"Database Structure","text":""},{"location":"source/01-data-architecture/database-overview/#no-centralized-database","title":"No Centralized Database","text":"<ul> <li>Architecture: File-based, no database server</li> <li>Location: Files stored in <code>C:\\batwork</code> directory</li> <li>Access: Direct file access via FoxPro runtime</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#table-relationships","title":"Table Relationships","text":"<ul> <li>Type: Manual (no foreign key constraints)</li> <li>Enforcement: Application-level validation</li> <li>Pattern: Header/Detail pairs for transactions</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#index-management","title":"Index Management","text":"<ul> <li>Type: CDX compound indexes</li> <li>Maintenance: Manual reindexing required</li> <li>Process: <code>zdoc.prg</code> utility performs reindexing</li> <li>Frequency: After bulk data changes</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#data-organization","title":"Data Organization","text":""},{"location":"source/01-data-architecture/database-overview/#transaction-tables-headerdetail-pattern","title":"Transaction Tables (Header/Detail Pattern)","text":"<p>Order Enquiry: - <code>moehd</code> - OE Header - <code>moe</code> - OE Detail - <code>moectrl</code> - OE Control</p> <p>Order Confirmation: - <code>mordhd</code> - OC Header - <code>morddt</code> - OC Detail</p> <p>Contract: - <code>mconthd</code> - Contract Header - <code>mcontdt</code> - Contract Detail</p> <p>Shipping: - <code>mso</code> - Shipping Order</p> <p>Delivery Note: - <code>mdnhd</code> - DN Header - <code>mdndt</code> - DN Detail - <code>mdnbrk</code> - DN Breakdown</p> <p>Invoice: - <code>minvhd</code> - Invoice Header - <code>minvdt</code> - Invoice Detail</p> <p>Loading: - <code>mlahd</code> - Loading Advice Header - <code>mladt</code> - Loading Advice Detail - <code>mload</code> - Loading Master</p>"},{"location":"source/01-data-architecture/database-overview/#master-data-tables_1","title":"Master Data Tables","text":"<p>Items: - <code>mitem</code> - Item Master - <code>mitemmftr</code> - Item Manufacturer - <code>mitemven</code> - Item Vendor relationships - <code>mprodbom</code> - Product BOM - <code>moebom</code> - OE BOM</p> <p>Customers: - <code>mcustom</code> - Customer Master</p> <p>Vendors: - <code>mvendor</code> - Vendor Master - <code>zmftr</code> - Manufacturer</p>"},{"location":"source/01-data-architecture/database-overview/#supporting-tables","title":"Supporting Tables","text":"<p>Reference Data: - <code>zstdcode</code> - Standard codes - <code>zorigin</code> - Country of origin - <code>zfobport</code> - FOB ports - <code>zpayterm</code> - Payment terms - <code>zfobterm</code> - FOB terms - <code>zcurcode</code> - Currency codes - <code>zpurunit</code> - Purchase units</p> <p>Business Data: - <code>mqtybrk</code> - Quantity breakdown - <code>mskn</code> - SKN number mapping - <code>mspecprice</code> - Special pricing - <code>mshipmark</code> - Shipping marks - <code>mactivity</code> - Activity log</p> <p>System: - <code>zpara</code> - System parameters - <code>user</code> - User accounts - <code>rights</code> - User rights</p>"},{"location":"source/01-data-architecture/database-overview/#data-access-patterns","title":"Data Access Patterns","text":""},{"location":"source/01-data-architecture/database-overview/#exclusive-access","title":"Exclusive Access","text":"<ul> <li>Usage: Batch operations, reindexing, data conversion</li> <li>Example: <code>USE moe EXCLUSIVE</code></li> <li>Impact: Locks entire table</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#shared-access","title":"Shared Access","text":"<ul> <li>Default: <code>SET EXCLUSIVE OFF</code></li> <li>Usage: Normal operations, multi-user access</li> <li>Locking: Record-level or file-level</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#data-integrity","title":"Data Integrity","text":""},{"location":"source/01-data-architecture/database-overview/#no-built-in-constraints","title":"No Built-in Constraints","text":"<ul> <li>Foreign Keys: Not enforced at database level</li> <li>Referential Integrity: Manual validation in code</li> <li>Transactions: Not supported (no rollback)</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#manual-validation","title":"Manual Validation","text":"<ul> <li>Application Level: Code validates relationships</li> <li>Data Quality: Dependent on application logic</li> <li>Risk: Potential for orphaned records</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#backup-and-recovery","title":"Backup and Recovery","text":""},{"location":"source/01-data-architecture/database-overview/#file-based-backup","title":"File-Based Backup","text":"<ul> <li>Method: Copy DBF, CDX, FPT files</li> <li>Frequency: Manual process</li> <li>Recovery: Restore files from backup</li> <li>Limitation: No point-in-time recovery</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#data-consistency","title":"Data Consistency","text":"<ul> <li>Index Corruption: Requires reindexing</li> <li>Memo Corruption: Requires FPT file recovery</li> <li>Maintenance: Periodic reindexing via <code>zdoc.prg</code></li> </ul>"},{"location":"source/01-data-architecture/database-overview/#performance-considerations","title":"Performance Considerations","text":""},{"location":"source/01-data-architecture/database-overview/#index-usage","title":"Index Usage","text":"<ul> <li>Critical Indexes: On key fields (oe_no, item_no, cust_no)</li> <li>Search Indexes: On date ranges, status fields</li> <li>Maintenance: Regular reindexing required</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#file-size-impact","title":"File Size Impact","text":"<ul> <li>Large Tables: Some tables exceed 100MB</li> <li>Memo Files: Some FPT files exceed 100MB</li> <li>Network Impact: Large files on network shares can be slow</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#multi-user-considerations","title":"Multi-User Considerations","text":"<ul> <li>File Locking: Record or file level</li> <li>Contention: Potential conflicts on shared files</li> <li>Performance: Degrades with multiple concurrent users</li> </ul>"},{"location":"source/01-data-architecture/database-overview/#migration-considerations","title":"Migration Considerations","text":""},{"location":"source/01-data-architecture/database-overview/#challenges","title":"Challenges","text":"<ol> <li>No SQL Backend: Direct migration to SQL required</li> <li>Memo Fields: FPT files need conversion to TEXT/JSONB</li> <li>Indexes: CDX indexes need recreation in SQL</li> <li>Relationships: Manual relationships need foreign keys</li> <li>Data Types: FoxPro types need SQL type mapping</li> </ol>"},{"location":"source/01-data-architecture/database-overview/#opportunities","title":"Opportunities","text":"<ol> <li>Normalization: Can improve data structure</li> <li>Constraints: Can add referential integrity</li> <li>Transactions: Can add ACID compliance</li> <li>Scalability: Can improve with proper RDBMS</li> </ol>"},{"location":"source/01-data-architecture/entity-relationships/","title":"Entity Relationships","text":""},{"location":"source/01-data-architecture/entity-relationships/#overview","title":"Overview","text":"<p>The FoxPro system uses manual relationships between tables. There are no enforced foreign key constraints at the database level. Relationships are maintained through application logic and field matching.</p>"},{"location":"source/01-data-architecture/entity-relationships/#relationship-patterns","title":"Relationship Patterns","text":""},{"location":"source/01-data-architecture/entity-relationships/#headerdetail-pattern","title":"Header/Detail Pattern","text":"<p>The system extensively uses a header/detail pattern for transaction tables:</p> <pre><code>erDiagram\n    MOEHD ||--o{ MOE : \"has details\"\n    MORDHD ||--o{ MORDDT : \"has details\"\n    MCONTHD ||--o{ MCONTDT : \"has details\"\n    MINVHD ||--o{ MINVDT : \"has details\"\n    MDNHD ||--o{ MDNDT : \"has details\"\n    MLAHD ||--o{ MLADT : \"has details\"\n\n    MOEHD {\n        string oe_no PK\n        date oe_date\n        string cust_no FK\n    }\n\n    MOE {\n        string oe_no FK\n        string item_no FK\n        decimal qty\n        decimal price\n    }</code></pre>"},{"location":"source/01-data-architecture/entity-relationships/#core-transaction-flow-relationships","title":"Core Transaction Flow Relationships","text":""},{"location":"source/01-data-architecture/entity-relationships/#order-enquiry-to-order-confirmation","title":"Order Enquiry to Order Confirmation","text":"<pre><code>erDiagram\n    MOECTRL ||--o{ MOEHD : \"controls\"\n    MOEHD ||--o{ MOE : \"contains\"\n    MOE ||--o{ MQTYBRK : \"has breakdown\"\n    MOE ||--o{ MOEBOM : \"has BOM\"\n    MOE ||--o| MORDDT : \"posts to\"\n\n    MOECTRL {\n        string oe_no PK\n        string cust_no FK\n        date oe_date\n    }\n\n    MOEHD {\n        string oe_no PK\n        date oe_date\n        string cust_no FK\n    }\n\n    MOE {\n        string oe_no FK\n        string item_no FK\n        string po_no\n        string vendor_no FK\n    }\n\n    MORDDT {\n        string conf_no PK\n        string item_no FK\n        string oe_no FK\n    }</code></pre> <p>Relationship Logic: - <code>MOE.oe_no</code> \u2192 <code>MORDDT.oe_no</code> (when posting OE to OC) - <code>MOE.item_no</code> \u2192 <code>MORDDT.item_no</code> - <code>MOE</code> records are copied to <code>MORDDT</code> during posting</p>"},{"location":"source/01-data-architecture/entity-relationships/#order-confirmation-to-contract","title":"Order Confirmation to Contract","text":"<pre><code>erDiagram\n    MORDHD ||--o{ MORDDT : \"contains\"\n    MORDDT ||--o{ MCONTHD : \"generates\"\n    MCONTHD ||--o{ MCONTDT : \"contains\"\n\n    MORDHD {\n        string conf_no PK\n        string cust_no FK\n        date date\n    }\n\n    MORDDT {\n        string conf_no FK\n        string item_no FK\n        string vendor_no FK\n    }\n\n    MCONTHD {\n        string cont_no PK\n        string conf_no FK\n        string vendor_no FK\n    }\n\n    MCONTDT {\n        string cont_no FK\n        string item_no FK\n        string conf_no FK\n    }</code></pre> <p>Relationship Logic: - <code>MORDDT.conf_no</code> \u2192 <code>MCONTHD.conf_no</code> - Contracts are grouped by <code>vendor_no</code> from <code>MORDDT</code> - <code>MORDDT.item_no</code> \u2192 <code>MCONTDT.item_no</code></p>"},{"location":"source/01-data-architecture/entity-relationships/#contract-to-shipping-order","title":"Contract to Shipping Order","text":"<pre><code>erDiagram\n    MCONTHD ||--o{ MSO : \"ships via\"\n    MORDHD ||--o{ MSO : \"references\"\n\n    MCONTHD {\n        string cont_no PK\n        string conf_no FK\n    }\n\n    MSO {\n        string so_no PK\n        string conf_no FK\n        string cont_no FK\n        string item_no FK\n    }</code></pre> <p>Relationship Logic: - <code>MSO.conf_no</code> links to <code>MORDHD.conf_no</code> - <code>MSO.cont_no</code> links to <code>MCONTHD.cont_no</code></p>"},{"location":"source/01-data-architecture/entity-relationships/#shipping-order-to-invoice","title":"Shipping Order to Invoice","text":"<pre><code>erDiagram\n    MSO ||--o{ MINVHD : \"invoices\"\n    MINVHD ||--o{ MINVDT : \"contains\"\n\n    MSO {\n        string so_no PK\n        string conf_no FK\n    }\n\n    MINVHD {\n        string inv_no PK\n        string oc_no FK\n        string cust_no FK\n    }\n\n    MINVDT {\n        string inv_no FK\n        string item_no FK\n        string so_no FK\n    }</code></pre> <p>Relationship Logic: - <code>MINVHD.oc_no</code> links to <code>MORDHD.conf_no</code> - <code>MINVDT.so_no</code> links to <code>MSO.so_no</code></p>"},{"location":"source/01-data-architecture/entity-relationships/#master-data-relationships","title":"Master Data Relationships","text":""},{"location":"source/01-data-architecture/entity-relationships/#item-relationships","title":"Item Relationships","text":"<pre><code>erDiagram\n    MITEM ||--o{ MITEMVEN : \"sold by\"\n    MITEMVEN }|--|| MVENDOR : \"references\"\n    MITEM ||--o| MPRODBOM : \"has BOM\"\n    MPRODBOM }|--|| MITEM : \"sub-item\"\n    MITEM ||--o{ MOE : \"ordered in\"\n    MITEM ||--o{ MORDDT : \"confirmed in\"\n    MITEM ||--o{ MCONTDT : \"contracted in\"\n    MITEM ||--o{ MINVDT : \"invoiced in\"\n\n    MITEM {\n        string item_no PK\n        string desp\n        decimal price\n    }\n\n    MITEMVEN {\n        string item_no FK\n        string vendor_no FK\n    }\n\n    MPRODBOM {\n        string item_no FK\n        string sub_item FK\n        decimal qty\n    }</code></pre> <p>Relationship Logic: - <code>MITEM.item_no</code> is the primary key - <code>MITEMVEN</code> creates many-to-many relationship between items and vendors - <code>MPRODBOM</code> creates parent-child relationships for BOM items</p>"},{"location":"source/01-data-architecture/entity-relationships/#customer-relationships","title":"Customer Relationships","text":"<pre><code>erDiagram\n    MCUSTOM ||--o{ MOEHD : \"orders from\"\n    MCUSTOM ||--o{ MORDHD : \"confirms with\"\n    MCUSTOM ||--o{ MINVHD : \"invoices\"\n\n    MCUSTOM {\n        string cust_no PK\n        string ename\n    }\n\n    MOEHD {\n        string cust_no FK\n    }\n\n    MORDHD {\n        string cust_no FK\n    }\n\n    MINVHD {\n        string cust_no FK\n    }</code></pre> <p>Relationship Logic: - <code>MCUSTOM.cust_no</code> is referenced by all transaction headers - Customer validation occurs during OE import and transaction creation</p>"},{"location":"source/01-data-architecture/entity-relationships/#vendor-relationships","title":"Vendor Relationships","text":"<pre><code>erDiagram\n    MVENDOR ||--o{ MCONTDT : \"contracted with\"\n    MVENDOR ||--o{ MOE : \"supplies for\"\n    MVENDOR ||--o{ MITEMVEN : \"sells items\"\n\n    MVENDOR {\n        string vendor_no PK\n        string ename\n        int type\n    }\n\n    MCONTDT {\n        string vendor_no FK\n    }\n\n    MOE {\n        string vendor_no FK\n    }</code></pre> <p>Relationship Logic: - <code>MVENDOR.vendor_no</code> links to contracts and OEs - <code>MVENDOR.type</code> distinguishes between VENDOR (1) and MAKER (2)</p>"},{"location":"source/01-data-architecture/entity-relationships/#supporting-table-relationships","title":"Supporting Table Relationships","text":""},{"location":"source/01-data-architecture/entity-relationships/#quantity-breakdown","title":"Quantity Breakdown","text":"<pre><code>erDiagram\n    MOE ||--o{ MQTYBRK : \"has breakdown\"\n    MQTYBRK {\n        string oe_no FK\n        string item_no FK\n        string size_code\n        string color_code\n        decimal qty\n    }</code></pre> <p>Relationship Logic: - <code>MQTYBRK.oe_no</code> + <code>MQTYBRK.item_no</code> links to <code>MOE</code></p>"},{"location":"source/01-data-architecture/entity-relationships/#bom-relationships","title":"BOM Relationships","text":"<pre><code>erDiagram\n    MPRODBOM ||--o{ MOEBOM : \"used in OE\"\n    MOE ||--o{ MOEBOM : \"has BOM items\"\n\n    MPRODBOM {\n        string item_no PK\n        string sub_item PK\n        decimal qty\n    }\n\n    MOEBOM {\n        string oe_no FK\n        string item_no FK\n        string sub_item FK\n    }</code></pre> <p>Relationship Logic: - <code>MPRODBOM</code> defines product BOM structure - <code>MOEBOM</code> applies BOM to specific OE - BOM quantities are calculated from <code>MPRODBOM.qty</code></p>"},{"location":"source/01-data-architecture/entity-relationships/#lookup-table-relationships","title":"Lookup Table Relationships","text":""},{"location":"source/01-data-architecture/entity-relationships/#reference-data","title":"Reference Data","text":"<pre><code>erDiagram\n    ZSTDCODE ||--o{ MITEM : \"classifies\"\n    ZORIGIN ||--o{ MITEM : \"originates from\"\n    ZFOBPORT ||--o{ MSO : \"ships from\"\n    ZPAYTERM ||--o{ MCONTHD : \"uses payment\"\n\n    ZSTDCODE {\n        string std_code PK\n        string std_desp\n    }\n\n    MITEM {\n        string std_code FK\n    }</code></pre> <p>Relationship Logic: - Lookup tables provide reference data - Relationships are via code matching (not enforced)</p>"},{"location":"source/01-data-architecture/entity-relationships/#manual-relationship-enforcement","title":"Manual Relationship Enforcement","text":""},{"location":"source/01-data-architecture/entity-relationships/#application-level-validation","title":"Application-Level Validation","text":"<p>Relationships are enforced in application code:</p> <p>Example from <code>uoexls_2013.prg</code>: <pre><code>select moectrl\nset order to OE_NO\nseek w_oe_no\nif eof()\n    messagebox(w_oe_no+\" --- No OE Control Record\"+ chr(10)+\"Import Skipped\", 0+16, \"Syster Message\")\n    loop\nENDIF\n</code></pre></p> <p>Example from <code>uordcont.prg</code>: <pre><code>locate for alltrim(morddt.conf_no)==alltrim(voe1.oc_no) and alltrim(morddt.item_no)==alltrim(voe1.item_no)\n</code></pre></p>"},{"location":"source/01-data-architecture/entity-relationships/#key-field-patterns","title":"Key Field Patterns","text":"<p>Primary Keys (inferred from usage): - <code>oe_no</code> - Order Enquiry number - <code>conf_no</code> - Order Confirmation number - <code>cont_no</code> - Contract number - <code>so_no</code> - Shipping Order number - <code>inv_no</code> - Invoice number - <code>item_no</code> - Item number - <code>cust_no</code> - Customer number - <code>vendor_no</code> - Vendor number</p> <p>Foreign Key Patterns: - Transaction headers reference <code>cust_no</code> - Transaction details reference <code>item_no</code> - Contracts reference <code>vendor_no</code> - All transactions link via document numbers</p>"},{"location":"source/01-data-architecture/entity-relationships/#relationship-integrity-risks","title":"Relationship Integrity Risks","text":""},{"location":"source/01-data-architecture/entity-relationships/#no-foreign-key-constraints","title":"No Foreign Key Constraints","text":"<p>Risks: 1. Orphaned Records: Detail records without headers 2. Invalid References: Non-existent customer/vendor/item codes 3. Data Inconsistency: Mismatched document numbers 4. Cascade Issues: No automatic deletion of related records</p>"},{"location":"source/01-data-architecture/entity-relationships/#manual-validation-required","title":"Manual Validation Required","text":"<p>Validation Points: 1. OE Import: Validates OE Control, Customer, Item 2. Post OE to OC: Validates OE exists 3. Contract Generation: Validates OC exists 4. Invoice Creation: Validates SO/DN exists</p>"},{"location":"source/01-data-architecture/entity-relationships/#summary","title":"Summary","text":"<p>The system relies on application-level relationship management rather than database constraints. This provides flexibility but requires careful validation in code to maintain data integrity.</p>"},{"location":"source/01-data-architecture/indexes-and-keys/","title":"Indexes and Keys","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#index-overview","title":"Index Overview","text":"<p>The system uses CDX (Compound Index) files for fast lookups and sorting. Each DBF table can have one CDX file containing multiple index tags.</p>"},{"location":"source/01-data-architecture/indexes-and-keys/#index-management","title":"Index Management","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#reindexing-process","title":"Reindexing Process","text":"<p>Utility: <code>zdoc.prg</code></p> <p>Process: 1. Opens each table in EXCLUSIVE mode 2. Executes <code>REINDEX</code> command 3. Rebuilds all indexes in CDX file</p> <p>Tables Reindexed: - <code>loe</code> - Legacy OE - <code>moehd</code> - OE Header - <code>moectrl</code> - OE Control - <code>moe</code> - OE Detail - <code>mordhd</code> - OC Header - <code>morddt</code> - OC Detail - <code>mconthd</code> - Contract Header - <code>mcontdt</code> - Contract Detail - <code>mso</code> - Shipping Order - <code>minvhd</code> - Invoice Header - <code>minvdt</code> - Invoice Detail</p> <p>Code Reference: <code>zdoc.prg</code> (lines 1-43)</p>"},{"location":"source/01-data-architecture/indexes-and-keys/#primary-keys-manual","title":"Primary Keys (Manual)","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#transaction-tables","title":"Transaction Tables","text":"<p>Order Enquiry: - <code>moehd.oe_no</code> - Primary key - <code>moe.oe_no</code> + <code>moe.item_no</code> - Composite key (inferred)</p> <p>Order Confirmation: - <code>mordhd.conf_no</code> - Primary key - <code>morddt.conf_no</code> + <code>morddt.item_no</code> - Composite key (inferred)</p> <p>Contract: - <code>mconthd.cont_no</code> - Primary key - <code>mcontdt.cont_no</code> + <code>mcontdt.item_no</code> - Composite key (inferred)</p> <p>Shipping Order: - <code>mso.so_no</code> - Primary key (inferred)</p> <p>Invoice: - <code>minvhd.inv_no</code> - Primary key - <code>minvdt.inv_no</code> + <code>minvdt.item_no</code> - Composite key (inferred)</p>"},{"location":"source/01-data-architecture/indexes-and-keys/#master-data-tables","title":"Master Data Tables","text":"<p>Items: - <code>mitem.item_no</code> - Primary key</p> <p>Customers: - <code>mcustom.cust_no</code> - Primary key</p> <p>Vendors: - <code>mvendor.vendor_no</code> - Primary key</p>"},{"location":"source/01-data-architecture/indexes-and-keys/#index-structures-inferred-from-code","title":"Index Structures (Inferred from Code)","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#order-enquiry-indexes","title":"Order Enquiry Indexes","text":"<p>moehd: - <code>oe_no</code> - Primary index (used in <code>uoexls_2013.prg</code> line 197)</p> <p>moectrl: - <code>OE_NO</code> - Primary index (used in <code>uoexls_2013.prg</code> line 149)</p> <p>moe: - <code>oe_no</code> - Primary index - <code>item_no</code> - Secondary index (for item lookups) - <code>cust_no</code> - Secondary index (for customer lookups) - <code>vendor_no</code> - Secondary index (for vendor lookups)</p> <p>Code Reference: <pre><code>select mitem\nset order to item_no\n\nselect moectrl\nset order to OE_NO\nseek w_oe_no\n\nselect moehd\nset order to oe_no\nseek w_oe_no\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#order-confirmation-indexes","title":"Order Confirmation Indexes","text":"<p>mordhd: - <code>conf_no</code> - Primary index</p> <p>morddt: - <code>conf_no</code> - Primary index (used in <code>uordcont.prg</code> line 16) - <code>item_no</code> - Secondary index - <code>oe_no</code> - Secondary index (for OE linking)</p> <p>Code Reference: <pre><code>select morddt\nlocate for alltrim(morddt.conf_no)==alltrim(voe1.oc_no) and alltrim(morddt.item_no)==alltrim(voe1.item_no)\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#contract-indexes","title":"Contract Indexes","text":"<p>mconthd: - <code>cont_no</code> - Primary index</p> <p>mcontdt: - <code>cont_no</code> - Primary index (used in <code>uwcontract.prg</code> line 22) - <code>conf_no</code> - Secondary index - <code>item_no</code> - Secondary index</p> <p>Code Reference: <pre><code>FROM  baitin!mconthd INNER JOIN baitin!mcontdt \n   ON  mconthd.cont_no = mcontdt.cont_no\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#master-data-indexes","title":"Master Data Indexes","text":"<p>mitem: - <code>item_no</code> - Primary index (used in <code>uoexls_2013.prg</code> line 28, <code>xitem.prg</code>)</p> <p>mcustom: - <code>cust_no</code> - Primary index (used in <code>uoexls_2013.prg</code> line 186, <code>xcustom.prg</code>)</p> <p>mvendor: - <code>vendor_no</code> - Primary index (used in <code>xvendor.prg</code>)</p> <p>mprodbom: - <code>iprodbom</code> - Composite index on <code>item_no</code> + <code>sub_item</code> (used in <code>uoexls_2013.prg</code> line 86)</p> <p>Code Reference: <pre><code>select mitem\nset order to item_no\n\nselect mprodbom\nset order to iprodbom\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#supporting-table-indexes","title":"Supporting Table Indexes","text":"<p>mqtybrk: - <code>oe_no</code> + <code>item_no</code> - Composite index</p> <p>mskn: - <code>skn_no</code> - Primary index</p> <p>zstdcode: - <code>std_code</code> - Primary index (used in <code>xitem.prg</code> line 60)</p> <p>Code Reference: <pre><code>SELECT  zstdcode\nlocate for alltrim(zstdcode.STD_desp) == alltrim(ITEM.STDNAME)\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#search-patterns","title":"Search Patterns","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#lookup-operations","title":"Lookup Operations","text":"<p>Customer Lookup: <pre><code>select mcustom\nlocate for alltrim(mcustom.cust_no)== alltrim(w_cust_no)\n</code></pre></p> <p>Item Lookup: <pre><code>select mitem\nset order to item_no\nseek item_no\n</code></pre></p> <p>OE Control Lookup: <pre><code>select moectrl\nset order to OE_NO\nseek w_oe_no\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#join-operations","title":"Join Operations","text":"<p>Contract Join: <pre><code>SELECT mconthd.cont_no, mconthd.conf_no, ...\nFROM  baitin!mconthd INNER JOIN baitin!mcontdt \n   ON  mconthd.cont_no = mcontdt.cont_no\n</code></pre></p> <p>BOM Lookup: <pre><code>select mprodbom\nlocate for alltrim(mprodbom.item_no)==alltrim(w_head_item) and;\n            alltrim(mprodbom.sub_item)==alltrim(morddt.item_no)\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#performance-critical-indexes","title":"Performance-Critical Indexes","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#high-volume-lookups","title":"High-Volume Lookups","text":"<ol> <li>OE Import:</li> <li><code>moectrl.OE_NO</code> - Validates OE Control</li> <li><code>mitem.item_no</code> - Validates items</li> <li> <p><code>mcustom.cust_no</code> - Validates customers</p> </li> <li> <p>Post OE to OC:</p> </li> <li><code>moe.oe_no</code> - Retrieves OE details</li> <li> <p><code>mitem.item_no</code> - Item lookups</p> </li> <li> <p>Contract Generation:</p> </li> <li><code>morddt.conf_no</code> - Retrieves OC details</li> <li> <p><code>mvendor.vendor_no</code> - Vendor grouping</p> </li> <li> <p>Invoice Creation:</p> </li> <li><code>mso.so_no</code> - Retrieves SO details</li> <li><code>minvhd.inv_no</code> - Invoice header</li> </ol>"},{"location":"source/01-data-architecture/indexes-and-keys/#date-range-queries","title":"Date Range Queries","text":"<p>Inferred indexes for date filtering: - <code>moehd.oe_date</code> - <code>mordhd.date</code> - <code>mconthd.date</code> - <code>minvhd.date</code></p> <p>Usage Pattern: <pre><code>SELECT ... WHERE date BETWEEN date_from AND date_to\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#index-maintenance","title":"Index Maintenance","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#when-to-reindex","title":"When to Reindex","text":"<ol> <li>After Bulk Data Import:</li> <li>Excel imports</li> <li>Data conversion</li> <li> <p>Mass updates</p> </li> <li> <p>After Data Conversion:</p> </li> <li>Vendor code changes</li> <li>Item number changes</li> <li> <p>Customer number changes</p> </li> <li> <p>Periodic Maintenance:</p> </li> <li>Weekly/monthly reindexing</li> <li>After system errors</li> <li>When performance degrades</li> </ol>"},{"location":"source/01-data-architecture/indexes-and-keys/#reindexing-process_1","title":"Reindexing Process","text":"<p>Exclusive Access Required: - Tables must be opened EXCLUSIVE - Other users cannot access during reindex - Process shown in <code>zdoc.prg</code></p> <p>Code Pattern: <pre><code>USE moe EXCLUSIVE\nREINDEX\n</code></pre></p>"},{"location":"source/01-data-architecture/indexes-and-keys/#index-corruption","title":"Index Corruption","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#symptoms","title":"Symptoms","text":"<ul> <li>Slow queries</li> <li>Incorrect results</li> <li>\"Index not found\" errors</li> <li>Data inconsistencies</li> </ul>"},{"location":"source/01-data-architecture/indexes-and-keys/#resolution","title":"Resolution","text":"<ul> <li>Run <code>zdoc.prg</code> reindex utility</li> <li>Rebuild all indexes</li> <li>Verify data integrity</li> </ul>"},{"location":"source/01-data-architecture/indexes-and-keys/#foreign-key-indexes-manual","title":"Foreign Key Indexes (Manual)","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#transaction-to-master-data","title":"Transaction to Master Data","text":"<p>OE to Customer: - <code>moehd.cust_no</code> \u2192 <code>mcustom.cust_no</code> - Index on <code>moehd.cust_no</code> for fast lookup</p> <p>OE to Item: - <code>moe.item_no</code> \u2192 <code>mitem.item_no</code> - Index on <code>moe.item_no</code> for fast lookup</p> <p>Contract to Vendor: - <code>mconthd.vendor_no</code> \u2192 <code>mvendor.vendor_no</code> - Index on <code>mconthd.vendor_no</code> for fast lookup</p>"},{"location":"source/01-data-architecture/indexes-and-keys/#transaction-linking","title":"Transaction Linking","text":"<p>OE to OC: - <code>morddt.oe_no</code> \u2192 <code>moe.oe_no</code> - Index on <code>morddt.oe_no</code> for linking</p> <p>OC to Contract: - <code>mcontdt.conf_no</code> \u2192 <code>mordhd.conf_no</code> - Index on <code>mcontdt.conf_no</code> for linking</p> <p>SO to Invoice: - <code>minvdt.so_no</code> \u2192 <code>mso.so_no</code> - Index on <code>minvdt.so_no</code> for linking</p>"},{"location":"source/01-data-architecture/indexes-and-keys/#summary","title":"Summary","text":""},{"location":"source/01-data-architecture/indexes-and-keys/#index-strategy","title":"Index Strategy","text":"<ol> <li>Primary Keys: Indexed on all tables</li> <li>Foreign Keys: Indexed for fast lookups</li> <li>Search Fields: Indexed on frequently searched fields</li> <li>Date Fields: Indexed for range queries</li> <li>Composite Keys: Indexed for header/detail relationships</li> </ol>"},{"location":"source/01-data-architecture/indexes-and-keys/#maintenance-requirements","title":"Maintenance Requirements","text":"<ul> <li>Regular reindexing after bulk operations</li> <li>Exclusive access during reindex</li> <li>Monitor for index corruption</li> <li>Verify index performance</li> </ul>"},{"location":"source/01-data-architecture/indexes-and-keys/#migration-considerations","title":"Migration Considerations","text":"<ul> <li>CDX indexes need recreation in SQL</li> <li>SQL indexes will improve performance</li> <li>Foreign key indexes become actual constraints</li> <li>Composite indexes map to SQL composite indexes</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/","title":"Table Inventory","text":""},{"location":"source/01-data-architecture/table-inventory/#complete-list-of-dbf-tables","title":"Complete List of DBF Tables","text":"<p>This document provides a comprehensive inventory of all 186 DBF tables identified in the system.</p>"},{"location":"source/01-data-architecture/table-inventory/#table-categorization","title":"Table Categorization","text":""},{"location":"source/01-data-architecture/table-inventory/#transaction-tables-headerdetail","title":"Transaction Tables (Header/Detail)","text":""},{"location":"source/01-data-architecture/table-inventory/#order-enquiry-oe","title":"Order Enquiry (OE)","text":"<ul> <li><code>moe</code> - Order Enquiry Detail</li> <li><code>moehd</code> - Order Enquiry Header</li> <li><code>moectrl</code> - Order Enquiry Control</li> <li><code>loe</code> - Legacy Order Enquiry</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#order-confirmation-oc","title":"Order Confirmation (OC)","text":"<ul> <li><code>mordhd</code> - Order Confirmation Header</li> <li><code>morddt</code> - Order Confirmation Detail</li> <li><code>mordadj</code> - Order Adjustment</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#contract","title":"Contract","text":"<ul> <li><code>mconthd</code> - Contract Header</li> <li><code>mcontdt</code> - Contract Detail</li> <li><code>mcontamdrmk</code> - Contract Amendment Remark</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#shipping-order","title":"Shipping Order","text":"<ul> <li><code>mso</code> - Shipping Order</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#delivery-note-dn","title":"Delivery Note (DN)","text":"<ul> <li><code>mdnhd</code> - Delivery Note Header</li> <li><code>mdndt</code> - Delivery Note Detail</li> <li><code>mdnbrk</code> - Delivery Note Breakdown</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#invoice","title":"Invoice","text":"<ul> <li><code>minvhd</code> - Invoice Header</li> <li><code>minvdt</code> - Invoice Detail</li> <li><code>minvadj</code> - Invoice Adjustment</li> <li><code>minvbd</code> - Invoice Breakdown</li> <li><code>minvqtybrk</code> - Invoice Quantity Breakdown</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#loading","title":"Loading","text":"<ul> <li><code>mlahd</code> - Loading Advice Header</li> <li><code>mladt</code> - Loading Advice Detail</li> <li><code>mload</code> - Loading Master</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#master-data-tables","title":"Master Data Tables","text":""},{"location":"source/01-data-architecture/table-inventory/#items","title":"Items","text":"<ul> <li><code>mitem</code> - Item Master</li> <li><code>mitemmftr</code> - Item Manufacturer</li> <li><code>mitemven</code> - Item Vendor relationships</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#customers","title":"Customers","text":"<ul> <li><code>mcustom</code> - Customer Master</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#vendors","title":"Vendors","text":"<ul> <li><code>mvendor</code> - Vendor Master</li> <li><code>zmftr</code> - Manufacturer</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#bom-bill-of-materials","title":"BOM (Bill of Materials)","text":"<ul> <li><code>mprodbom</code> - Product BOM</li> <li><code>moebom</code> - Order Enquiry BOM</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#supportingreference-tables","title":"Supporting/Reference Tables","text":""},{"location":"source/01-data-architecture/table-inventory/#quantity-pricing","title":"Quantity &amp; Pricing","text":"<ul> <li><code>mqtybrk</code> - Quantity Breakdown</li> <li><code>mspecprice</code> - Special Pricing</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#codes-standards","title":"Codes &amp; Standards","text":"<ul> <li><code>zstdcode</code> - Standard Code</li> <li><code>zorigin</code> - Country of Origin</li> <li><code>zfobport</code> - FOB Port</li> <li><code>zfobterm</code> - FOB Terms</li> <li><code>zpayterm</code> - Payment Terms</li> <li><code>zcurcode</code> - Currency Code</li> <li><code>zpurunit</code> - Purchase Unit</li> <li><code>zcountry</code> - Country</li> <li><code>zountry</code> - Country (alternate)</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#shipping-logistics","title":"Shipping &amp; Logistics","text":"<ul> <li><code>mshipmark</code> - Shipping Mark</li> <li><code>mshipqty</code> - Shipping Quantity</li> <li><code>misship</code> - Shipment Information</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#business-rules","title":"Business Rules","text":"<ul> <li><code>mskn</code> - SKN Number</li> <li><code>mactivity</code> - Activity Log</li> <li><code>zpara</code> - System Parameters</li> <li><code>zsoformat</code> - Shipping Order Format</li> <li><code>zsoformat1</code> - Shipping Order Format 1</li> <li><code>zsoformat2</code> - Shipping Order Format 2</li> <li><code>zsoformat@</code> - Shipping Order Format (alternate)</li> <li><code>zchgso</code> - Change Shipping Order</li> <li><code>zvencon</code> - Vendor Conversion</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#payment-banking","title":"Payment &amp; Banking","text":"<ul> <li><code>mpayhd</code> - Payment Header</li> <li><code>mbankin</code> - Bank Information</li> <li><code>mbdrfreq</code> - Bank Draft Request</li> <li><code>mcolord</code> - Collection Order</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#other-business","title":"Other Business","text":"<ul> <li><code>mforward</code> - Forward</li> <li><code>mordsm</code> - Order SM</li> <li><code>mmaker</code> - Maker</li> <li><code>mvenmaker</code> - Vendor Maker</li> <li><code>minstore</code> - In Store</li> <li><code>mact</code> - Activity</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#user-security-tables","title":"User &amp; Security Tables","text":"<ul> <li><code>user</code> - User Accounts</li> <li><code>user#</code> - User Accounts (backup)</li> <li><code>rights</code> - User Rights</li> <li><code>rights#</code> - User Rights (backup)</li> <li><code>MLOGPARA</code> - Login Parameters</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#worktemporary-tables","title":"Work/Temporary Tables","text":"<ul> <li><code>woexls</code> - Work OE Excel</li> <li><code>woexlst</code> - Work OE Excel List</li> <li><code>wsknlog</code> - Work SKN Log</li> <li><code>wsuspend</code> - Work Suspend</li> <li><code>wcontract</code> - Work Contract</li> <li><code>wpa</code> - Work PA</li> <li><code>wpdn</code> - Work PDN</li> <li><code>wsetcontgrid1</code> - Work Set Contract Grid</li> <li><code>w_array</code> - Work Array</li> <li><code>wibankingrid1</code> - Work Banking Grid</li> <li><code>wtempoe</code> - Work Temp OE</li> <li><code>wIL51620</code> - Work IL (temporary)</li> <li><code>wIL95755</code> - Work IL (temporary)</li> <li><code>wIL66845</code> - Work IL (temporary)</li> <li><code>wIL64838</code> - Work IL (temporary)</li> <li><code>wIL94154</code> - Work IL (temporary)</li> <li><code>wIL88367</code> - Work IL (temporary)</li> <li><code>wIL54196</code> - Work IL (temporary)</li> <li><code>wIL48170</code> - Work IL (temporary)</li> <li><code>wIL34820</code> - Work IL (temporary)</li> <li><code>wIL59622</code> - Work IL (temporary)</li> <li><code>wIL13336</code> - Work IL (temporary)</li> <li><code>wIL99359</code> - Work IL (temporary)</li> <li><code>wIL40290</code> - Work IL (temporary)</li> <li><code>wIL55116</code> - Work IL (temporary)</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#cursorquery-result-tables","title":"Cursor/Query Result Tables","text":"<ul> <li><code>voe1</code> - View OE 1</li> <li><code>vocsumry1</code> - View OC Summary</li> <li><code>vcontsumry1</code> - View Contract Summary</li> <li><code>voesumry1</code> - View OE Summary</li> <li><code>vQueryCursor</code> - View Query Cursor</li> <li><code>vcontdt</code> - View Contract Detail</li> <li><code>CUS</code> - Customer (cursor)</li> <li><code>CUS_CUSTOR</code> - Customer Cursor</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#temporarytest-tables","title":"Temporary/Test Tables","text":"<ul> <li><code>TEMP</code> - Temporary</li> <li><code>test</code> - Test</li> <li><code>test_table</code> - Test Table</li> <li><code>temptable</code> - Temp Table</li> <li><code>temp_table</code> - Temp Table</li> <li><code>temp_grid1</code> - Temp Grid 1</li> <li><code>temp_grid2</code> - Temp Grid 2</li> <li><code>temp_morddt</code> - Temp Order Detail</li> <li><code>temp_ship</code> - Temp Ship</li> <li><code>temp_oe</code> - Temp OE</li> <li><code>xx</code> - Temporary X</li> <li><code>x</code> - Temporary</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#legacybackup-tables","title":"Legacy/Backup Tables","text":"<ul> <li><code>moe_20230705 - \u8907\u88fd</code> - OE Backup (2023-07-05)</li> <li><code>minvhd - \u8907\u88fd</code> - Invoice Header Backup</li> <li><code>minvdt - \u8907\u88fd</code> - Invoice Detail Backup</li> <li><code>minvhd#</code> - Invoice Header Backup</li> <li><code>minvhd# - \u8907\u88fd</code> - Invoice Header Backup Copy</li> <li><code>mitem#</code> - Item Backup</li> <li><code>mconthd#</code> - Contract Header Backup</li> <li><code>mcontdt#</code> - Contract Detail Backup</li> <li><code>mconthd_20130315</code> - Contract Header (2013-03-15)</li> <li><code>mcontdt_20130315</code> - Contract Detail (2013-03-15)</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#data-conversion-tables","title":"Data Conversion Tables","text":"<ul> <li><code>oe_xls</code> - OE Excel</li> <li><code>so_temp_table</code> - SO Temp Table</li> <li><code>update_mcontdt_temp_table</code> - Update Contract Detail Temp</li> <li><code>pso_dbf</code> - PSO DBF</li> <li><code>toe</code> - Temp OE</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#special-purpose-tables","title":"Special Purpose Tables","text":"<ul> <li><code>seritem</code> - Serial Item</li> <li><code>zseritem</code> - Serial Item (alternate)</li> <li><code>zchitem</code> - Change Item</li> <li><code>zttrgp</code> - TTR Group</li> <li><code>zcustcostbrk</code> - Customer Cost Breakdown</li> <li><code>zdr_dn_conv</code> - DR DN Conversion</li> <li><code>zdr_so_conv</code> - DR SO Conversion</li> <li><code>&amp;w_Wplicense</code> - Work License (dynamic name)</li> <li><code>&amp;w_wcontdt</code> - Work Contract Detail (dynamic)</li> <li><code>&amp;w_wiorddt</code> - Work Order Detail (dynamic)</li> <li><code>&amp;w_wpdn</code> - Work PDN (dynamic)</li> <li><code>&amp;w_sogrid</code> - Work SO Grid (dynamic)</li> <li><code>&amp;w_drgrid</code> - Work DR Grid (dynamic)</li> <li><code>&amp;w_smxls</code> - Work SM Excel (dynamic)</li> <li><code>&amp;w_stdcode</code> - Work Standard Code (dynamic)</li> <li><code>&amp;witemlog</code> - Work Item Log (dynamic)</li> <li><code>&amp;w_wenqbyitem</code> - Work Enquiry By Item (dynamic)</li> <li><code>&amp;vocsumry1</code> - View OC Summary (dynamic)</li> <li><code>&amp;w_vcontsumry1</code> - View Contract Summary (dynamic)</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#reportsummary-tables","title":"Report/Summary Tables","text":"<ul> <li><code>wsabycust2</code> - Work Sales By Customer 2</li> <li><code>REP</code> - Report</li> <li><code>rite</code> - Right</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#system-tables","title":"System Tables","text":"<ul> <li><code>FOXUSER</code> - FoxPro User</li> <li><code>FOXUSER.DBF</code> - FoxPro User (in subdirectories)</li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#subdirectory-tables","title":"Subdirectory Tables","text":""},{"location":"source/01-data-architecture/table-inventory/#revised_data_20180503","title":"revised_data_20180503/","text":"<ul> <li><code>mconthd</code></li> <li><code>mcontdt</code></li> <li><code>morddt</code></li> <li><code>mordhd</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#data_2-12-18","title":"data_2-12-18/","text":"<ul> <li><code>minvhd</code></li> <li><code>minvdt</code></li> <li><code>morddt</code></li> <li><code>moe</code></li> <li><code>mitemmftr</code></li> <li><code>mitem</code></li> <li><code>mitemven</code></li> <li><code>moehd</code></li> <li><code>zmftr</code></li> <li><code>mvendor</code></li> <li><code>mconthd</code></li> <li><code>mcontdt</code></li> <li><code>mordhd</code></li> <li><code>mso</code></li> <li><code>moectrl</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#mconthd_dt_revised_20160419b","title":"mconthd_dt_revised_20160419B/","text":"<ul> <li><code>mconthd</code></li> <li><code>mcontdt</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#sekiwork","title":"SEKIwork/","text":"<ul> <li><code>morddt</code></li> <li><code>moe</code></li> <li><code>moehd</code></li> <li><code>mso</code></li> <li><code>mconthd</code></li> <li><code>mcontdt</code></li> <li><code>mordhd</code></li> <li><code>mdnhd</code></li> <li><code>mdndt</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#joycework","title":"JOYCEwork/","text":"<ul> <li><code>moectrl</code></li> <li><code>moe</code></li> <li><code>moehd</code></li> <li><code>mqtybrk</code></li> <li><code>mcustom</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#vfpproj5","title":"vfpproj5/","text":"<ul> <li><code>FOXUSER</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#vfpproj6","title":"vfpproj6/","text":"<ul> <li><code>FOXUSER</code></li> </ul>"},{"location":"source/01-data-architecture/table-inventory/#naming-conventions","title":"Naming Conventions","text":""},{"location":"source/01-data-architecture/table-inventory/#prefix-patterns","title":"Prefix Patterns","text":"<p><code>m</code> prefix: Master/Transaction tables - <code>moe</code>, <code>mordhd</code>, <code>mitem</code>, <code>mcustom</code></p> <p><code>z</code> prefix: Reference/Lookup tables - <code>zstdcode</code>, <code>zorigin</code>, <code>zfobport</code></p> <p><code>w</code> prefix: Work/Temporary tables - <code>woexls</code>, <code>wcontract</code>, <code>wtempoe</code></p> <p><code>v</code> prefix: View/Cursor tables - <code>voe1</code>, <code>vocsumry1</code></p> <p>Dynamic names: Tables with <code>&amp;</code> prefix - <code>&amp;w_Wplicense</code> - Runtime generated names</p>"},{"location":"source/01-data-architecture/table-inventory/#suffix-patterns","title":"Suffix Patterns","text":"<p><code>#</code> suffix: Backup/alternate versions - <code>mitem#</code>, <code>user#</code></p> <p>Date suffixes: Historical versions - <code>mconthd_20130315</code></p> <p><code>_\u8907\u88fd</code> suffix: Copy/backup (Chinese) - <code>moe_20230705 - \u8907\u88fd</code></p>"},{"location":"source/01-data-architecture/table-inventory/#table-relationships-overview","title":"Table Relationships Overview","text":""},{"location":"source/01-data-architecture/table-inventory/#primary-relationships","title":"Primary Relationships","text":"<ol> <li> <p>Order Enquiry Flow: <code>moectrl</code> \u2192 <code>moehd</code> \u2192 <code>moe</code> \u2192 <code>mqtybrk</code> \u2192 <code>moebom</code></p> </li> <li> <p>Order Confirmation Flow: <code>moe</code> \u2192 <code>mordhd</code> \u2192 <code>morddt</code></p> </li> <li> <p>Contract Flow: <code>morddt</code> \u2192 <code>mconthd</code> \u2192 <code>mcontdt</code></p> </li> <li> <p>Shipping Flow: <code>mordhd</code> \u2192 <code>mso</code></p> </li> <li> <p>Invoice Flow: <code>mso</code> \u2192 <code>minvhd</code> \u2192 <code>minvdt</code></p> </li> <li> <p>Master Data: <code>mitem</code> \u2192 <code>mitemven</code> \u2192 <code>mvendor</code> <code>mitem</code> \u2192 <code>mprodbom</code> <code>mcustom</code> (referenced by transactions)    <code>mvendor</code> (referenced by contracts)</p> </li> </ol>"},{"location":"source/01-data-architecture/table-inventory/#table-count-summary","title":"Table Count Summary","text":"Category Count Transaction Tables ~30 Master Data Tables ~15 Supporting/Reference Tables ~40 Work/Temporary Tables ~50 Legacy/Backup Tables ~20 System Tables ~5 Total ~186"},{"location":"source/01-data-architecture/table-inventory/#notes","title":"Notes","text":"<ul> <li>Some tables appear in multiple locations (subdirectories, backups)</li> <li>Dynamic table names (with <code>&amp;</code> prefix) are runtime-generated</li> <li>Work tables are temporary and may be recreated</li> <li>Legacy tables are kept for historical reference</li> <li>Backup tables follow various naming patterns</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/","title":"Master Data Tables - Detailed Schemas","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#item-master-tables","title":"Item Master Tables","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#mitem-item-master","title":"mitem (Item Master)","text":"<p>Purpose: Central item/product catalog</p> <p>Key Fields (inferred from <code>xitem.prg</code>): - <code>item_no</code> (C) - Item number (Primary Key) - <code>item_type</code> (C) - Item type/category - <code>date</code> (D) - Item creation/update date - <code>short_name</code> (C) - Short item name - <code>desp</code> (M) - Full description (memo field, stored in mitem.FPT) - <code>origin</code> (C) - Country of origin - <code>grp_code</code> (C) - Group/class code - <code>material</code> (C) - Material description - <code>upc_no</code> (C) - UPC barcode number - <code>htc_no</code> (C) - HTC/Harmonized Tariff Code - <code>std_code</code> (C) - Standard code (links to zstdcode) - <code>price</code> (N) - Standard price - <code>price_cur</code> (C) - Price currency code - <code>pack_pc_1</code> (N) - Pack pieces level 1 - <code>pack_desp_1</code> (C) - Pack description level 1 - <code>pack_pc_2</code> (N) - Pack pieces level 2 - <code>pack_desp_2</code> (C) - Pack description level 2 - <code>pack_pc_3</code> (N) - Pack pieces level 3 - <code>pack_desp_3</code> (C) - Pack description level 3 - <code>pack_pc_4</code> (N) - Pack pieces level 4 - <code>pack_desp_4</code> (C) - Pack description level 4 - <code>wt</code> (N) - Weight - <code>net</code> (N) - Net weight - <code>cube</code> (N) - Cube measurement - <code>duty</code> (N) - Duty rate</p> <p>Business Rules: - <code>item_no</code> must be unique - <code>std_code</code> validated against <code>zstdcode</code> - <code>htc_no</code> extracted from origin fields - UPC constructed from multiple fields</p> <p>Indexes: - Primary: <code>item_no</code> - Secondary: <code>std_code</code>, <code>grp_code</code></p> <p>File Size: 11MB Memo File: 24MB (mitem.FPT - descriptions)</p> <p>Code Reference: <code>xitem.prg</code> (lines 20-71)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#mitemmftr-item-manufacturer","title":"mitemmftr (Item Manufacturer)","text":"<p>Purpose: Links items to manufacturers</p> <p>Key Fields: - <code>item_no</code> (C) - Item number (links to mitem) - <code>mftr_no</code> (C) - Manufacturer number (links to zmftr) - Manufacturer-specific fields</p> <p>Business Rules: - Many-to-many relationship between items and manufacturers - One item can have multiple manufacturers</p> <p>Indexes: - Primary: <code>item_no</code> + <code>mftr_no</code></p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#mitemven-item-vendor","title":"mitemven (Item Vendor)","text":"<p>Purpose: Links items to vendors (who can supply the item)</p> <p>Key Fields: - <code>item_no</code> (C) - Item number (links to mitem) - <code>vendor_no</code> (C) - Vendor number (links to mvendor) - Vendor-specific pricing or terms</p> <p>Business Rules: - Many-to-many relationship - Used to determine which vendors can supply items - Referenced during OE import and contract generation</p> <p>File Size: 6.7MB</p> <p>Indexes: - Primary: <code>item_no</code> + <code>vendor_no</code> - Secondary: <code>vendor_no</code></p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 61-65)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#mprodbom-product-bill-of-materials","title":"mprodbom (Product Bill of Materials)","text":"<p>Purpose: Defines product BOM structure (parent items and sub-items)</p> <p>Key Fields: - <code>item_no</code> (C) - Parent item number (links to mitem) - <code>sub_item</code> (C) - Sub-item number (links to mitem) - <code>qty</code> (N) - Quantity of sub-item per parent</p> <p>Business Rules: - Defines how parent items break down into sub-items - Used for quantity calculation when processing BOM items - Referenced in <code>uordcont.prg</code> for BOM propagation</p> <p>Indexes: - Primary: <code>item_no</code> + <code>sub_item</code> (index name: <code>iprodbom</code>)</p> <p>File Size: 385KB</p> <p>Code Reference: <code>uordcont.prg</code> (lines 40-43, 49-55), <code>uoexls_2013.prg</code> (lines 80-86)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#moebom-order-enquiry-bom","title":"moebom (Order Enquiry BOM)","text":"<p>Purpose: BOM details for specific OEs</p> <p>Key Fields: - <code>oe_no</code> (C) - Order Enquiry number (links to moe) - <code>item_no</code> (C) - Parent item number - <code>sub_item</code> (C) - Sub-item number - <code>qty</code> (N) - Quantity - <code>price</code> (N) - Price - <code>retail</code> (N) - Retail price - <code>remark</code> (M) - Remarks</p> <p>Business Rules: - Created when OE has BOM items - Quantities calculated from <code>mprodbom</code> - Links to specific OE</p> <p>File Size: 649KB Memo File: 1.2MB (moebom.FPT)</p> <p>Indexes: - Primary: <code>oe_no</code> + <code>item_no</code> + <code>sub_item</code></p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 73-78)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#customer-master-tables","title":"Customer Master Tables","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#mcustom-customer-master","title":"mcustom (Customer Master)","text":"<p>Purpose: Customer database</p> <p>Key Fields (inferred from <code>xcustom.prg</code>): - <code>cust_no</code> (C) - Customer number (Primary Key) - <code>date</code> (D) - Customer creation/update date - <code>ename</code> (C) - English name - <code>sname</code> (C) - Short name - <code>addr1</code> (C) - Address line 1 - <code>addr2</code> (C) - Address line 2 - <code>addr3</code> (C) - Address line 3 - <code>addr4</code> (C) - Address line 4 - <code>cont_name</code> (C) - Contact name - <code>tel</code> (C) - Telephone - <code>tel2</code> (C) - Telephone 2 - <code>fax</code> (C) - Fax - <code>fax2</code> (C) - Fax 2 - <code>term</code> (C) - Payment terms - <code>per_a</code> (C) - Person A - <code>per_b</code> (C) - Person B - <code>per_c</code> (C) - Person C - <code>per_d</code> (C) - Person D - <code>per_e</code> (C) - Person E - <code>shipmark</code> (M) - Shipping mark (memo field, constructed from multiple fields) - <code>show_sub_item_detail</code> (C) - Flag to show sub-item details</p> <p>Business Rules: - <code>cust_no</code> must be unique - <code>shipmark</code> constructed from multiple memo fields (M11-M26) - Used for validation during OE import - <code>show_sub_item_detail</code> affects OE display</p> <p>Indexes: - Primary: <code>cust_no</code></p> <p>File Size: 576KB Memo File: 394KB (mcustom.FPT)</p> <p>Code Reference: <code>xcustom.prg</code> (lines 2-54), <code>uoexls_2013.prg</code> (lines 30-34, 185-190)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#vendor-master-tables","title":"Vendor Master Tables","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#mvendor-vendor-master","title":"mvendor (Vendor Master)","text":"<p>Purpose: Vendor/supplier database</p> <p>Key Fields (inferred from <code>xvendor.prg</code>): - <code>vendor_no</code> (C) - Vendor number (Primary Key) - <code>date</code> (D) - Vendor creation/update date - <code>ename</code> (C) - English name - <code>sname</code> (C) - Short name - <code>addr1</code> (C) - Address line 1 - <code>addr2</code> (C) - Address line 2 - <code>addr3</code> (C) - Address line 3 - <code>addr4</code> (C) - Address line 4 - <code>cont_name</code> (C) - Contact name - <code>tel</code> (C) - Telephone - <code>tel2</code> (C) - Telephone 2 - <code>fax</code> (C) - Fax - <code>fax2</code> (C) - Fax 2 - <code>type</code> (N) - Vendor type (1=Vendor, 2=Maker)</p> <p>Business Rules: - <code>vendor_no</code> must be unique - <code>type</code> distinguishes between vendors and makers - Used for contract generation (grouping by vendor) - Referenced in OE and contract records</p> <p>Indexes: - Primary: <code>vendor_no</code></p> <p>File Size: 228KB</p> <p>Code Reference: <code>xvendor.prg</code> (lines 1-49), <code>uoexls_2013.prg</code> (lines 121-125)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#zmftr-manufacturer","title":"zmftr (Manufacturer)","text":"<p>Purpose: Manufacturer information</p> <p>Key Fields: - <code>mftr_no</code> (C) - Manufacturer number (Primary Key) - Manufacturer details</p> <p>Business Rules: - Separate from vendors - Linked to items via <code>mitemmftr</code></p> <p>File Size: Small (zmftr.dbf)</p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 115-119)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#master-data-relationships","title":"Master Data Relationships","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#item-relationships","title":"Item Relationships","text":"<pre><code>flowchart TB\n    MITEM[\"mitem&lt;br/&gt;Item Master\"] --&gt; MITEMVEN[\"mitemven&lt;br/&gt;Item-Vendor\"]\n    MITEM --&gt; MPRODBOM[\"mprodbom&lt;br/&gt;Product BOM\"]\n    MITEM --&gt; MITEMMFTR[\"mitemmftr&lt;br/&gt;Item-Manufacturer\"]\n    MITEMVEN --&gt; MVENDOR[\"mvendor&lt;br/&gt;Vendor\"]\n    MPRODBOM --&gt; MITEM2[\"mitem&lt;br/&gt;Sub-items\"]\n    MITEMMFTR --&gt; ZMFTR[\"zmftr&lt;br/&gt;Manufacturer\"]</code></pre>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#customer-usage","title":"Customer Usage","text":"<pre><code>flowchart TB\n    MCUSTOM[\"mcustom&lt;br/&gt;Customer\"] --&gt; MOEHD[\"moehd&lt;br/&gt;OE Header\"]\n    MCUSTOM --&gt; MORDHD[\"mordhd&lt;br/&gt;OC Header\"]\n    MCUSTOM --&gt; MINVHD[\"minvhd&lt;br/&gt;Invoice Header\"]</code></pre>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#vendor-usage","title":"Vendor Usage","text":"<pre><code>flowchart TB\n    MVENDOR[\"mvendor&lt;br/&gt;Vendor\"] --&gt; MOE[\"moe&lt;br/&gt;OE Detail\"]\n    MVENDOR --&gt; MCONTHD[\"mconthd&lt;br/&gt;Contract Header\"]\n    MVENDOR --&gt; MITEMVEN[\"mitemven&lt;br/&gt;Item-Vendor\"]</code></pre>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#data-import-patterns","title":"Data Import Patterns","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#item-import-from-xitemprg","title":"Item Import (from <code>xitem.prg</code>)","text":"<p>Source: Legacy <code>item.dbf</code> table Process: 1. Extract item number (<code>i_no</code>) 2. Combine description fields (<code>desc1-desc4</code>) into <code>desp</code> 3. Extract HTC from <code>origin2</code> field (after \"#\" character) 4. Combine UPC fields (<code>upc</code> + <code>upc2</code>) 5. Map standard code from <code>zstdcode</code> using <code>STDNAME</code> 6. Set packing information (4 levels) 7. Set weight, cube, duty</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#customer-import-from-xcustomprg","title":"Customer Import (from <code>xcustom.prg</code>)","text":"<p>Source: Legacy <code>cus.dbf</code> table Filter: <code>C_cname = \"CUSTOMER\" or \"TRADING\"</code> Process: 1. Extract customer number (<code>c_no</code>) 2. Map address fields (<code>c_add1</code> to <code>c_add4</code>) 3. Map contact information 4. Construct <code>shipmark</code> from memo fields (M11-M26) 5. Map payment terms</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#vendor-import-from-xvendorprg","title":"Vendor Import (from <code>xvendor.prg</code>)","text":"<p>Source: Legacy <code>cus.dbf</code> table Filter: <code>C_CNAME=\"VENDOR\" or \"MAKER\"</code> Process: 1. Extract vendor number (<code>c_no</code>) 2. Map address and contact fields 3. Set <code>type</code> based on <code>C_CNAME</code> (1=Vendor, 2=Maker)</p>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#validation-rules","title":"Validation Rules","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#item-validation","title":"Item Validation","text":"<ul> <li><code>item_no</code> must exist in <code>mitem</code> before use in transactions</li> <li><code>std_code</code> validated against <code>zstdcode</code></li> <li>UPC format validation</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#customer-validation","title":"Customer Validation","text":"<ul> <li><code>cust_no</code> must exist in <code>mcustom</code> before OE creation</li> <li>Customer code validated during OE import</li> <li>Must match OE Control record customer</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#vendor-validation","title":"Vendor Validation","text":"<ul> <li><code>vendor_no</code> must exist in <code>mvendor</code> before contract creation</li> <li>Vendor type checked (Vendor vs Maker)</li> <li>Used for contract grouping</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#index-strategy","title":"Index Strategy","text":""},{"location":"source/01-data-architecture/table-details/master-data-tables/#primary-indexes","title":"Primary Indexes","text":"<ul> <li>All master tables indexed on primary key (<code>item_no</code>, <code>cust_no</code>, <code>vendor_no</code>)</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#foreign-key-indexes","title":"Foreign Key Indexes","text":"<ul> <li><code>mitemven</code> indexed on both <code>item_no</code> and <code>vendor_no</code></li> <li><code>mprodbom</code> indexed on <code>item_no</code> (iprodbom index)</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#search-indexes","title":"Search Indexes","text":"<ul> <li>Item searches by <code>std_code</code>, <code>grp_code</code></li> <li>Customer searches by name fields</li> <li>Vendor searches by name and type</li> </ul>"},{"location":"source/01-data-architecture/table-details/master-data-tables/#file-sizes-summary","title":"File Sizes Summary","text":"Table DBF Size FPT Size Notes mitem 11MB 24MB Large descriptions mcustom 576KB 394KB Moderate mvendor 228KB - Small mitemven 6.7MB - Many relationships mprodbom 385KB - Small moebom 649KB 1.2MB Per-OE BOM"},{"location":"source/01-data-architecture/table-details/supporting-tables/","title":"Supporting Tables - Detailed Schemas","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#quantity-breakdown-tables","title":"Quantity Breakdown Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#mqtybrk-quantity-breakdown","title":"mqtybrk (Quantity Breakdown)","text":"<p>Purpose: Stores quantity breakdowns by size, color, style for OE items</p> <p>Key Fields (inferred from usage): - <code>oe_no</code> (C) - Order Enquiry number (links to moe) - <code>item_no</code> (C) - Item number (links to mitem) - <code>size_code</code> (C) - Size code - <code>color_code</code> (C) - Color code - <code>style_code</code> (C) - Style code - <code>qty</code> (N) - Quantity for this breakdown - <code>user_id</code> (C) - User who created</p> <p>Business Rules: - One record per size/color/style combination per item - Created during OE import or manual entry - Used for detailed quantity tracking</p> <p>File Size: 15MB (large table)</p> <p>Indexes: - Primary: <code>oe_no</code> + <code>item_no</code> + <code>size_code</code> + <code>color_code</code></p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 67-71, 217)</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#code-and-reference-tables","title":"Code and Reference Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#zstdcode-standard-code","title":"zstdcode (Standard Code)","text":"<p>Purpose: Standard classification codes for items</p> <p>Key Fields: - <code>std_code</code> (C) - Standard code (Primary Key) - <code>std_desp</code> (C) - Standard code description</p> <p>Business Rules: - Used to classify items - Referenced in <code>mitem.std_code</code> - Used in reports and analysis</p> <p>Code Reference: <code>xitem.prg</code> (lines 59-64)</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zorigin-country-of-origin","title":"zorigin (Country of Origin)","text":"<p>Purpose: Country of origin codes</p> <p>Key Fields: - <code>origin_code</code> (C) - Origin code (Primary Key) - <code>origin_name</code> (C) - Origin name</p> <p>Business Rules: - Used for item origin tracking - Referenced in <code>mitem.origin</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zfobport-fob-port","title":"zfobport (FOB Port)","text":"<p>Purpose: FOB (Free On Board) port codes</p> <p>Key Fields: - <code>port_code</code> (C) - Port code (Primary Key) - <code>port_name</code> (C) - Port name - <code>port_location</code> (C) - Port location</p> <p>Business Rules: - Used in shipping orders - Referenced in contract and SO records</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zfobterm-fob-terms","title":"zfobterm (FOB Terms)","text":"<p>Purpose: FOB terms definitions</p> <p>Key Fields: - <code>term_code</code> (C) - Term code (Primary Key) - <code>term_desp</code> (C) - Term description</p> <p>Business Rules: - Used for shipping terms - Referenced in contracts</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zpayterm-payment-terms","title":"zpayterm (Payment Terms)","text":"<p>Purpose: Payment terms codes</p> <p>Key Fields: - <code>pay_code</code> (C) - Payment code (Primary Key) - <code>pay_desp</code> (C) - Payment description</p> <p>Business Rules: - Used in contracts - Referenced in <code>mconthd.payment</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zcurcode-currency-code","title":"zcurcode (Currency Code)","text":"<p>Purpose: Currency codes</p> <p>Key Fields: - <code>cur_code</code> (C) - Currency code (Primary Key) - <code>cur_name</code> (C) - Currency name - <code>cur_rate</code> (N) - Exchange rate (if applicable)</p> <p>Business Rules: - Used throughout transaction tables - Referenced in <code>moe.cur_code</code>, <code>mconthd.cur_code</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zpurunit-purchase-unit","title":"zpurunit (Purchase Unit)","text":"<p>Purpose: Purchase unit codes</p> <p>Key Fields: - <code>unit_code</code> (C) - Unit code (Primary Key) - <code>unit_desp</code> (C) - Unit description</p> <p>Business Rules: - Used for item units - Referenced in <code>moe.unit</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zcountry-country","title":"zcountry (Country)","text":"<p>Purpose: Country codes</p> <p>Key Fields: - <code>country_code</code> (C) - Country code (Primary Key) - <code>country_name</code> (C) - Country name</p> <p>Business Rules: - Used for addresses and origin - Alternative to <code>zorigin</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#shipping-and-logistics-tables","title":"Shipping and Logistics Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#mshipmark-shipping-mark","title":"mshipmark (Shipping Mark)","text":"<p>Purpose: Shipping mark templates</p> <p>Key Fields: - <code>mark_code</code> (C) - Mark code (Primary Key) - <code>mark_desp</code> (M) - Mark description (memo) - <code>cust_no</code> (C) - Customer number (links to mcustom)</p> <p>Business Rules: - Customer-specific shipping marks - Stored in <code>mcustom.shipmark</code> (constructed from multiple fields) - Used in shipping documents</p> <p>Code Reference: <code>xcustom.prg</code> (lines 45-50)</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#mshipqty-shipping-quantity","title":"mshipqty (Shipping Quantity)","text":"<p>Purpose: Shipping quantity tracking</p> <p>Key Fields: - <code>so_no</code> (C) - Shipping Order number - <code>item_no</code> (C) - Item number - <code>qty</code> (N) - Shipping quantity</p> <p>Business Rules: - Tracks quantities shipped - Links to shipping orders</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#pricing-tables","title":"Pricing Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#mspecprice-special-pricing","title":"mspecprice (Special Pricing)","text":"<p>Purpose: Special pricing rules</p> <p>Key Fields: - <code>item_no</code> (C) - Item number (links to mitem) - <code>cust_no</code> (C) - Customer number (links to mcustom) - <code>price</code> (N) - Special price - <code>date_from</code> (D) - Effective date from - <code>date_to</code> (D) - Effective date to</p> <p>Business Rules: - Customer/item specific pricing - Date range validation - Overrides standard item price</p> <p>Code Reference: <code>zspecprice.prg</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#skn-and-numbering-tables","title":"SKN and Numbering Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#mskn-skn-number","title":"mskn (SKN Number)","text":"<p>Purpose: SKN (Stock Keeping Number) mapping</p> <p>Key Fields: - <code>skn_no</code> (C) - SKN number (Primary Key) - <code>item_no</code> (C) - Item number (links to mitem) - <code>cust_no</code> (C) - Customer number (links to mcustom)</p> <p>Business Rules: - Maps customer SKN to item numbers - Customer-specific item numbering - Used during OE import</p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 55-59), <code>get_skn.prg</code></p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#system-and-configuration-tables","title":"System and Configuration Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#zpara-system-parameters","title":"zpara (System Parameters)","text":"<p>Purpose: System-wide configuration parameters</p> <p>Key Fields: - <code>para_code</code> (C) - Parameter code (Primary Key) - <code>para_value</code> (C) - Parameter value - <code>para_desp</code> (C) - Parameter description</p> <p>Business Rules: - System configuration storage - Referenced throughout application - May include company settings, defaults</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zsoformat-shipping-order-format","title":"zsoformat (Shipping Order Format)","text":"<p>Purpose: Customizable SO format definitions</p> <p>Key Fields: - <code>so_key</code> (C) - Format key (Primary Key) - <code>uniqueid</code> (C) - Unique identifier - <code>vpos</code> (N) - Vertical position - <code>hpos</code> (N) - Horizontal position - <code>height</code> (N) - Height - <code>width</code> (N) - Width</p> <p>Business Rules: - Customer-specific SO formats - Used for custom SO printing - Referenced in <code>pso.prg</code></p> <p>Code Reference: <code>pso.prg</code> (lines 4-7)</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zvencon-vendor-conversion","title":"zvencon (Vendor Conversion)","text":"<p>Purpose: Vendor code conversion mapping</p> <p>Key Fields: - <code>old_vendor_no</code> (C) - Old vendor number - <code>new_vendor_no</code> (C) - New vendor number</p> <p>Business Rules: - Used for vendor code migration - Data conversion utility</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#activity-and-audit-tables","title":"Activity and Audit Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#mactivity-activity-log","title":"mactivity (Activity Log)","text":"<p>Purpose: System activity tracking</p> <p>Key Fields: - <code>activity_id</code> (C) - Activity ID (Primary Key) - <code>user_id</code> (C) - User ID - <code>activity_type</code> (C) - Activity type - <code>activity_date</code> (D) - Activity date - <code>activity_time</code> (C) - Activity time - <code>description</code> (M) - Activity description</p> <p>Business Rules: - Tracks user activities - Audit trail functionality - May track OE creation, posting, etc.</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#user-and-security-tables","title":"User and Security Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#user-user-accounts","title":"user (User Accounts)","text":"<p>Purpose: User account information</p> <p>Key Fields: - <code>user_id</code> (C) - User ID (Primary Key) - <code>password</code> (C) - Password (likely plain text) - <code>user_name</code> (C) - User name - <code>user_right</code> (C) - User rights (SUPERVISOR/REGULAR_USER) - <code>active</code> (L) - Active flag</p> <p>Business Rules: - Used for authentication - <code>user_right</code> determines menu access - Referenced in login process</p> <p>Code Reference: <code>main.prg</code> (line 27), <code>iuser</code> form</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#rights-user-rights","title":"rights (User Rights)","text":"<p>Purpose: Additional rights/permissions (if used)</p> <p>Key Fields: - <code>user_id</code> (C) - User ID (links to user) - <code>right_code</code> (C) - Right code - <code>right_value</code> (L) - Right value (granted/denied)</p> <p>Business Rules: - Granular permission control (if implemented) - May extend beyond SUPERVISOR/REGULAR_USER roles</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#other-supporting-tables","title":"Other Supporting Tables","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#zttrgp-ttr-group","title":"zttrgp (TTR Group)","text":"<p>Purpose: TTR (Testing/Inspection/Sample Approval) groups</p> <p>Key Fields: - <code>ttr_code</code> (C) - TTR code (Primary Key) - <code>ttr_desp</code> (C) - TTR description</p> <p>Business Rules: - Customer testing/inspection groups - Referenced in customer setup</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zchgso-change-shipping-order","title":"zchgso (Change Shipping Order)","text":"<p>Purpose: SO change tracking</p> <p>Key Fields: - <code>so_no</code> (C) - Shipping Order number - <code>change_date</code> (D) - Change date - <code>change_reason</code> (M) - Change reason</p> <p>Business Rules: - Tracks SO modifications - Audit trail for SO changes</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#zchitem-change-item","title":"zchitem (Change Item)","text":"<p>Purpose: Item change tracking</p> <p>Key Fields: - <code>item_no</code> (C) - Item number - <code>change_date</code> (D) - Change date - <code>old_value</code> (C) - Old value - <code>new_value</code> (C) - New value</p> <p>Business Rules: - Tracks item modifications - Used for data conversion</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#table-usage-summary","title":"Table Usage Summary","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#frequently-used-supporting-tables","title":"Frequently Used Supporting Tables","text":"Table Usage Size mqtybrk Quantity breakdowns 15MB zstdcode Item classification Small zfobport Shipping ports Small zpayterm Payment terms Small mshipmark Shipping marks Small mspecprice Special pricing Small mskn SKN mapping Small zpara System parameters Small user User accounts Small rights User rights Small"},{"location":"source/01-data-architecture/table-details/supporting-tables/#lookup-table-pattern","title":"Lookup Table Pattern","text":"<p>Most supporting tables follow this pattern: - Code field (Primary Key) - Short code - Description field - Human-readable description - Optional fields - Additional attributes</p>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#reference-data-flow","title":"Reference Data Flow","text":"<pre><code>flowchart TB\n    ZSTDCODE[zstdcode] --&gt; MITEM[mitem]\n    ZORIGIN[zorigin] --&gt; MITEM\n    ZFOBPORT[zfobport] --&gt; MSO[mso]\n    ZPAYTERM[zpayterm] --&gt; MCONTHD[mconthd]\n    ZCURCODE[zcurcode] --&gt; MOE[moe]\n    ZCURCODE --&gt; MCONTHD\n    MSKN[mskn] --&gt; MOE\n    MSPECPRICE[mspecprice] --&gt; MOE\n    MSHIPMARK[mshipmark] --&gt; MCUSTOM[mcustom]</code></pre>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#data-maintenance","title":"Data Maintenance","text":""},{"location":"source/01-data-architecture/table-details/supporting-tables/#code-tables","title":"Code Tables","text":"<ul> <li>Typically maintained through admin forms</li> <li>Changes require validation</li> <li>May affect existing transactions</li> </ul>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#configuration-tables","title":"Configuration Tables","text":"<ul> <li><code>zpara</code> - System-wide settings</li> <li><code>zsoformat</code> - Customer-specific formats</li> <li>Changes may require application restart</li> </ul>"},{"location":"source/01-data-architecture/table-details/supporting-tables/#audit-tables","title":"Audit Tables","text":"<ul> <li><code>mactivity</code> - Append-only</li> <li>Historical record</li> <li>May require periodic archiving</li> </ul>"},{"location":"source/01-data-architecture/table-details/transaction-tables/","title":"Transaction Tables - Detailed Schemas","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#order-enquiry-oe-tables","title":"Order Enquiry (OE) Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#moe-order-enquiry-detail","title":"moe (Order Enquiry Detail)","text":"<p>Purpose: Stores individual line items for order enquiries</p> <p>Key Fields (inferred from code): - <code>oe_no</code> (C) - Order Enquiry number (links to moehd) - <code>date</code> (D) - OE date - <code>cust_no</code> (C) - Customer number (links to mcustom) - <code>item_no</code> (C) - Item number (links to mitem) - <code>qty</code> (N) - Quantity - <code>unit</code> (C) - Unit of measure - <code>ctn</code> (N) - Carton quantity - <code>price</code> (N) - Unit price - <code>cost</code> (N) - Unit cost - <code>cur_code</code> (C) - Currency code - <code>po_no</code> (C) - Purchase Order number - <code>vendor_no</code> (C) - Vendor number (links to mvendor) - <code>del_date</code> (D) - Delivery date - <code>item_desc</code> (M) - Item description (memo field) - <code>pack_pc_1</code> (N) - Pack pieces 1 - <code>pack_pc_2</code> (N) - Pack pieces 2 - <code>pack_pc_3</code> (N) - Pack pieces 3 - <code>pack_pc_4</code> (N) - Pack pieces 4 - <code>pack_desp</code> (C) - Pack description - <code>cube</code> (N) - Cube measurement - <code>meas</code> (N) - Measurement - <code>lc_date</code> (D) - Letter of Credit date - <code>remark</code> (M) - Remarks (memo field) - <code>status</code> (N) - Status code - <code>comp_code</code> (C) - Company code (HT, BAT, INSP, HFW) - <code>user_id</code> (C) - User who created - <code>cre_user</code> (C) - Creator user - <code>cre_date</code> (D) - Creation date</p> <p>Business Rules: - Must have valid <code>oe_no</code> (exists in moehd) - Must have valid <code>cust_no</code> (exists in mcustom) - Must have valid <code>item_no</code> (exists in mitem) - <code>comp_code</code> determined by OE number format (contains \"/\" = HT, else BAT)</p> <p>Indexes: - Primary: <code>oe_no</code> - Secondary: <code>item_no</code>, <code>cust_no</code>, <code>vendor_no</code></p> <p>Code Reference: <code>xmoe.prg</code>, <code>uoexls_2013.prg</code></p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#moehd-order-enquiry-header","title":"moehd (Order Enquiry Header)","text":"<p>Purpose: Header record for each Order Enquiry</p> <p>Key Fields: - <code>oe_no</code> (C) - Order Enquiry number (Primary Key) - <code>oe_date</code> (D) - OE date - <code>cre_date</code> (D) - Creation date - <code>user_id</code> (C) - User ID - <code>cre_user</code> (C) - Creator user</p> <p>Business Rules: - One header per OE number - Created before or with first detail record - <code>oe_date</code> comes from <code>moectrl</code> or user input</p> <p>Indexes: - Primary: <code>oe_no</code></p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 196-207)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#moectrl-order-enquiry-control","title":"moectrl (Order Enquiry Control)","text":"<p>Purpose: Control file that validates OE creation</p> <p>Key Fields: - <code>oe_no</code> (C) - Order Enquiry number (Primary Key) - <code>cust_no</code> (C) - Customer number - <code>oe_date</code> (D) - OE date</p> <p>Business Rules: - Must exist before OE can be imported (except INSP company) - <code>cust_no</code> must match OE import data - Used for validation during Excel import</p> <p>Indexes: - Primary: <code>oe_no</code></p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 148-156, 174-183)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#order-confirmation-oc-tables","title":"Order Confirmation (OC) Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#mordhd-order-confirmation-header","title":"mordhd (Order Confirmation Header)","text":"<p>Purpose: Header for confirmed orders</p> <p>Key Fields: - <code>conf_no</code> (C) - Order Confirmation number (Primary Key) - <code>date</code> (D) - Confirmation date - <code>cust_no</code> (C) - Customer number (links to mcustom)</p> <p>Business Rules: - Created when OE is posted to OC - Links to original OE via item details</p> <p>Indexes: - Primary: <code>conf_no</code> - Secondary: <code>cust_no</code>, <code>date</code></p> <p>Code Reference: <code>uordcont.prg</code></p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#morddt-order-confirmation-detail","title":"morddt (Order Confirmation Detail)","text":"<p>Purpose: Line items for confirmed orders</p> <p>Key Fields: - <code>conf_no</code> (C) - Order Confirmation number (links to mordhd) - <code>item_no</code> (C) - Item number (links to mitem) - <code>qty</code> (N) - Confirmed quantity - <code>ctn</code> (N) - Carton quantity - <code>price</code> (N) - Confirmed price - <code>po_no</code> (C) - Purchase Order number - <code>head</code> (L) - Head item flag (for BOM processing) - <code>oe_no</code> (C) - Original OE number (links to moe)</p> <p>Business Rules: - Created from <code>moe</code> records during posting - BOM items have <code>head = .F.</code> - BOM quantities calculated from <code>mprodbom</code></p> <p>Indexes: - Primary: <code>conf_no</code> + <code>item_no</code> - Secondary: <code>item_no</code>, <code>oe_no</code></p> <p>Code Reference: <code>uordcont.prg</code> (lines 14-19, 33-56)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#contract-tables","title":"Contract Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#mconthd-contract-header","title":"mconthd (Contract Header)","text":"<p>Purpose: Purchase contracts with vendors</p> <p>Key Fields: - <code>cont_no</code> (C) - Contract number (Primary Key) - <code>conf_no</code> (C) - Order Confirmation number (links to mordhd) - <code>date</code> (D) - Contract date - <code>vendor_no</code> (C) - Vendor number (links to mvendor) - <code>payment</code> (C) - Payment terms - <code>remark</code> (M) - Remarks (memo field) - <code>req_date_fr</code> (D) - Required date from - <code>req_date_to</code> (D) - Required date to - <code>cur_code</code> (C) - Currency code - <code>ship_to</code> (C) - Ship to location</p> <p>Business Rules: - Generated from OC, grouped by vendor - One contract per vendor per OC - Payment terms from vendor or default</p> <p>Indexes: - Primary: <code>cont_no</code> - Secondary: <code>conf_no</code>, <code>vendor_no</code></p> <p>Code Reference: <code>uwcontract.prg</code> (lines 18-23)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#mcontdt-contract-detail","title":"mcontdt (Contract Detail)","text":"<p>Purpose: Line items for contracts</p> <p>Key Fields: - <code>cont_no</code> (C) - Contract number (links to mconthd) - <code>conf_no</code> (C) - Order Confirmation number (links to mordhd) - <code>item_no</code> (C) - Item number (links to mitem) - <code>qty</code> (N) - Contract quantity - <code>price</code> (N) - Contract price - <code>desc_memo</code> (M) - Description memo - <code>item_memo</code> (M) - Item memo - <code>head</code> (L) - Head item flag (for BOM)</p> <p>Business Rules: - Created from <code>morddt</code> records - Grouped by <code>vendor_no</code> from <code>morddt</code> - BOM quantities calculated from <code>mprodbom</code></p> <p>Indexes: - Primary: <code>cont_no</code> + <code>item_no</code> - Secondary: <code>conf_no</code>, <code>item_no</code></p> <p>Code Reference: <code>uwcontract.prg</code>, <code>uordcont.prg</code> (lines 58-79)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#shipping-order-tables","title":"Shipping Order Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#mso-shipping-order","title":"mso (Shipping Order)","text":"<p>Purpose: Shipping orders for delivery</p> <p>Key Fields (inferred): - <code>so_no</code> (C) - Shipping Order number (Primary Key) - <code>conf_no</code> (C) - Order Confirmation number (links to mordhd) - <code>item_no</code> (C) - Item number (links to mitem) - <code>qty</code> (N) - Shipping quantity - <code>ship_date</code> (D) - Shipping date - <code>cont_no</code> (C) - Contract number (links to mconthd)</p> <p>Business Rules: - Created from confirmed orders - Links to contracts and OCs - Used for invoice generation</p> <p>Indexes: - Primary: <code>so_no</code> - Secondary: <code>conf_no</code>, <code>item_no</code></p> <p>File Size: 279MB (largest transaction table)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#delivery-note-tables","title":"Delivery Note Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#mdnhd-delivery-note-header","title":"mdnhd (Delivery Note Header)","text":"<p>Purpose: Header for delivery notes</p> <p>Key Fields: - <code>dn_no</code> (C) - Delivery Note number (Primary Key) - <code>date</code> (D) - DN date - Related header fields</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#mdndt-delivery-note-detail","title":"mdndt (Delivery Note Detail)","text":"<p>Purpose: Line items for delivery notes</p> <p>Key Fields: - <code>dn_no</code> (C) - Delivery Note number (links to mdnhd) - <code>item_no</code> (C) - Item number - <code>qty</code> (N) - Delivery quantity</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#mdnbrk-delivery-note-breakdown","title":"mdnbrk (Delivery Note Breakdown)","text":"<p>Purpose: Breakdown details for delivery notes</p> <p>Key Fields: - <code>dn_no</code> (C) - Delivery Note number - Breakdown fields</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#invoice-tables","title":"Invoice Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#minvhd-invoice-header","title":"minvhd (Invoice Header)","text":"<p>Purpose: Header for invoices</p> <p>Key Fields: - <code>inv_no</code> (C) - Invoice number (Primary Key) - <code>cust_no</code> (C) - Customer number (links to mcustom) - <code>date</code> (D) - Invoice date - <code>oc_no</code> (C) - Order Confirmation number (links to mordhd) - <code>ship</code> (C) - Shipment information - <code>del_date</code> (D) - Delivery date</p> <p>Business Rules: - Created from SO or DN - Links to original OC - Used for packing list generation</p> <p>Indexes: - Primary: <code>inv_no</code> - Secondary: <code>cust_no</code>, <code>oc_no</code>, <code>date</code></p> <p>Code Reference: <code>xinvhd.prg</code></p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#minvdt-invoice-detail","title":"minvdt (Invoice Detail)","text":"<p>Purpose: Line items for invoices</p> <p>Key Fields: - <code>inv_no</code> (C) - Invoice number (links to minvhd) - <code>item_no</code> (C) - Item number (links to mitem) - <code>qty</code> (N) - Invoice quantity - <code>price</code> (N) - Invoice price - <code>so_no</code> (C) - Shipping Order number (links to mso) - <code>oc_no</code> (C) - Order Confirmation number (links to mordhd)</p> <p>Business Rules: - Created from SO or DN details - Links to shipping orders - Used for packing list</p> <p>Indexes: - Primary: <code>inv_no</code> + <code>item_no</code> - Secondary: <code>item_no</code>, <code>so_no</code></p> <p>File Size: 123MB (large transaction table) Memo File: 178MB (minvdt.FPT - large descriptions)</p> <p>Code Reference: <code>xinvdt.prg</code></p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#loading-tables","title":"Loading Tables","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#mlahd-loading-advice-header","title":"mlahd (Loading Advice Header)","text":"<p>Purpose: Header for loading advice</p> <p>Key Fields: - <code>la_no</code> (C) - Loading Advice number (Primary Key) - <code>date</code> (D) - Loading date - Related header fields</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#mladt-loading-advice-detail","title":"mladt (Loading Advice Detail)","text":"<p>Purpose: Line items for loading advice</p> <p>Key Fields: - <code>la_no</code> (C) - Loading Advice number (links to mlahd) - <code>item_no</code> (C) - Item number - <code>qty</code> (N) - Loading quantity</p> <p>File Size: 4.4MB Memo File: 16MB (mladt.FPT)</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#mload-loading-master","title":"mload (Loading Master)","text":"<p>Purpose: Master loading information</p> <p>Key Fields: - Loading master fields</p> <p>File Size: 10MB</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#common-patterns","title":"Common Patterns","text":""},{"location":"source/01-data-architecture/table-details/transaction-tables/#headerdetail-relationship","title":"Header/Detail Relationship","text":"<p>All transaction tables follow this pattern: 1. Header Table: One record per document    - Contains document number (Primary Key)    - Contains customer/vendor reference    - Contains dates and summary information</p> <ol> <li>Detail Table: Multiple records per document</li> <li>Contains document number (Foreign Key)</li> <li>Contains item number (Foreign Key)</li> <li>Contains quantities, prices, and item-specific data</li> </ol>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#linking-fields","title":"Linking Fields","text":"<p>Document Flow: - <code>oe_no</code> \u2192 <code>conf_no</code> \u2192 <code>cont_no</code> \u2192 <code>so_no</code> \u2192 <code>inv_no</code></p> <p>Master Data Links: - <code>cust_no</code> - Links to <code>mcustom</code> - <code>vendor_no</code> - Links to <code>mvendor</code> - <code>item_no</code> - Links to <code>mitem</code></p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#audit-fields","title":"Audit Fields","text":"<p>Most transaction tables include: - <code>user_id</code> - User who last modified - <code>cre_user</code> - User who created - <code>cre_date</code> - Creation date</p>"},{"location":"source/01-data-architecture/table-details/transaction-tables/#memo-fields","title":"Memo Fields","text":"<p>Large text stored in FPT files: - Descriptions - Remarks - Memos - Notes</p>"},{"location":"source/02-business-processes/contract-process/","title":"Contract Process","text":""},{"location":"source/02-business-processes/contract-process/#overview","title":"Overview","text":"<p>Contracts are purchase orders sent to vendors. They are generated from Order Confirmations (OC), grouped by vendor, and include payment terms, delivery dates, and item details.</p>"},{"location":"source/02-business-processes/contract-process/#contract-generation-from-oc","title":"Contract Generation from OC","text":""},{"location":"source/02-business-processes/contract-process/#contract-generation-detailed-flow","title":"Contract Generation Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Generate Contract from OC]) --&gt; SelectOC[User Selects OC Number&lt;br/&gt;conf_no from form isetcont@@_2018]\n    SelectOC --&gt; RetrieveOCItems[SELECT FROM morddt&lt;br/&gt;WHERE conf_no == selected OC&lt;br/&gt;Retrieve all OC items]\n\n    RetrieveOCItems --&gt; GroupByVendor[GROUP BY vendor_no&lt;br/&gt;from morddt&lt;br/&gt;Create vendor groups]\n    GroupByVendor --&gt; VendorLoop{For Each&lt;br/&gt;Unique Vendor}\n\n    VendorLoop --&gt;|No More| Complete[Contracts Created]\n    VendorLoop --&gt;|Yes| GetVendorNo[Get vendor_no&lt;br/&gt;for this vendor group]\n\n    GetVendorNo --&gt; GenerateContNo[Generate Contract Number&lt;br/&gt;cont_no&lt;br/&gt;Based on OC and vendor]\n    GenerateContNo --&gt; CreateContHeader[APPEND BLANK to mconthd&lt;br/&gt;Create Contract Header]\n\n    CreateContHeader --&gt; SetContHeaderFields[REPLACE mconthd.cont_no&lt;br/&gt;= generated cont_no&lt;br/&gt;REPLACE mconthd.conf_no = OC conf_no&lt;br/&gt;REPLACE mconthd.date = DATE&lt;br/&gt;REPLACE mconthd.vendor_no = vendor_no]\n\n    SetContHeaderFields --&gt; GetVendorInfo[SELECT mvendor&lt;br/&gt;LOCATE FOR vendor_no&lt;br/&gt;Get vendor details&lt;br/&gt;ename, addr1-4, payment terms]\n    GetVendorInfo --&gt; SetPaymentTerms[REPLACE mconthd.payment&lt;br/&gt;= vendor payment terms&lt;br/&gt;or user-specified terms]\n\n    SetPaymentTerms --&gt; SetDates[REPLACE mconthd.req_date_fr&lt;br/&gt;REPLACE mconthd.req_date_to&lt;br/&gt;from OC delivery dates]\n    SetDates --&gt; SetOtherFields[REPLACE mconthd.cur_code&lt;br/&gt;REPLACE mconthd.ship_to&lt;br/&gt;REPLACE mconthd.remark]\n\n    SetOtherFields --&gt; ItemLoop{For Each Item&lt;br/&gt;in morddt&lt;br/&gt;with this vendor_no}\n\n    ItemLoop --&gt;|No More| ProcessBOM\n    ItemLoop --&gt;|Yes| GetOCItem[Get next item&lt;br/&gt;from morddt&lt;br/&gt;for this vendor]\n\n    GetOCItem --&gt; CopyToContract[APPEND BLANK to mcontdt&lt;br/&gt;REPLACE mcontdt.cont_no = cont_no&lt;br/&gt;REPLACE mcontdt.conf_no = conf_no]\n    CopyToContract --&gt; CopyItemFields[REPLACE mcontdt.item_no&lt;br/&gt;= morddt.item_no&lt;br/&gt;REPLACE mcontdt.qty = morddt.qty&lt;br/&gt;REPLACE mcontdt.ctn = morddt.ctn&lt;br/&gt;REPLACE mcontdt.price = morddt.cost&lt;br/&gt;or morddt.price]\n\n    CopyItemFields --&gt; CopyMemoFields[REPLACE mcontdt.desc_memo&lt;br/&gt;= morddt.desc_memo&lt;br/&gt;REPLACE mcontdt.item_memo&lt;br/&gt;= morddt.item_memo&lt;br/&gt;REPLACE mcontdt.head = morddt.head]\n\n    CopyMemoFields --&gt; CheckHeadItem{mcontdt.head&lt;br/&gt;== .T.?}\n    CheckHeadItem --&gt;|Yes| MarkBOMItem[Mark as BOM head item&lt;br/&gt;Will process sub-items next]\n    CheckHeadItem --&gt;|No| ItemLoop\n    MarkBOMItem --&gt; ItemLoop\n\n    ProcessBOM[Process BOM Items&lt;br/&gt;For Each Contract] --&gt; SelectMcontdt[SELECT mcontdt&lt;br/&gt;SET ORDER TO cont_no&lt;br/&gt;SEEK cont_no]\n\n    SelectMcontdt --&gt; BOMLoop{More mcontdt&lt;br/&gt;records&lt;br/&gt;for this contract?}\n    BOMLoop --&gt;|No| NextVendor\n    BOMLoop --&gt;|Yes| GetContItem[Get next mcontdt record]\n\n    GetContItem --&gt; CheckItemBOM{Item has BOM&lt;br/&gt;in mprodbom?}\n    CheckItemBOM --&gt;|No| SkipContItem[SKIP mcontdt&lt;br/&gt;Continue Loop]\n    CheckItemBOM --&gt;|Yes| CalcBOMTotal[SELECT SUM qty as total_qty&lt;br/&gt;FROM mprodbom&lt;br/&gt;WHERE item_no == mcontdt.item_no&lt;br/&gt;INTO CURSOR sum_qty]\n\n    CalcBOMTotal --&gt; CheckBOMTotal{sum_qty.total_qty&lt;br/&gt;&gt; 0?}\n    CheckBOMTotal --&gt;|No| SkipContItem\n    CheckBOMTotal --&gt;|Yes| SetHeadItemVars[w_head_item = mcontdt.item_no&lt;br/&gt;w_head_qty = mcontdt.qty]\n\n    SetHeadItemVars --&gt; SkipToSubItems[SKIP mcontdt&lt;br/&gt;Go to Next Record]\n    SkipToSubItems --&gt; BOMSubLoop{mcontdt.head&lt;br/&gt;== .F.?}\n\n    BOMSubLoop --&gt;|Yes| LocateBOM[SELECT mprodbom&lt;br/&gt;LOCATE FOR&lt;br/&gt;item_no == w_head_item&lt;br/&gt;AND sub_item == mcontdt.item_no]\n\n    LocateBOM --&gt; CalcSubQty[Calculate Sub-item Qty&lt;br/&gt;sub_qty = w_head_qty *&lt;br/&gt;mprodbom.qty / total_qty]\n    CalcSubQty --&gt; ReplaceContSubQty[REPLACE mcontdt.qty&lt;br/&gt;= calculated sub_qty]\n    ReplaceContSubQty --&gt; SkipNextSub[SKIP mcontdt&lt;br/&gt;Next Sub-item]\n    SkipNextSub --&gt; BOMSubLoop\n\n    BOMSubLoop --&gt;|No| SkipContItem\n    SkipContItem --&gt; BOMLoop\n\n    NextVendor[Next Vendor&lt;br/&gt;from vendor groups] --&gt; VendorLoop</code></pre> <p>Code Reference: Logic based on contract generation pattern from <code>uordcont.prg</code> and vendor grouping from <code>uwcontract.prg</code></p>"},{"location":"source/02-business-processes/contract-process/#contract-update-flow","title":"Contract Update Flow","text":""},{"location":"source/02-business-processes/contract-process/#contract-updateadjustment-detailed-flow","title":"Contract Update/Adjustment Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Contract Update Start]) --&gt; SelectContract[User Selects Contract&lt;br/&gt;cont_no&lt;br/&gt;to Update]\n    SelectContract --&gt; LoadContract[Load Contract Header&lt;br/&gt;SELECT FROM mconthd&lt;br/&gt;WHERE cont_no = cont_no&lt;br/&gt;Load mconthd record]\n\n    LoadContract --&gt; LoadContractItems[Load Contract Items&lt;br/&gt;SELECT FROM mcontdt&lt;br/&gt;WHERE cont_no = cont_no&lt;br/&gt;Get all contract items]\n\n    LoadContractItems --&gt; DisplayContract[Display Contract&lt;br/&gt;in Form&lt;br/&gt;Show header and items]\n\n    DisplayContract --&gt; UserSelectUpdate{User&lt;br/&gt;Selects&lt;br/&gt;Update Type?}\n\n    UserSelectUpdate --&gt;|Update Header| UpdateHeader\n    UserSelectUpdate --&gt;|Update Item| UpdateItem\n    UserSelectUpdate --&gt;|Add Item| AddItem\n    UserSelectSelect --&gt;|Delete Item| DeleteItem\n\n    UpdateHeader[Update Contract Header] --&gt; ModifyHeaderFields[User Modifies Header Fields&lt;br/&gt;Date, Payment Terms&lt;br/&gt;Delivery Dates&lt;br/&gt;Remarks, etc.]\n    ModifyHeaderFields --&gt; SaveHeader[REPLACE mconthd fields&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId]\n    SaveHeader --&gt; EndSuccess\n\n    UpdateItem[Update Contract Item] --&gt; SelectItem[User Selects Item&lt;br/&gt;from contract items list]\n    SelectItem --&gt; ModifyItemFields[User Modifies Item Fields&lt;br/&gt;Quantity, Price&lt;br/&gt;Delivery Dates&lt;br/&gt;Remarks, etc.]\n\n    ModifyItemFields --&gt; SaveItem[REPLACE mcontdt fields&lt;br/&gt;qty, price, dates, etc.&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId]\n\n    SaveItem --&gt; CheckItemBOM{Item has BOM&lt;br/&gt;in mprodbom?}\n    CheckItemBOM --&gt;|Yes| RecalcBOM[Recalculate BOM Quantities&lt;br/&gt;DO BOM Calculation Algorithm&lt;br/&gt;Update sub-item quantities]\n    CheckItemBOM --&gt;|No| EndSuccess\n\n    RecalcBOM --&gt; SelectMcontdt[SELECT mcontdt&lt;br/&gt;SET ORDER TO cont_no&lt;br/&gt;SEEK cont_no + item_no]\n    SelectMcontdt --&gt; CalcBOMTotal[SELECT SUM qty as total_qty&lt;br/&gt;FROM mprodbom&lt;br/&gt;WHERE item_no = item_no&lt;br/&gt;INTO CURSOR sum_qty]\n\n    CalcBOMTotal --&gt; CheckBOMTotal{sum_qty.total_qty&lt;br/&gt;&gt; 0?}\n    CheckBOMTotal --&gt;|No| EndSuccess\n    CheckBOMTotal --&gt;|Yes| SetHeadVars[w_head_item = mcontdt.item_no&lt;br/&gt;w_head_qty = mcontdt.qty]\n\n    SetHeadVars --&gt; BOMSubLoop{mcontdt.head&lt;br/&gt;== .F.?}\n\n    BOMSubLoop --&gt;|Yes| LocateBOM[SELECT mprodbom&lt;br/&gt;LOCATE FOR&lt;br/&gt;item_no == w_head_item&lt;br/&gt;AND sub_item == mcontdt.item_no]\n\n    LocateBOM --&gt; CalcSubQty[Calculate Sub-item Qty&lt;br/&gt;sub_qty = w_head_qty *&lt;br/&gt;mprodbom.qty / total_qty]\n    CalcSubQty --&gt; ReplaceSubQty[REPLACE mcontdt.qty&lt;br/&gt;= calculated sub_qty]\n    ReplaceSubQty --&gt; SkipSub[SKIP mcontdt&lt;br/&gt;Next Sub-item]\n    SkipSub --&gt; BOMSubLoop\n\n    BOMSubLoop --&gt;|No| EndSuccess\n\n    AddItem[Add New Item] --&gt; SelectNewItem[User Selects Item&lt;br/&gt;from mitem lookup]\n    SelectNewItem --&gt; EnterItemDetails[User Enters Item Details&lt;br/&gt;Quantity, Price&lt;br/&gt;Dates, Remarks]\n    EnterItemDetails --&gt; CreateContDetail[APPEND BLANK to mcontdt&lt;br/&gt;REPLACE cont_no, item_no&lt;br/&gt;qty, price, dates]\n    CreateContDetail --&gt; CheckNewItemBOM{New Item&lt;br/&gt;has BOM?}\n    CheckNewItemBOM --&gt;|Yes| ProcessNewBOM[Process BOM for New Item&lt;br/&gt;Create sub-item records&lt;br/&gt;Calculate quantities]\n    CheckNewItemBOM --&gt;|No| EndSuccess\n    ProcessNewBOM --&gt; EndSuccess\n\n    DeleteItem[Delete Item] --&gt; SelectItemToDelete[User Selects Item&lt;br/&gt;to Delete]\n    SelectItemToDelete --&gt; ConfirmDelete{Confirm&lt;br/&gt;Deletion?}\n    ConfirmDelete --&gt;|No| EndCancel\n    ConfirmDelete --&gt;|Yes| CheckHasBOMDel{Item has&lt;br/&gt;BOM sub-items?}\n\n    CheckHasBOMDel --&gt;|Yes| DeleteBOMItems[DELETE FROM mcontdt&lt;br/&gt;WHERE cont_no = cont_no&lt;br/&gt;AND head = .F.&lt;br/&gt;AND related to this item]\n    CheckHasBOMDel --&gt;|No| DeleteItemRecord\n    DeleteBOMItems --&gt; DeleteItemRecord[DELETE FROM mcontdt&lt;br/&gt;WHERE cont_no = cont_no&lt;br/&gt;AND item_no = item_no]\n    DeleteItemRecord --&gt; EndSuccess\n\n    EndSuccess([Update Successful]) --&gt; End\n    EndCancel([Update Cancelled]) --&gt; End\n    End([Process Complete])</code></pre> <p>Code Reference: <code>source/uordcont.prg</code> (contract update logic similar to OC updates)</p>"},{"location":"source/02-business-processes/contract-process/#step-1-select-oc","title":"Step 1: Select OC","text":"<p>Form: <code>isetcont@@_2018</code> or <code>isetcont@@_2018</code> (Input Contract 2018 Fast)</p> <p>Process: 1. User selects OC number (<code>conf_no</code>) 2. System retrieves all OC items from <code>morddt</code> 3. System groups items by <code>vendor_no</code></p>"},{"location":"source/02-business-processes/contract-process/#step-2-vendor-grouping-logic","title":"Step 2: Vendor Grouping Logic","text":"<p>Process: 1. Select all items from <code>morddt</code> where <code>conf_no</code> matches 2. Group by <code>vendor_no</code> field 3. Create one contract per vendor</p> <p>Code Reference: <code>uwcontract.prg</code> (lines 18-23)</p> <p>SQL Logic: <pre><code>SELECT mconthd.cont_no, mconthd.conf_no, mconthd.date, mconthd.vendor_no, ...\nFROM  baitin!mconthd INNER JOIN baitin!mcontdt \n   ON  mconthd.cont_no = mcontdt.cont_no\n   where alltrim(mconthd.cont_no) == alltrim(pw_cont_no)\n</code></pre></p>"},{"location":"source/02-business-processes/contract-process/#step-3-create-contract-header","title":"Step 3: Create Contract Header","text":"<p>Table: <code>mconthd</code> (Contract Header)</p> <p>Fields Created: - <code>cont_no</code> - Contract number (generated) - <code>conf_no</code> - Order Confirmation number (from OC) - <code>date</code> - Contract date - <code>vendor_no</code> - Vendor number (from grouped items) - <code>payment</code> - Payment terms - <code>remark</code> - Remarks (memo) - <code>req_date_fr</code> - Required date from - <code>req_date_to</code> - Required date to - <code>cur_code</code> - Currency code - <code>ship_to</code> - Ship to location</p> <p>Code Reference: <code>uwcontract.prg</code> (lines 18-23, 35-48)</p>"},{"location":"source/02-business-processes/contract-process/#step-4-copy-oc-items-to-contract","title":"Step 4: Copy OC Items to Contract","text":"<p>Tables: <code>morddt</code> \u2192 <code>mcontdt</code></p> <p>Fields Copied: - <code>item_no</code> - Item number - <code>qty</code> - Quantity - <code>price</code> - Price (may use cost from OE) - <code>desc_memo</code> - Description memo - <code>item_memo</code> - Item memo - <code>conf_no</code> - OC number (reference) - <code>head</code> - Head item flag (for BOM)</p> <p>Code Reference: <code>uordcont.prg</code> (lines 58-79), <code>uwcontract.prg</code> (lines 35-48)</p>"},{"location":"source/02-business-processes/contract-process/#step-5-bom-propagation","title":"Step 5: BOM Propagation","text":"<p>Process: 1. Check if OC item has BOM 2. If yes, propagate BOM to contract 3. Calculate sub-item quantities</p> <p>Quantity Calculation: <pre><code>SELECT sum(qty) as total_qty\nFROM baitin!mprodbom \nWHERE alltrim(Mprodbom.item_no) == alltrim(mcontdt.item_no)\n\nif sum_qty.total_qty &gt; 0\n    w_head_item = mcontdt.item_no\n    w_head_qty = mcontdt.qty\n    select mcontdt\n    skip\n    do while mcontdt.head = .f.\n        select mprodbom\n        locate for alltrim(mprodbom.item_no)==alltrim(w_head_item) and;\n                    alltrim(mprodbom.sub_item)==alltrim(mcontdt.item_no)\n        select mcontdt        \n        replace mcontdt.qty with w_head_qty * mprodbom.qty / sum_qty.total_qty\n        skip\n    enddo     \nendif\n</code></pre></p> <p>Code Reference: <code>uordcont.prg</code> (lines 63-79)</p> <p>Note: Uses same logic as OC BOM calculation, but applies to <code>mcontdt</code> instead of <code>morddt</code></p>"},{"location":"source/02-business-processes/contract-process/#vendor-grouping-logic","title":"Vendor Grouping Logic","text":""},{"location":"source/02-business-processes/contract-process/#grouping-criteria","title":"Grouping Criteria","text":"<p>Primary: <code>vendor_no</code> from <code>morddt</code></p> <p>Process: 1. Select all <code>morddt</code> records for OC 2. Group by <code>vendor_no</code> 3. Create one <code>mconthd</code> per unique vendor 4. Copy all items for that vendor to <code>mcontdt</code></p>"},{"location":"source/02-business-processes/contract-process/#multiple-contracts-per-oc","title":"Multiple Contracts per OC","text":"<p>Result: - One OC can generate multiple contracts - Each contract contains items from one vendor - All contracts reference same <code>conf_no</code></p> <p>Example: - OC has items from Vendor A and Vendor B - Result: 2 contracts (one per vendor) - Both contracts have <code>conf_no</code> = OC number</p>"},{"location":"source/02-business-processes/contract-process/#payment-terms-handling","title":"Payment Terms Handling","text":""},{"location":"source/02-business-processes/contract-process/#payment-terms-source","title":"Payment Terms Source","text":"<p>Sources: 1. Vendor default terms (from <code>mvendor</code>) 2. Contract-specific terms (user input) 3. System default terms</p>"},{"location":"source/02-business-processes/contract-process/#payment-terms-field","title":"Payment Terms Field","text":"<p>Field: <code>mconthd.payment</code></p> <p>Values: - Payment term codes (from <code>zpayterm</code>) - Free-form text - Payment term descriptions</p> <p>Code Reference: <code>uwcontract.prg</code> (line 44)</p>"},{"location":"source/02-business-processes/contract-process/#contract-amendment-process","title":"Contract Amendment Process","text":""},{"location":"source/02-business-processes/contract-process/#amendment-table","title":"Amendment Table","text":"<p>Table: <code>mcontamdrmk</code> (Contract Amendment Remark)</p> <p>Purpose: Track contract amendments and changes</p> <p>Process: 1. User creates amendment 2. System records amendment details 3. Amendment linked to original contract</p> <p>Form: <code>pcontamdrmk</code> (Print Contract Amendment)</p>"},{"location":"source/02-business-processes/contract-process/#delivery-date-handling","title":"Delivery Date Handling","text":""},{"location":"source/02-business-processes/contract-process/#date-fields","title":"Date Fields","text":"<p>Fields: - <code>req_date_fr</code> - Required date from - <code>req_date_to</code> - Required date to</p> <p>Source: - From OE delivery dates - From OC requirements - User input</p> <p>Usage: - Vendor delivery scheduling - Shipping coordination - Invoice timing</p>"},{"location":"source/02-business-processes/contract-process/#contract-numbering","title":"Contract Numbering","text":""},{"location":"source/02-business-processes/contract-process/#number-generation","title":"Number Generation","text":"<p>Methods: 1. Sequential: Generate next contract number 2. OC-based: Use OC number as base 3. Vendor-based: Include vendor code 4. Custom: User-defined format</p>"},{"location":"source/02-business-processes/contract-process/#number-format","title":"Number Format","text":"<ul> <li>Format varies by company</li> <li>May include vendor codes</li> <li>Must be unique per vendor</li> </ul>"},{"location":"source/02-business-processes/contract-process/#data-transformation-rules","title":"Data Transformation Rules","text":""},{"location":"source/02-business-processes/contract-process/#oc-to-contract-field-mappings","title":"OC to Contract Field Mappings","text":"OC Field (morddt) Contract Field (mcontdt) Transformation <code>conf_no</code> <code>conf_no</code> Direct copy (reference) <code>item_no</code> <code>item_no</code> Direct copy <code>qty</code> <code>qty</code> Direct copy (may adjust for BOM) <code>price</code> <code>price</code> May use cost from OE instead <code>head</code> <code>head</code> Direct copy (for BOM)"},{"location":"source/02-business-processes/contract-process/#price-transformation","title":"Price Transformation","text":"<p>Option 1: Use OC price directly Option 2: Use cost from OE (<code>moe.cost</code>) Option 3: Use vendor-specific pricing</p> <p>Code Reference: <code>uordcont.prg</code> (line 61) - uses <code>voe1.cost</code> for contract price</p>"},{"location":"source/02-business-processes/contract-process/#contract-updates","title":"Contract Updates","text":""},{"location":"source/02-business-processes/contract-process/#update-process","title":"Update Process","text":"<p>Form/Program: Contract entry forms</p> <p>Allowed Updates: - Quantities - Prices - Delivery dates - Payment terms - Remarks</p>"},{"location":"source/02-business-processes/contract-process/#bom-recalculation","title":"BOM Recalculation","text":"<p>If quantities change: - BOM quantities recalculated - Sub-item quantities adjusted proportionally - Same logic as OC updates</p>"},{"location":"source/02-business-processes/contract-process/#contract-printing","title":"Contract Printing","text":""},{"location":"source/02-business-processes/contract-process/#contract-reports","title":"Contract Reports","text":"<ol> <li>Contract Report (2018):</li> <li>Form: <code>pcontract@_2018</code></li> <li>Standard contract format</li> <li> <p>Includes header and details</p> </li> <li> <p>Contract Qty Breakdown:</p> </li> <li>Form: <code>pcontbrk</code></li> <li> <p>Shows quantity breakdowns by vendor</p> </li> <li> <p>Contract Amendment:</p> </li> <li>Form: <code>pcontamdrmk</code></li> <li> <p>Shows amendment details</p> </li> <li> <p>Item Description for Carton:</p> </li> <li>Form: <code>pitname</code></li> <li>Item descriptions for carton making</li> </ol>"},{"location":"source/02-business-processes/contract-process/#vendor-information","title":"Vendor Information","text":""},{"location":"source/02-business-processes/contract-process/#vendor-lookup","title":"Vendor Lookup","text":"<p>Process: 1. Get <code>vendor_no</code> from grouped items 2. Look up vendor in <code>mvendor</code> 3. Copy vendor details to contract display</p> <p>Code Reference: <code>uwcontract.prg</code> (lines 16, 25-26, 54-59)</p> <p>Vendor Fields Used: - <code>vendor_no</code> - <code>ename</code> - English name - <code>addr1-4</code> - Address lines</p>"},{"location":"source/02-business-processes/contract-process/#currency-handling","title":"Currency Handling","text":""},{"location":"source/02-business-processes/contract-process/#currency-code","title":"Currency Code","text":"<p>Field: <code>mconthd.cur_code</code></p> <p>Source: - From OC currency - From vendor default - User input</p> <p>Usage: - Contract pricing - Payment processing - Reporting</p>"},{"location":"source/02-business-processes/contract-process/#contract-status","title":"Contract Status","text":""},{"location":"source/02-business-processes/contract-process/#status-values","title":"Status Values","text":"<p>Initial: Created After Vendor Confirmation: Confirmed After Shipping: Shipped After Invoice: Invoiced</p>"},{"location":"source/02-business-processes/contract-process/#status-transitions","title":"Status Transitions","text":"<pre><code>Created \u2192 Sent \u2192 Confirmed \u2192 Shipped \u2192 Invoiced\n</code></pre>"},{"location":"source/02-business-processes/contract-process/#error-handling","title":"Error Handling","text":""},{"location":"source/02-business-processes/contract-process/#generation-errors","title":"Generation Errors","text":"<p>No Items: - Error: OC has no items - Action: Cannot generate contract</p> <p>No Vendor: - Error: Items have no vendor - Action: Cannot generate contract</p> <p>BOM Errors: - Error: BOM data inconsistent - Action: Use default quantities or error</p>"},{"location":"source/02-business-processes/contract-process/#summary","title":"Summary","text":"<p>The Contract process generates purchase orders to vendors from confirmed customer orders. It groups items by vendor, handles BOM propagation, sets payment terms and delivery dates, and creates vendor-specific contracts. The process supports multiple contracts per OC when items come from different vendors.</p>"},{"location":"source/02-business-processes/delivery-note-process/","title":"Delivery Note Process","text":""},{"location":"source/02-business-processes/delivery-note-process/#overview","title":"Overview","text":"<p>Delivery Notes (DN) are shipping documents that track delivery of goods. They are created from Shipping Orders (SO) and serve as the basis for invoice generation.</p>"},{"location":"source/02-business-processes/delivery-note-process/#dn-creation-flow","title":"DN Creation Flow","text":""},{"location":"source/02-business-processes/delivery-note-process/#dn-creation-detailed-flow","title":"DN Creation Detailed Flow","text":"<pre><code>flowchart TD\n    Start([DN Creation Start]) --&gt; UserSelectSource[User Selects Source Document&lt;br/&gt;SO so_no OR&lt;br/&gt;Existing DN dn_no]\n    UserSelectSource --&gt; CheckSourceType{Source&lt;br/&gt;Type?}\n\n    CheckSourceType --&gt;|SO| SelectSOItems[SELECT FROM mso&lt;br/&gt;WHERE so_no = selected SO&lt;br/&gt;Retrieve SO items&lt;br/&gt;Get quantities, item_no]\n    CheckSourceType --&gt;|DN| SelectDNItems[SELECT FROM mdndt&lt;br/&gt;WHERE dn_no = selected DN&lt;br/&gt;Retrieve DN items&lt;br/&gt;for copy/amendment]\n\n    SelectSOItems --&gt; GetCustomerInfo[Get Customer Information&lt;br/&gt;FROM mcustom&lt;br/&gt;WHERE cust_no = SO customer&lt;br/&gt;Get customer details]\n    SelectDNItems --&gt; GetCustomerInfo\n\n    GetCustomerInfo --&gt; DisplayItems[Display Items in Form&lt;br/&gt;Show quantities from SO&lt;br/&gt;User can adjust quantities]\n\n    DisplayItems --&gt; UserEnterDetails[User Enters DN Details&lt;br/&gt;DN Date&lt;br/&gt;Delivery Address&lt;br/&gt;Delivery Date&lt;br/&gt;Remarks]\n\n    UserEnterDetails --&gt; UserConfirm{User&lt;br/&gt;Confirms&lt;br/&gt;Creation?}\n    UserConfirm --&gt;|Cancel| EndCancel[Cancel DN Creation]\n    UserConfirm --&gt;|Yes| GenerateDNNo[Generate DN Number&lt;br/&gt;dn_no&lt;br/&gt;Sequential or custom format]\n\n    GenerateDNNo --&gt; CreateDNHeader[APPEND BLANK to mdnhd&lt;br/&gt;Create DN Header]\n\n    CreateDNHeader --&gt; SetDNHeaderFields[REPLACE mdnhd.dn_no = dn_no&lt;br/&gt;REPLACE mdnhd.date = DN date&lt;br/&gt;REPLACE mdnhd.cust_no = cust_no&lt;br/&gt;REPLACE mdnhd.so_no = so_no&lt;br/&gt;if from SO]\n\n    SetDNHeaderFields --&gt; SetDNHeaderAddr[REPLACE mdnhd.del_addr1-4&lt;br/&gt;= delivery address&lt;br/&gt;REPLACE mdnhd.del_date&lt;br/&gt;= delivery date]\n\n    SetDNHeaderAddr --&gt; ItemLoop{For Each&lt;br/&gt;Item from Source}\n\n    ItemLoop --&gt;|No More| ProcessBreakdown\n    ItemLoop --&gt;|Yes| CreateDNDetail[APPEND BLANK to mdndt&lt;br/&gt;Create DN Detail Record]\n\n    CreateDNDetail --&gt; SetDNDetailFields[REPLACE mdndt.dn_no = dn_no&lt;br/&gt;REPLACE mdndt.item_no = item_no&lt;br/&gt;REPLACE mdndt.qty = qty&lt;br/&gt;REPLACE mdndt.unit = unit]\n\n    SetDNDetailFields --&gt; SetDNDetailSource[REPLACE mdndt.so_no = so_no&lt;br/&gt;if from SO&lt;br/&gt;REPLACE mdndt.oc_no = oc_no&lt;br/&gt;REPLACE mdndt.conf_no = conf_no]\n\n    SetDNDetailSource --&gt; GetItemDesc[SELECT FROM mitem&lt;br/&gt;LOCATE FOR item_no&lt;br/&gt;Get item description&lt;br/&gt;Get packing info]\n\n    GetItemDesc --&gt; SetItemInfo[REPLACE mdndt.item_desc&lt;br/&gt;= item description&lt;br/&gt;REPLACE mdndt.ctn = carton qty&lt;br/&gt;REPLACE mdndt.pack_pc = packing]\n\n    SetItemInfo --&gt; SetAuditFields[REPLACE mdndt.cre_date = DATE&lt;br/&gt;REPLACE mdndt.cre_user = sysUserId&lt;br/&gt;REPLACE mdndt.user_id = sysUserId]\n\n    SetAuditFields --&gt; NextItem[Next Item&lt;br/&gt;Continue Loop]\n    NextItem --&gt; ItemLoop\n\n    ProcessBreakdown[Process Quantity Breakdown] --&gt; CheckHasBreakdown{Has Quantity&lt;br/&gt;Breakdown?}\n\n    CheckHasBreakdown --&gt;|Yes| SelectBreakdownSource[SELECT FROM mqtybrk&lt;br/&gt;WHERE oe_no = linked OE&lt;br/&gt;AND item_no = item_no&lt;br/&gt;Get breakdown records]\n\n    SelectBreakdownSource --&gt; BreakdownLoop{For Each&lt;br/&gt;Breakdown&lt;br/&gt;Record}\n\n    BreakdownLoop --&gt;|More| CreateDNBreakdown[APPEND BLANK to mdnbrk&lt;br/&gt;REPLACE dn_no, item_no&lt;br/&gt;port, qty, po_no&lt;br/&gt;del_from, del_to]\n\n    CreateDNBreakdown --&gt; BreakdownLoop\n    BreakdownLoop --&gt;|No More| Complete\n    CheckHasBreakdown --&gt;|No| Complete\n\n    Complete[DN Creation Complete] --&gt; EndCancel\n    EndCancel --&gt; End([Process Complete])</code></pre> <p>Code Reference: Form <code>idn</code> - Delivery Note creation form</p>"},{"location":"source/02-business-processes/delivery-note-process/#loading-masteradvice-flow","title":"Loading Master/Advice Flow","text":""},{"location":"source/02-business-processes/delivery-note-process/#loading-masteradvice-detailed-flow","title":"Loading Master/Advice Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Loading Master/Advice Start]) --&gt; UserSelectDN[User Selects DN Number&lt;br/&gt;or Multiple DNs&lt;br/&gt;for Loading Coordination]\n\n    UserSelectDN --&gt; CreateLoadingMaster[Create Loading Master Record&lt;br/&gt;Loading sequence number&lt;br/&gt;or loading date]\n\n    CreateLoadingMaster --&gt; RetrieveDNs[Retrieve Selected DNs&lt;br/&gt;SELECT FROM mdnhd&lt;br/&gt;WHERE dn_no IN selected list&lt;br/&gt;Get DN details]\n\n    RetrieveDNs --&gt; GroupByDeliveryDate[Group DNs by&lt;br/&gt;Delivery Date&lt;br/&gt;or Ship Date]\n\n    GroupByDeliveryDate --&gt; CreateLoadingPlan[Create Loading Plan&lt;br/&gt;Allocate cartons to containers&lt;br/&gt;Calculate total weight, cube&lt;br/&gt;Plan loading sequence]\n\n    CreateLoadingPlan --&gt; GenerateAdvice[Generate Loading Advice&lt;br/&gt;Document for warehouse&lt;br/&gt;Container allocation&lt;br/&gt;Loading instructions]\n\n    GenerateAdvice --&gt; DisplayAdvice[Display Loading Advice&lt;br/&gt;Show DN list&lt;br/&gt;Container assignments&lt;br/&gt;Loading sequence]\n\n    DisplayAdvice --&gt; UserConfirm{User&lt;br/&gt;Confirms&lt;br/&gt;Loading Plan?}\n\n    UserConfirm --&gt;|Cancel| EndCancel[Cancel Loading Plan]\n    UserConfirm --&gt;|Yes| UpdateDNStatus[Update DN Status&lt;br/&gt;REPLACE mdnhd.loading_status&lt;br/&gt;= Assigned or Loading&lt;br/&gt;REPLACE mdnhd.loading_no&lt;br/&gt;= loading master number]\n\n    UpdateDNStatus --&gt; GenerateReport[Generate Loading Advice Report&lt;br/&gt;Print or Save&lt;br/&gt;for warehouse use]\n\n    GenerateReport --&gt; Complete[Loading Plan Complete]\n    EndCancel --&gt; End\n    Complete --&gt; End([Process Complete])</code></pre> <p>Code Reference: Loading coordination forms and procedures</p>"},{"location":"source/02-business-processes/delivery-note-process/#dn-to-invoice-link","title":"DN to Invoice Link","text":""},{"location":"source/02-business-processes/delivery-note-process/#relationship","title":"Relationship","text":"<p>DN \u2192 Invoice: - <code>mdnhd.dn_no</code> can be used as source for invoice creation - DN quantities used for invoicing - Invoice references DN in <code>minvdt</code> or <code>minvhd</code></p>"},{"location":"source/02-business-processes/delivery-note-process/#dn-status","title":"DN Status","text":""},{"location":"source/02-business-processes/delivery-note-process/#status-values","title":"Status Values","text":"<p>Created: DN created, not yet loaded Loading: DN assigned to loading plan Shipped: Items shipped Delivered: Items delivered to customer Invoiced: Invoice created from DN</p>"},{"location":"source/02-business-processes/delivery-note-process/#status-transitions","title":"Status Transitions","text":"<pre><code>Created \u2192 Loading \u2192 Shipped \u2192 Delivered \u2192 Invoiced\n</code></pre>"},{"location":"source/02-business-processes/delivery-note-process/#dn-breakdown-processing","title":"DN Breakdown Processing","text":""},{"location":"source/02-business-processes/delivery-note-process/#purpose","title":"Purpose","text":"<p>Track quantities by port, PO, or other breakdown criteria within DN items.</p>"},{"location":"source/02-business-processes/delivery-note-process/#processing","title":"Processing","text":"<p>DN breakdowns (<code>mdnbrk</code>) are typically copied from OE quantity breakdowns (<code>mqtybrk</code>) when DN is created from SO that links back to OE.</p>"},{"location":"source/02-business-processes/delivery-note-process/#summary","title":"Summary","text":"<p>The Delivery Note process creates shipping documentation for goods delivery. It links SO to actual delivery tracking, supports quantity breakdowns, and serves as source for invoice generation. Loading coordination helps manage warehouse operations and container allocation.</p>"},{"location":"source/02-business-processes/invoice-process/","title":"Invoice Process","text":""},{"location":"source/02-business-processes/invoice-process/#overview","title":"Overview","text":"<p>Invoices are customer billing documents created from Shipping Orders (SO) or Delivery Notes (DN). They include packing lists, support multi-page formats, and can be exported to Excel or PDF.</p>"},{"location":"source/02-business-processes/invoice-process/#invoice-creation-from-sodn","title":"Invoice Creation from SO/DN","text":""},{"location":"source/02-business-processes/invoice-process/#source-documents","title":"Source Documents","text":"<p>Primary Sources: 1. Shipping Order (SO) - <code>mso.so_no</code> 2. Delivery Note (DN) - <code>mdnhd.dn_no</code></p>"},{"location":"source/02-business-processes/invoice-process/#creation-process","title":"Creation Process","text":"<p>Form: <code>iinvhd@</code> (Input Invoice New)</p>"},{"location":"source/02-business-processes/invoice-process/#invoice-creation-from-sodn-detailed-flow","title":"Invoice Creation from SO/DN Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Invoice Creation Start]) --&gt; UserSelectSource[User Selects Source Document&lt;br/&gt;SO so_no OR&lt;br/&gt;DN dn_no]\n    UserSelectSource --&gt; CheckSourceType{Source&lt;br/&gt;Type?}\n\n    CheckSourceType --&gt;|SO| SelectSOItems[SELECT FROM mso&lt;br/&gt;WHERE so_no = selected SO&lt;br/&gt;Retrieve SO items&lt;br/&gt;Get quantities, item_no]\n    CheckSourceType --&gt;|DN| SelectDNItems[SELECT FROM mdndt&lt;br/&gt;WHERE dn_no = selected DN&lt;br/&gt;Retrieve DN items&lt;br/&gt;Get quantities, item_no]\n\n    SelectSOItems --&gt; GetCustomerInfo[Get Customer Information&lt;br/&gt;FROM mcustom&lt;br/&gt;WHERE cust_no = SO/DN customer&lt;br/&gt;Get customer details]\n    SelectDNItems --&gt; GetCustomerInfo\n\n    GetCustomerInfo --&gt; DisplayItems[Display Items in Form&lt;br/&gt;Show quantities&lt;br/&gt;Show prices from source&lt;br/&gt;User can adjust]\n\n    DisplayItems --&gt; UserEnterDetails[User Enters Invoice Details&lt;br/&gt;Invoice Date&lt;br/&gt;Delivery Date&lt;br/&gt;Shipment Info&lt;br/&gt;Loading Port&lt;br/&gt;Destination]\n\n    UserEnterDetails --&gt; UserConfirm{User&lt;br/&gt;Confirms&lt;br/&gt;Creation?}\n    UserConfirm --&gt;|Cancel| EndCancel[Cancel Invoice Creation]\n    UserConfirm --&gt;|Yes| GenerateInvNo[Generate Invoice Number&lt;br/&gt;inv_no&lt;br/&gt;Sequential or custom format]\n\n    GenerateInvNo --&gt; CreateInvHeader[APPEND BLANK to minvhd&lt;br/&gt;Create Invoice Header]\n\n    CreateInvHeader --&gt; SetInvHeaderFields[REPLACE minvhd.inv_no = inv_no&lt;br/&gt;REPLACE minvhd.cust_no = cust_no&lt;br/&gt;REPLACE minvhd.date = invoice date&lt;br/&gt;REPLACE minvhd.del_date = delivery date]\n\n    SetInvHeaderFields --&gt; SetInvHeaderSource[REPLACE minvhd.oc_no = oc_no&lt;br/&gt;if from OC&lt;br/&gt;REPLACE minvhd.ship = ship info&lt;br/&gt;REPLACE minvhd.loading = loading port&lt;br/&gt;REPLACE minvhd.dest = destination]\n\n    SetInvHeaderSource --&gt; SetInvHeaderAddr[REPLACE minvhd.cust_name&lt;br/&gt;= customer name&lt;br/&gt;REPLACE minvhd.addr_1-4&lt;br/&gt;= customer address]\n\n    SetInvHeaderAddr --&gt; ItemLoop{For Each&lt;br/&gt;Item from Source}\n\n    ItemLoop --&gt;|No More| Complete\n    ItemLoop --&gt;|Yes| CreateInvDetail[APPEND BLANK to minvdt&lt;br/&gt;Create Invoice Detail Record]\n\n    CreateInvDetail --&gt; SetInvDetailFields[REPLACE minvdt.inv_no = inv_no&lt;br/&gt;REPLACE minvdt.item_no = item_no&lt;br/&gt;REPLACE minvdt.qty = qty&lt;br/&gt;REPLACE minvdt.price = price]\n\n    SetInvDetailFields --&gt; SetInvDetailSource[REPLACE minvdt.so_no = so_no&lt;br/&gt;if from SO&lt;br/&gt;REPLACE minvdt.oc_no = oc_no&lt;br/&gt;REPLACE minvdt.conf_no = conf_no]\n\n    SetInvDetailSource --&gt; GetItemDesc[SELECT FROM mitem&lt;br/&gt;LOCATE FOR item_no&lt;br/&gt;Get item description&lt;br/&gt;Get packing info]\n\n    GetItemDesc --&gt; SetItemInfo[REPLACE minvdt.desp_memo&lt;br/&gt;= item description memo&lt;br/&gt;REPLACE minvdt.ctn = carton qty&lt;br/&gt;REPLACE minvdt.qctn = qty per carton]\n\n    SetItemInfo --&gt; CalcWeights[Calculate Net Weight&lt;br/&gt;Calculate Gross Weight&lt;br/&gt;Calculate Cube/Dimensions&lt;br/&gt;REPLACE minvdt.net, wt, cube, dim]\n\n    CalcWeights --&gt; NextItem[Next Item&lt;br/&gt;Continue Loop]\n    NextItem --&gt; ItemLoop\n\n    Complete[Invoice Creation Complete] --&gt; EndCancel\n    EndCancel --&gt; End([Process Complete])</code></pre> <p>Code Reference: Form <code>iinvhd@</code> - Invoice creation logic</p>"},{"location":"source/02-business-processes/invoice-process/#invoice-table-structure","title":"Invoice Table Structure","text":"<p>Header Table: <code>minvhd</code> (Invoice Header)</p> <p>Key Fields: - <code>inv_no</code> - Invoice number (Primary Key) - <code>cust_no</code> - Customer number (links to mcustom) - <code>date</code> - Invoice date - <code>oc_no</code> - Order Confirmation number (links to mordhd) - <code>ship</code> - Shipment information - <code>del_date</code> - Delivery date</p> <p>Detail Table: <code>minvdt</code> (Invoice Detail)</p> <p>Key Fields: - <code>inv_no</code> - Invoice number (links to minvhd) - <code>item_no</code> - Item number (links to mitem) - <code>qty</code> - Invoice quantity - <code>price</code> - Invoice price - <code>so_no</code> - Shipping Order number (links to mso) - <code>oc_no</code> - Order Confirmation number (links to mordhd)</p> <p>File Sizes: - <code>minvhd.dbf</code> - 93MB - <code>minvdt.dbf</code> - 123MB - <code>minvdt.FPT</code> - 178MB (large memo fields)</p>"},{"location":"source/02-business-processes/invoice-process/#packing-list-generation","title":"Packing List Generation","text":""},{"location":"source/02-business-processes/invoice-process/#packing-list-purpose","title":"Packing List Purpose","text":"<p>Purpose: Detailed list of items packed in cartons for shipping</p> <p>Form: <code>ppacklist_new</code> (Print Packing List New)</p>"},{"location":"source/02-business-processes/invoice-process/#packing-list-generation-detailed-flow","title":"Packing List Generation Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Packing List Generation]) --&gt; SelectInvoice[User Selects Invoice Number&lt;br/&gt;w_inv_no]\n    SelectInvoice --&gt; SelectInvHeader[SELECT FROM minvhd&lt;br/&gt;WHERE inv_no = w_inv_no&lt;br/&gt;INTO CURSOR minvhd_cursor&lt;br/&gt;Get invoice header info]\n\n    SelectInvHeader --&gt; SelectInvDetail[SELECT FROM minvdt&lt;br/&gt;WHERE inv_no = w_inv_no&lt;br/&gt;AND !EMPTY item_no&lt;br/&gt;INTO CURSOR minvdt_cursor&lt;br/&gt;Get invoice detail items]\n\n    SelectInvDetail --&gt; ExtractDespMemo[Extract Description Memo&lt;br/&gt;ALLTRIM MLINE minvdt.desp_memo,1,1&lt;br/&gt;Get first line of memo]\n    ExtractDespMemo --&gt; JoinHeaderDetail[INNER JOIN minvhd_cursor&lt;br/&gt;with minvdt_cursor&lt;br/&gt;ON inv_no&lt;br/&gt;INTO CURSOR join_cursor]\n\n    JoinHeaderDetail --&gt; JoinCustomer[LEFT OUTER JOIN mcustom&lt;br/&gt;ON cust_no = cust_no&lt;br/&gt;Get customer weight unit&lt;br/&gt;wt_unit field]\n\n    JoinCustomer --&gt; CheckWeightUnit{Check mcustom&lt;br/&gt;wt_unit&lt;br/&gt;== 2?}\n    CheckWeightUnit --&gt;|Yes| ConvertWeight[Convert Weight to LBS&lt;br/&gt;net = net / 2.2&lt;br/&gt;wt = wt / 2.2]\n    CheckWeightUnit --&gt;|No| KeepWeight[Keep Weight as is&lt;br/&gt;net = net&lt;br/&gt;wt = wt]\n\n    ConvertWeight --&gt; CreateTempTable\n    KeepWeight --&gt; CreateTempTable[SELECT INTO TABLE&lt;br/&gt;temp_packlist_table&lt;br/&gt;Include all fields from join&lt;br/&gt;with converted weights]\n\n    CreateTempTable --&gt; AppendToResult[SELECT wpacklist&lt;br/&gt;ZAP if exists&lt;br/&gt;APPEND FROM temp_packlist_table]\n    AppendToResult --&gt; Cleanup[USE temp tables&lt;br/&gt;DELETE FILE temp_packlist_table.*&lt;br/&gt;Close cursors]\n    Cleanup --&gt; GenerateReport[Generate Packing List Report&lt;br/&gt;Display or Print]\n    GenerateReport --&gt; End([Packing List Complete])</code></pre> <p>Code Reference: <code>source/uwpacklist.prg</code> (packing list generation logic)</p>"},{"location":"source/02-business-processes/invoice-process/#packing-list-logic","title":"Packing List Logic","text":"<p>Carton Breakdown: - Items grouped by carton number - Quantities per carton - Total cartons calculated - Carton dimensions and weight - Weight unit conversion (kg to lbs if wt_unit = 2)</p>"},{"location":"source/02-business-processes/invoice-process/#packing-list-formats","title":"Packing List Formats","text":"<p>Standard Format: <code>ppacklist_new</code> Spencer Format: <code>ppacklist_xls_spencer</code> Excel Format: <code>ppacklist_xls</code></p>"},{"location":"source/02-business-processes/invoice-process/#multi-page-invoice-logic","title":"Multi-Page Invoice Logic","text":""},{"location":"source/02-business-processes/invoice-process/#page-management","title":"Page Management","text":"<p>Function: <code>Pinv()</code> in <code>pinv.prg</code></p> <p>Purpose: Manage multi-page invoices with page arrays</p>"},{"location":"source/02-business-processes/invoice-process/#multi-page-invoice-logic-detailed-flow","title":"Multi-Page Invoice Logic Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Multi-Page Invoice Start]) --&gt; CheckFunctionType{Function Type&lt;br/&gt;cType?}\n\n    CheckFunctionType --&gt;|PA| InitializePageArray[cType == PA&lt;br/&gt;Initialize Page Array]\n    CheckFunctionType --&gt;|CP| CheckPageNumber[cType == CP&lt;br/&gt;Check/Set Page Number]\n    CheckFunctionType --&gt;|CT| ReplaceCarton[cType == CT&lt;br/&gt;Replace Carton Number]\n\n    InitializePageArray --&gt; SetPageCount[pa_cnt = input&lt;br/&gt;if pa_cnt = 0, set to 1]\n    SetPageCount --&gt; DimArray[DIMENSION Page_array pa_cnt,2&lt;br/&gt;Create 2D array]\n    DimArray --&gt; InitializeArray[DO WHILE narray_cnt &gt; 0&lt;br/&gt;page_array narray_cnt,1 = empty&lt;br/&gt;page_array narray_cnt,2 = 0&lt;br/&gt;narray_cnt = narray_cnt - 1]\n    InitializeArray --&gt; ReturnInit[cOutPut = space&lt;br/&gt;Return]\n\n    CheckPageNumber --&gt; SetSearchVars[nloop_cnt = 1&lt;br/&gt;lfound_flag = .F.]\n    SetSearchVars --&gt; SearchLoop{Search Page Array&lt;br/&gt;nloop_cnt &lt;= pa_cnt?}\n\n    SearchLoop --&gt;|More| CheckPageID{page_array nloop_cnt,1&lt;br/&gt;== ALLTRIM x&lt;br/&gt;page identifier?}\n    CheckPageID --&gt;|Yes| SetFound[lfound_flag = .T.&lt;br/&gt;EXIT loop]\n    CheckPageID --&gt;|No| IncrLoop[nloop_cnt = nloop_cnt + 1]\n    IncrLoop --&gt; SearchLoop\n\n    SetFound --&gt; CheckFound{Page ID&lt;br/&gt;Found?}\n    SearchLoop --&gt;|No More| CheckFound\n\n    CheckFound --&gt;|Yes| ComparePage{input page number&lt;br/&gt;&lt; page_array nloop_cnt,2&lt;br/&gt;max page?}\n    ComparePage --&gt;|Yes| UpdateMaxPage[page_array nloop_cnt,2&lt;br/&gt;= input&lt;br/&gt;Update max page]\n    ComparePage --&gt;|No| UseMaxPage[input = page_array nloop_cnt,2&lt;br/&gt;Use existing max]\n\n    CheckFound --&gt;|No| FindEmptySlot[nloop_cnt = nloop_cnt - 1&lt;br/&gt;Search backwards for empty slot]\n    FindEmptySlot --&gt; BackwardLoop{nloop_cnt &gt; 0?}\n\n    BackwardLoop --&gt;|Yes| CheckSlotEmpty{!EMPTY&lt;br/&gt;page_array nloop_cnt,1?}\n    CheckSlotEmpty --&gt;|Yes| SetNextSlot[page_array nloop_cnt + 1,1&lt;br/&gt;= ALLTRIM x&lt;br/&gt;page_array nloop_cnt + 1,2 = input&lt;br/&gt;EXIT]\n    CheckSlotEmpty --&gt;|No| CheckFirstSlot{nloop_cnt&lt;br/&gt;== 1?}\n    CheckFirstSlot --&gt;|Yes| SetFirstSlot[page_array 1,1 = ALLTRIM x&lt;br/&gt;page_array 1,2 = input&lt;br/&gt;EXIT]\n    CheckFirstSlot --&gt;|No| DecrLoop[nloop_cnt = nloop_cnt - 1]\n    DecrLoop --&gt; BackwardLoop\n    BackwardLoop --&gt;|No| ReturnPage\n\n    UpdateMaxPage --&gt; ReturnPage[cOutPut = input&lt;br/&gt;Return page number]\n    UseMaxPage --&gt; ReturnPage\n    SetNextSlot --&gt; ReturnPage\n    SetFirstSlot --&gt; ReturnPage\n\n    ReplaceCarton --&gt; SetCartonVar[w_carton = ALLTRIM STR x&lt;br/&gt;w_str = input text]\n    SetCartonVar --&gt; InitCounter[i = 1&lt;br/&gt;Start character loop]\n    InitCounter --&gt; CharLoop{i &lt;= LEN w_str?}\n\n    CharLoop --&gt;|Yes| GetChar[w_cut = SUBSTR w_str, i, 1&lt;br/&gt;Get current character]\n    GetChar --&gt; CheckExclamation{w_cut&lt;br/&gt;== !?}\n    CheckExclamation --&gt;|Yes| ExtractParts[w_char1 = SUBSTR w_str, 1, i-1&lt;br/&gt;w_char = changechar SUBSTR w_str, i, 2&lt;br/&gt;w_char2 = SUBSTR w_str, i+2]\n    ExtractParts --&gt; ReplaceStr[w_str = w_char1 + w_char + w_char2&lt;br/&gt;i = i + LEN w_char - 1]\n    ReplaceStr --&gt; IncrCounter[i = i + 1]\n    CheckExclamation --&gt;|No| IncrCounter\n    IncrCounter --&gt; CharLoop\n    CharLoop --&gt;|No| ReturnCarton[cOutPut = w_str&lt;br/&gt;Return text with carton replaced]\n\n    ReturnInit --&gt; End\n    ReturnPage --&gt; End\n    ReturnCarton --&gt; End\n    End([Function Complete])</code></pre>"},{"location":"source/02-business-processes/invoice-process/#page-array-structure","title":"Page Array Structure","text":"<p>Array: <code>Page_array(pa_cnt, 2)</code></p> <p>Fields: - <code>Page_array(n, 1)</code> - Page identifier (string) - <code>Page_array(n, 2)</code> - Maximum page number (numeric)</p> <p>Usage: - Track which items on which page - Calculate page breaks - Manage page numbering - Handle multiple items per page identifier</p>"},{"location":"source/02-business-processes/invoice-process/#carton-replacement-function","title":"Carton Replacement Function","text":"<p>Function: <code>changechar()</code> in <code>pinv.prg</code></p> <p>Purpose: Replace \"!C\" with carton number in text</p> <pre><code>flowchart TD\n    Start([changechar Function]) --&gt; CheckParam{cVar ==&lt;br/&gt;!C?}\n    CheckParam --&gt;|Yes| ReturnCarton[RETURN ALLTRIM w_carton&lt;br/&gt;Replace !C with carton number]\n    CheckParam --&gt;|No| ReturnError[RETURN Error&lt;br/&gt;Unsupported parameter]\n    ReturnCarton --&gt; End\n    ReturnError --&gt; End\n    End([Return])</code></pre> <p>Code Reference: <code>source/pinv.prg</code> (lines 1-88)</p>"},{"location":"source/02-business-processes/invoice-process/#carton-breakdown","title":"Carton Breakdown","text":""},{"location":"source/02-business-processes/invoice-process/#carton-calculation","title":"Carton Calculation","text":"<p>Process: 1. Calculate items per carton from packing 2. Group items by carton 3. Calculate total cartons 4. Generate carton-level details</p>"},{"location":"source/02-business-processes/invoice-process/#carton-information","title":"Carton Information","text":"<p>Fields: - Carton number - Items in carton - Quantity per carton - Carton weight - Carton dimensions</p>"},{"location":"source/02-business-processes/invoice-process/#export-formats","title":"Export Formats","text":""},{"location":"source/02-business-processes/invoice-process/#excel-export","title":"Excel Export","text":"<p>Form: <code>pinv_xls</code> (Print Invoice to XLS)</p> <p>Process: 1. Select invoice number 2. Generate Excel file 3. Include all invoice details 4. Format for customer use</p>"},{"location":"source/02-business-processes/invoice-process/#pdf-export","title":"PDF Export","text":"<p>Form: <code>pinv_pdf</code> (Print Invoice PDF)</p> <p>Process: 1. Generate invoice report 2. Convert to PDF format 3. Save or email PDF</p>"},{"location":"source/02-business-processes/invoice-process/#packing-list-export","title":"Packing List Export","text":"<p>Form: <code>ppacklist_xls</code> (Print Packing List to XLS)</p> <p>Process: 1. Generate packing list 2. Export to Excel format 3. Include carton breakdown</p>"},{"location":"source/02-business-processes/invoice-process/#shipment-advice","title":"Shipment Advice","text":""},{"location":"source/02-business-processes/invoice-process/#shipment-advice-report","title":"Shipment Advice Report","text":"<p>Form: <code>pshadvice</code> (Print Shipment Advice)</p> <p>Purpose: Document sent to customer before shipment</p> <p>Contents: - Shipment details - Item list - Shipping dates - Delivery information</p>"},{"location":"source/02-business-processes/invoice-process/#invoice-printing-export","title":"Invoice Printing &amp; Export","text":""},{"location":"source/02-business-processes/invoice-process/#invoice-printing-export-detailed-flow","title":"Invoice Printing &amp; Export Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Invoice Printing/Export Start]) --&gt; UserSelectInvoice[User Selects Invoice&lt;br/&gt;inv_no&lt;br/&gt;to Print/Export]\n    UserSelectInvoice --&gt; UserSelectFormat{User Selects&lt;br/&gt;Output&lt;br/&gt;Format?}\n\n    UserSelectFormat --&gt;|Standard Print| StandardPrint\n    UserSelectFormat --&gt;|PDF| PDFExport\n    UserSelectFormat --&gt;|Excel| ExcelExport\n    UserSelectFormat --&gt;|Packing List| PackingList\n\n    StandardPrint[Standard Invoice Print] --&gt; LoadInvoice[SELECT FROM minvhd&lt;br/&gt;WHERE inv_no = inv_no&lt;br/&gt;Load invoice header]\n    LoadInvoice --&gt; LoadInvoiceItems[SELECT FROM minvdt&lt;br/&gt;WHERE inv_no = inv_no&lt;br/&gt;Load invoice items]\n\n    LoadInvoiceItems --&gt; InitPageArray[Initialize Page Array&lt;br/&gt;DO Pinv PA, page_count&lt;br/&gt;Setup multi-page management]\n    InitPageArray --&gt; FormatInvoice[Format Invoice Data&lt;br/&gt;Apply invoice template&lt;br/&gt;pinv@ or pinv.frx]\n\n    FormatInvoice --&gt; ApplyPageBreaks[Apply Page Breaks&lt;br/&gt;DO Pinv CP, page_num, identifier&lt;br/&gt;Manage multi-page layout]\n    ApplyPageBreaks --&gt; ReplaceCartonTags[Replace Carton Tags&lt;br/&gt;DO Pinv CT, text, carton_no&lt;br/&gt;Replace !C with carton number]\n\n    ReplaceCartonTags --&gt; GenerateReport[REPORT FORM pinv&lt;br/&gt;TO PRINTER&lt;br/&gt;or PREVIEW&lt;br/&gt;Generate invoice report]\n    GenerateReport --&gt; EndPrint\n\n    PDFExport[PDF Export] --&gt; LoadInvoicePDF[Load Invoice Data&lt;br/&gt;Same as Standard Print]\n    LoadInvoicePDF --&gt; InitPageArrayPDF[Initialize Page Array&lt;br/&gt;Setup multi-page]\n    InitPageArrayPDF --&gt; FormatInvoicePDF[Format Invoice Data&lt;br/&gt;Apply template]\n\n    FormatInvoicePDF --&gt; GeneratePDFReport[REPORT FORM pinv_pdf&lt;br/&gt;TO FILE invoice.pdf&lt;br/&gt;Generate PDF file]\n    GeneratePDFReport --&gt; SavePDF[Save PDF File&lt;br/&gt;to specified location&lt;br/&gt;or email attachment]\n    SavePDF --&gt; EndPDF\n\n    ExcelExport[Excel Export] --&gt; LoadInvoiceXLS[Load Invoice Data&lt;br/&gt;SELECT invoice items&lt;br/&gt;into cursor]\n    LoadInvoiceXLS --&gt; CreateExcelObject[Create Excel Application Object&lt;br/&gt;SET COMPATIBLE OFF&lt;br/&gt;oExcel = CREATEOBJECT Excel.Application]\n\n    CreateExcelObject --&gt; CreateWorkbook[Create New Workbook&lt;br/&gt;oWorkbook = oExcel.Workbooks.Add&lt;br/&gt;oWorksheet = oWorkbook.Worksheets 1]\n\n    CreateWorkbook --&gt; WriteHeader[Write Invoice Header&lt;br/&gt;Customer Name, Address&lt;br/&gt;Invoice Number, Date&lt;br/&gt;to Excel cells]\n\n    WriteHeader --&gt; WriteItems[Write Invoice Items&lt;br/&gt;Loop through minvdt&lt;br/&gt;Write item_no, description&lt;br/&gt;qty, price, amount&lt;br/&gt;to Excel rows]\n\n    WriteItems --&gt; FormatExcel[Format Excel Cells&lt;br/&gt;Apply formatting&lt;br/&gt;Currency, borders&lt;br/&gt;Fonts, alignment]\n\n    FormatExcel --&gt; SaveExcel[Save Excel File&lt;br/&gt;oWorkbook.SaveAs filename&lt;br/&gt;oExcel.Quit&lt;br/&gt;Release objects]\n    SaveExcel --&gt; EndExcel\n\n    PackingList[Packing List Generation] --&gt; LoadInvoicePL[Load Invoice Data&lt;br/&gt;SELECT FROM minvhd, minvdt&lt;br/&gt;WHERE inv_no = inv_no&lt;br/&gt;Join with mcustom]\n\n    LoadInvoicePL --&gt; CheckWeightUnit{Check mcustom&lt;br/&gt;wt_unit&lt;br/&gt;== 2?}\n    CheckWeightUnit --&gt;|Yes| ConvertWeights[Convert Weights to LBS&lt;br/&gt;net = net / 2.2&lt;br/&gt;wt = wt / 2.2]\n    CheckWeightUnit --&gt;|No| KeepWeights[Keep Weights as is]\n\n    ConvertWeights --&gt; GroupByCarton\n    KeepWeights --&gt; GroupByCarton[Group Items by Carton&lt;br/&gt;Sort by carton number&lt;br/&gt;Calculate totals per carton]\n\n    GroupByCarton --&gt; FormatPackingList[Format Packing List&lt;br/&gt;Apply packing list template&lt;br/&gt;ppacklist_new.frx]\n\n    FormatPackingList --&gt; PackingListOutput{Packing List&lt;br/&gt;Output&lt;br/&gt;Format?}\n\n    PackingListOutput --&gt;|Print| PrintPL[REPORT FORM ppacklist_new&lt;br/&gt;TO PRINTER&lt;br/&gt;Print packing list]\n    PackingListOutput --&gt;|Excel| ExportPLXLS[Generate Excel Packing List&lt;br/&gt;ppacklist_xls&lt;br/&gt;Export to Excel format]\n    PackingListOutput --&gt;|Spencer| ExportPLSpencer[Generate Spencer Format&lt;br/&gt;ppacklist_xls_spencer&lt;br/&gt;Spencer-specific Excel format]\n\n    PrintPL --&gt; EndPL\n    ExportPLXLS --&gt; EndPL\n    ExportPLSpencer --&gt; EndPL\n\n    EndPrint[Print Complete] --&gt; End\n    EndPDF[PDF Export Complete] --&gt; End\n    EndExcel[Excel Export Complete] --&gt; End\n    EndPL[Packing List Complete] --&gt; End\n    End([Process Complete])</code></pre>"},{"location":"source/02-business-processes/invoice-process/#invoice-reports","title":"Invoice Reports","text":"<ol> <li>Invoice Report (New):</li> <li>Form: <code>pinv@</code></li> <li>Standard invoice format</li> <li>Multi-page support</li> <li> <p>Uses Pinv() function for page management</p> </li> <li> <p>Invoice PDF:</p> </li> <li>Form: <code>pinv_pdf</code></li> <li>PDF format for email/printing</li> <li> <p>Same layout as standard print</p> </li> <li> <p>Packing List:</p> </li> <li>Form: <code>ppacklist_new</code></li> <li>Detailed packing information</li> <li>Carton breakdown</li> <li> <p>Weight unit conversion</p> </li> <li> <p>Packing List Excel:</p> </li> <li>Form: <code>ppacklist_xls</code></li> <li>Excel format for customer</li> <li> <p>Standard Excel format</p> </li> <li> <p>Packing List Spencer:</p> </li> <li>Form: <code>ppacklist_xls_spencer</code></li> <li>Spencer-specific format</li> <li>Custom Excel layout</li> </ol> <p>Code Reference: <code>source/pinv.prg</code>, <code>source/uwpacklist.prg</code>, Report forms (.frx files)</p>"},{"location":"source/02-business-processes/invoice-process/#debit-note","title":"Debit Note","text":""},{"location":"source/02-business-processes/invoice-process/#debit-note-process","title":"Debit Note Process","text":"<p>Form: <code>pdebitnote</code> (Print Debit Note)</p> <p>Purpose: Adjust invoices (additional charges, corrections)</p> <p>Process: 1. Create debit note from invoice 2. Adjust quantities or prices 3. Generate debit note document</p>"},{"location":"source/02-business-processes/invoice-process/#invoice-enquiry","title":"Invoice Enquiry","text":""},{"location":"source/02-business-processes/invoice-process/#invoice-enquiry-forms","title":"Invoice Enquiry Forms","text":"<ol> <li>By Invoice:</li> <li>Form: <code>einvoice</code></li> <li>Search by invoice number</li> <li> <p>View invoice details</p> </li> <li> <p>Invoice Summary:</p> </li> <li>Form: <code>einvsumry</code></li> <li>Summary by date/customer</li> <li>Analysis reports</li> </ol>"},{"location":"source/02-business-processes/invoice-process/#invoice-status","title":"Invoice Status","text":""},{"location":"source/02-business-processes/invoice-process/#status-values","title":"Status Values","text":"<p>Created: Invoice created Sent: Invoice sent to customer Paid: Invoice paid</p>"},{"location":"source/02-business-processes/invoice-process/#status-transitions","title":"Status Transitions","text":"<pre><code>Created \u2192 Sent \u2192 Paid\n</code></pre>"},{"location":"source/02-business-processes/invoice-process/#data-flow","title":"Data Flow","text":""},{"location":"source/02-business-processes/invoice-process/#so-to-invoice","title":"SO to Invoice","text":"<pre><code>mso (Shipping Order)\n  \u2193\nminvhd (Invoice Header)\n  \u2193\nminvdt (Invoice Detail)\n  \u2193\nPacking List\n  \u2193\nShipment Advice\n</code></pre>"},{"location":"source/02-business-processes/invoice-process/#dn-to-invoice","title":"DN to Invoice","text":"<pre><code>mdnhd (DN Header)\n  \u2193\nmdndt (DN Detail)\n  \u2193\nminvhd (Invoice Header)\n  \u2193\nminvdt (Invoice Detail)\n</code></pre>"},{"location":"source/02-business-processes/invoice-process/#error-handling","title":"Error Handling","text":""},{"location":"source/02-business-processes/invoice-process/#creation-errors","title":"Creation Errors","text":"<p>No SO/DN: - Error: Source document not found - Action: Cannot create invoice</p> <p>Invalid Items: - Error: Item not found - Action: Item line skipped or error</p> <p>Quantity Errors: - Error: Quantity mismatch - Action: Validation error shown</p>"},{"location":"source/02-business-processes/invoice-process/#summary","title":"Summary","text":"<p>The Invoice process creates customer billing documents from shipping orders or delivery notes. It supports multi-page invoices, generates packing lists with carton breakdowns, and exports to multiple formats (Excel, PDF). The process handles complex formatting requirements and customer-specific formats.</p>"},{"location":"source/02-business-processes/master-data-management/","title":"Master Data Management","text":""},{"location":"source/02-business-processes/master-data-management/#overview","title":"Overview","text":"<p>Master data management covers the creation and maintenance of items, customers, vendors, and supporting reference data. This data forms the foundation for all transactions.</p>"},{"location":"source/02-business-processes/master-data-management/#item-creation-and-maintenance","title":"Item Creation and Maintenance","text":""},{"location":"source/02-business-processes/master-data-management/#item-entry-form","title":"Item Entry Form","text":"<p>Form: <code>iitem</code> (Input Item)</p>"},{"location":"source/02-business-processes/master-data-management/#item-master-data-management-detailed-flow","title":"Item Master Data Management Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Item Master Data Management]) --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Create| CreateItem\n    UserAction --&gt;|Update| UpdateItem\n    UserAction --&gt;|BOM Setup| SetupBOM\n\n    CreateItem[Create New Item] --&gt; EnterItemNo[User Enters Item Number&lt;br/&gt;item_no]\n    EnterItemNo --&gt; ValidateUnique[SELECT mitem&lt;br/&gt;SEEK item_no&lt;br/&gt;Check if exists]\n\n    ValidateUnique --&gt; Duplicate{Item&lt;br/&gt;Already&lt;br/&gt;Exists?}\n    Duplicate --&gt;|Yes| ShowDuplicateError[Show Error&lt;br/&gt;Item Number Already Exists]\n    Duplicate --&gt;|No| EnterItemDetails[User Enters Item Details&lt;br/&gt;Description memo field&lt;br/&gt;Price, Cost&lt;br/&gt;Packing info pack_pc_1-4&lt;br/&gt;pack_desp_1-4]\n\n    ShowDuplicateError --&gt; EndCancel\n    EnterItemDetails --&gt; EnterDimensions[Enter Dimensions&lt;br/&gt;Weight wt&lt;br/&gt;Cube cube&lt;br/&gt;Dimensions dim]\n\n    EnterDimensions --&gt; EnterCodes[Enter Codes&lt;br/&gt;Origin origin&lt;br/&gt;HTC Code htc_no&lt;br/&gt;Standard Code std_code&lt;br/&gt;UPC Code upc_no]\n\n    EnterCodes --&gt; ValidateStdCode{Validate&lt;br/&gt;Standard Code&lt;br/&gt;in zstdcode?}\n    ValidateStdCode --&gt;|No| ShowStdCodeError[Show Error&lt;br/&gt;Invalid Standard Code]\n    ValidateStdCode --&gt;|Yes| ValidateOrigin{Validate&lt;br/&gt;Origin Code&lt;br/&gt;in zorigin?}\n\n    ShowStdCodeError --&gt; EndCancel\n    ValidateOrigin --&gt;|No| ShowOriginError[Show Error&lt;br/&gt;Invalid Origin]\n    ValidateOrigin --&gt;|Yes| CreateRecord[APPEND BLANK to mitem&lt;br/&gt;REPLACE all item fields]\n\n    ShowOriginError --&gt; EndCancel\n    CreateRecord --&gt; SetAuditFields[REPLACE cre_date = DATE&lt;br/&gt;REPLACE cre_user = sysUserId&lt;br/&gt;REPLACE user_id = sysUserId]\n    SetAuditFields --&gt; EndSuccess\n\n    UpdateItem[Update Existing Item] --&gt; SelectItem[User Selects Item&lt;br/&gt;from mitem lookup]\n    SelectItem --&gt; LoadItem[LOAD mitem record&lt;br/&gt;Display in form]\n    LoadItem --&gt; ModifyFields[User Modifies Fields&lt;br/&gt;Description, Price, etc.]\n    ModifyFields --&gt; ValidateChanges{Validate&lt;br/&gt;Changes&lt;br/&gt;std_code, origin?}\n\n    ValidateChanges --&gt;|Invalid| ShowValidationError[Show Validation Error]\n    ValidateChanges --&gt;|Valid| SaveChanges[Save Changes&lt;br/&gt;REPLACE fields&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId]\n\n    ShowValidationError --&gt; EndCancel\n    SaveChanges --&gt; EndSuccess\n\n    SetupBOM[Setup Item BOM] --&gt; SelectParentItem[Select Parent Item&lt;br/&gt;item_no]\n    SelectParentItem --&gt; CheckBOMExists{Check mprodbom&lt;br/&gt;BOM exists&lt;br/&gt;for this item?}\n\n    CheckBOMExists --&gt;|Yes| LoadBOM[Load Existing BOM&lt;br/&gt;Display sub-items]\n    CheckBOMExists --&gt;|No| CreateNewBOM[Create New BOM Structure]\n\n    LoadBOM --&gt; AddSubItem[User Adds Sub-item&lt;br/&gt;Select from mitem]\n    CreateNewBOM --&gt; AddSubItem\n\n    AddSubItem --&gt; ValidateSubItem{Sub-item&lt;br/&gt;exists&lt;br/&gt;in mitem?}\n    ValidateSubItem --&gt;|No| ShowSubItemError[Show Error&lt;br/&gt;Sub-item Not Found]\n    ValidateSubItem --&gt;|Yes| EnterBOMQty[User Enters BOM Quantity&lt;br/&gt;qty per parent item]\n\n    ShowSubItemError --&gt; AddSubItem\n    EnterBOMQty --&gt; SaveBOMRecord[APPEND or UPDATE&lt;br/&gt;mprodbom record&lt;br/&gt;REPLACE item_no, sub_item, qty]\n\n    SaveBOMRecord --&gt; MoreSubItems{More&lt;br/&gt;Sub-items?}\n    MoreSubItems --&gt;|Yes| AddSubItem\n    MoreSubItems --&gt;|No| EndSuccess\n\n    EndSuccess([Operation Successful]) --&gt; End\n    EndCancel([Operation Cancelled or Error]) --&gt; End\n    End([Process Complete])</code></pre> <p>Code Reference: Form <code>iitem</code> - Item entry form, Form <code>iprodbom</code> - BOM setup</p>"},{"location":"source/02-business-processes/master-data-management/#item-import","title":"Item Import","text":"<p>Form: <code>uimport_item</code> (Import Item)</p> <p>Source: Excel file or legacy <code>item.dbf</code></p> <p>Process: 1. Load source file 2. Map fields to <code>mitem</code> structure 3. Validate data 4. Import items</p> <p>Code Reference: <code>xitem.prg</code> (legacy import from <code>item.dbf</code>)</p>"},{"location":"source/02-business-processes/master-data-management/#item-fields","title":"Item Fields","text":"<p>Key Fields: - <code>item_no</code> - Item number (Primary Key) - <code>desp</code> - Description (memo) - <code>price</code> - Standard price - <code>cost</code> - Cost - <code>pack_pc_1-4</code> - Pack pieces (4 levels) - <code>pack_desp_1-4</code> - Pack descriptions - <code>wt</code> - Weight - <code>cube</code> - Cube measurement - <code>origin</code> - Country of origin - <code>htc_no</code> - HTC/Harmonized Tariff Code - <code>std_code</code> - Standard code - <code>upc_no</code> - UPC barcode</p>"},{"location":"source/02-business-processes/master-data-management/#item-validation","title":"Item Validation","text":"<p>Rules: - <code>item_no</code> must be unique - <code>std_code</code> validated against <code>zstdcode</code> - HTC code extracted from origin fields - UPC constructed from multiple fields</p>"},{"location":"source/02-business-processes/master-data-management/#item-bom-setup","title":"Item BOM Setup","text":"<p>Form: <code>iprodbom</code> (Product BOM)</p> <p>Process: 1. Select parent item 2. Add sub-items 3. Set quantities per parent 4. Save to <code>mprodbom</code></p> <p>Usage: - Define product structures - Used in OE/OC/Contract processing - Automatic quantity calculation</p>"},{"location":"source/02-business-processes/master-data-management/#item-manufacturer","title":"Item Manufacturer","text":"<p>Form: <code>iitemmftr@</code> (Input Item Manufacturer)</p> <p>Process: 1. Select item 2. Add manufacturer 3. Link in <code>mitemmftr</code> table</p>"},{"location":"source/02-business-processes/master-data-management/#item-vendor-relationships","title":"Item Vendor Relationships","text":"<p>Table: <code>mitemven</code></p> <p>Purpose: Define which vendors can supply which items</p> <p>Process: 1. Select item 2. Add vendor 3. Set vendor-specific details 4. Save to <code>mitemven</code></p> <p>Usage: - Contract generation (vendor grouping) - OE validation - Vendor capability tracking</p>"},{"location":"source/02-business-processes/master-data-management/#customer-setup","title":"Customer Setup","text":""},{"location":"source/02-business-processes/master-data-management/#customer-entry-form","title":"Customer Entry Form","text":"<p>Form: <code>icustom</code> (Input Customer)</p>"},{"location":"source/02-business-processes/master-data-management/#customer-master-data-management-detailed-flow","title":"Customer Master Data Management Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Customer Master Data Management]) --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Create| CreateCustomer\n    UserAction --&gt;|Update| UpdateCustomer\n    UserAction --&gt;|Ship Mark| SetupShipMark\n\n    CreateCustomer[Create New Customer] --&gt; EnterCustNo[User Enters Customer Number&lt;br/&gt;cust_no]\n    EnterCustNo --&gt; ValidateUnique[SELECT mcustom&lt;br/&gt;SEEK cust_no&lt;br/&gt;Check if exists]\n\n    ValidateUnique --&gt; Duplicate{Customer&lt;br/&gt;Already&lt;br/&gt;Exists?}\n    Duplicate --&gt;|Yes| ShowDuplicateError[Show Error&lt;br/&gt;Customer Number Already Exists]\n    Duplicate --&gt;|No| EnterCustomerDetails[User Enters Customer Details&lt;br/&gt;English Name ename&lt;br/&gt;Short Name sname&lt;br/&gt;Address addr1-4]\n\n    ShowDuplicateError --&gt; EndCancel\n    EnterCustomerDetails --&gt; EnterContact[Enter Contact Information&lt;br/&gt;Contact Name cont_name&lt;br/&gt;Telephones tel, tel2&lt;br/&gt;Fax Numbers fax, fax2]\n\n    EnterContact --&gt; EnterTerms[Enter Payment Terms&lt;br/&gt;term&lt;br/&gt;Select from zpayterm&lt;br/&gt;or enter custom terms]\n\n    EnterTerms --&gt; EnterShippingParams[Enter Shipping Parameters&lt;br/&gt;show_sub_item_detail flag&lt;br/&gt;wt_unit weight unit&lt;br/&gt;Shipping preferences]\n\n    EnterShippingParams --&gt; SetupShipMarkStep[Setup Ship Mark&lt;br/&gt;Enter shipmark memo&lt;br/&gt;or use template from mshipmark]\n\n    SetupShipMarkStep --&gt; CreateRecord[APPEND BLANK to mcustom&lt;br/&gt;REPLACE all customer fields]\n    CreateRecord --&gt; SetAuditFields[REPLACE cre_date = DATE&lt;br/&gt;REPLACE cre_user = sysUserId&lt;br/&gt;REPLACE user_id = sysUserId]\n    SetAuditFields --&gt; EndSuccess\n\n    UpdateCustomer[Update Existing Customer] --&gt; SelectCustomer[User Selects Customer&lt;br/&gt;from mcustom lookup]\n    SelectCustomer --&gt; LoadCustomer[LOAD mcustom record&lt;br/&gt;Display in form]\n    LoadCustomer --&gt; ModifyFields[User Modifies Fields&lt;br/&gt;Address, Contact, Terms, etc.]\n    ModifyFields --&gt; SaveChanges[Save Changes&lt;br/&gt;REPLACE fields&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId]\n    SaveChanges --&gt; EndSuccess\n\n    SetupShipMark[Setup Ship Mark] --&gt; SelectCustForMark[Select Customer&lt;br/&gt;for Ship Mark setup]\n    SelectCustForMark --&gt; LoadShipMark[Load Current Ship Mark&lt;br/&gt;from mcustom.shipmark memo]\n\n    LoadShipMark --&gt; UserOption{Ship Mark&lt;br/&gt;Option?}\n    UserOption --&gt;|Enter Manual| EnterManualMark[User Enters Ship Mark&lt;br/&gt;Text in memo field&lt;br/&gt;Multi-line format]\n    UserOption --&gt;|Use Template| SelectTemplate[Select Template&lt;br/&gt;from mshipmark&lt;br/&gt;Browse available templates]\n\n    SelectTemplate --&gt; ApplyTemplate[Apply Template&lt;br/&gt;Copy template to&lt;br/&gt;mcustom.shipmark]\n\n    EnterManualMark --&gt; SaveShipMark[REPLACE mcustom.shipmark&lt;br/&gt;= entered mark&lt;br/&gt;or applied template]\n    ApplyTemplate --&gt; SaveShipMark\n    SaveShipMark --&gt; EndSuccess\n\n    EndSuccess([Operation Successful]) --&gt; End\n    EndCancel([Operation Cancelled or Error]) --&gt; End\n    End([Process Complete])</code></pre> <p>Code Reference: Form <code>icustom</code> - Customer entry form</p>"},{"location":"source/02-business-processes/master-data-management/#customer-import","title":"Customer Import","text":"<p>Source: Legacy <code>cus.dbf</code> table</p> <p>Filter: <code>C_cname = \"CUSTOMER\" or \"TRADING\"</code></p> <p>Process: 1. Load from legacy system 2. Map fields to <code>mcustom</code> 3. Construct ship mark from memo fields 4. Import customers</p> <p>Code Reference: <code>xcustom.prg</code> (lines 1-54)</p>"},{"location":"source/02-business-processes/master-data-management/#customer-fields","title":"Customer Fields","text":"<p>Key Fields: - <code>cust_no</code> - Customer number (Primary Key) - <code>ename</code> - English name - <code>sname</code> - Short name - <code>addr1-4</code> - Address lines - <code>cont_name</code> - Contact name - <code>tel</code>, <code>tel2</code> - Telephones - <code>fax</code>, <code>fax2</code> - Fax numbers - <code>term</code> - Payment terms - <code>shipmark</code> - Shipping mark (memo) - <code>show_sub_item_detail</code> - Display flag</p>"},{"location":"source/02-business-processes/master-data-management/#customer-invoice-parameters","title":"Customer Invoice Parameters","text":"<p>Form: <code>icustinv</code> (Customer Invoice Parameter)</p> <p>Purpose: Customer-specific invoice settings</p>"},{"location":"source/02-business-processes/master-data-management/#customer-shipment-parameters","title":"Customer Shipment Parameters","text":"<p>Form: <code>ishippara</code> (Customer Shipment Parameter)</p> <p>Purpose: Customer-specific shipping settings</p>"},{"location":"source/02-business-processes/master-data-management/#customer-skn","title":"Customer SKN","text":"<p>Form: <code>iskn</code> (SKN No.)</p> <p>Purpose: Map customer SKN numbers to item numbers</p> <p>Table: <code>mskn</code></p> <p>Usage: - Customer-specific item numbering - OE import mapping</p>"},{"location":"source/02-business-processes/master-data-management/#vendor-setup","title":"Vendor Setup","text":""},{"location":"source/02-business-processes/master-data-management/#vendor-entry-form","title":"Vendor Entry Form","text":"<p>Form: <code>ivendor</code> (Input Vendor)</p>"},{"location":"source/02-business-processes/master-data-management/#vendor-master-data-management-detailed-flow","title":"Vendor Master Data Management Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Vendor Master Data Management]) --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Create| CreateVendor\n    UserAction --&gt;|Update| UpdateVendor\n    UserAction --&gt;|Item Link| LinkVendorItem\n\n    CreateVendor[Create New Vendor] --&gt; EnterVendorNo[User Enters Vendor Number&lt;br/&gt;vendor_no]\n    EnterVendorNo --&gt; ValidateUnique[SELECT mvendor&lt;br/&gt;SEEK vendor_no&lt;br/&gt;Check if exists]\n\n    ValidateUnique --&gt; Duplicate{Vendor&lt;br/&gt;Already&lt;br/&gt;Exists?}\n    Duplicate --&gt;|Yes| ShowDuplicateError[Show Error&lt;br/&gt;Vendor Number Already Exists]\n    Duplicate --&gt;|No| EnterVendorDetails[User Enters Vendor Details&lt;br/&gt;English Name ename&lt;br/&gt;Short Name sname&lt;br/&gt;Address addr1-4]\n\n    ShowDuplicateError --&gt; EndCancel\n    EnterVendorDetails --&gt; EnterContact[Enter Contact Information&lt;br/&gt;Contact Name cont_name&lt;br/&gt;Telephones tel, tel2&lt;br/&gt;Fax Numbers fax, fax2]\n\n    EnterContact --&gt; SelectVendorType[Select Vendor Type&lt;br/&gt;type = 1 for Vendor&lt;br/&gt;type = 2 for Maker]\n\n    SelectVendorType --&gt; EnterPaymentTerms[Enter Payment Terms&lt;br/&gt;Payment preferences&lt;br/&gt;Default payment terms&lt;br/&gt;if applicable]\n\n    EnterPaymentTerms --&gt; CreateRecord[APPEND BLANK to mvendor&lt;br/&gt;REPLACE all vendor fields]\n    CreateRecord --&gt; SetAuditFields[REPLACE cre_date = DATE&lt;br/&gt;REPLACE cre_user = sysUserId&lt;br/&gt;REPLACE user_id = sysUserId]\n    SetAuditFields --&gt; EndSuccess\n\n    UpdateVendor[Update Existing Vendor] --&gt; SelectVendor[User Selects Vendor&lt;br/&gt;from mvendor lookup]\n    SelectVendor --&gt; LoadVendor[LOAD mvendor record&lt;br/&gt;Display in form]\n    LoadVendor --&gt; ModifyFields[User Modifies Fields&lt;br/&gt;Address, Contact, Type, etc.]\n    ModifyFields --&gt; SaveChanges[Save Changes&lt;br/&gt;REPLACE fields&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId]\n    SaveChanges --&gt; EndSuccess\n\n    LinkVendorItem[Link Vendor to Item] --&gt; SelectItem[Select Item&lt;br/&gt;from mitem&lt;br/&gt;item_no]\n    SelectItem --&gt; SelectVendorForLink[Select Vendor&lt;br/&gt;from mvendor&lt;br/&gt;vendor_no]\n\n    SelectVendorForLink --&gt; CheckLinkExists{Check mitemven&lt;br/&gt;Link exists&lt;br/&gt;item_no + vendor_no?}\n    CheckLinkExists --&gt;|Yes| ShowLinkExists[Show Message&lt;br/&gt;Link Already Exists&lt;br/&gt;or Update Existing]\n    CheckLinkExists --&gt;|No| CreateLink[APPEND BLANK to mitemven&lt;br/&gt;REPLACE item_no, vendor_no]\n\n    ShowLinkExists --&gt; UpdateLink[UPDATE mitemven&lt;br/&gt;Modify link details&lt;br/&gt;if needed]\n    CreateLink --&gt; SetLinkDetails[Set Link Details&lt;br/&gt;Default vendor flag&lt;br/&gt;Vendor-specific item info&lt;br/&gt;if applicable]\n\n    UpdateLink --&gt; EndSuccess\n    SetLinkDetails --&gt; EndSuccess\n\n    EndSuccess([Operation Successful]) --&gt; End\n    EndCancel([Operation Cancelled or Error]) --&gt; End\n    End([Process Complete])</code></pre> <p>Code Reference: Form <code>ivendor</code> - Vendor entry form, Item-Vendor linking logic</p>"},{"location":"source/02-business-processes/master-data-management/#vendor-import","title":"Vendor Import","text":"<p>Source: Legacy <code>cus.dbf</code> table</p> <p>Filter: <code>C_CNAME=\"VENDOR\" or \"MAKER\"</code></p> <p>Process: 1. Load from legacy system 2. Map fields to <code>mvendor</code> 3. Set type (1=Vendor, 2=Maker) 4. Import vendors</p> <p>Code Reference: <code>xvendor.prg</code> (lines 1-49)</p>"},{"location":"source/02-business-processes/master-data-management/#vendor-fields","title":"Vendor Fields","text":"<p>Key Fields: - <code>vendor_no</code> - Vendor number (Primary Key) - <code>ename</code> - English name - <code>sname</code> - Short name - <code>addr1-4</code> - Address lines - <code>cont_name</code> - Contact name - <code>tel</code>, <code>tel2</code> - Telephones - <code>fax</code>, <code>fax2</code> - Fax numbers - <code>type</code> - Type (1=Vendor, 2=Maker)</p>"},{"location":"source/02-business-processes/master-data-management/#manufacturer-entry","title":"Manufacturer Entry","text":"<p>Form: <code>imftr</code> (Input Manufacturer)</p> <p>Table: <code>zmftr</code></p> <p>Purpose: Separate manufacturer information from vendors</p>"},{"location":"source/02-business-processes/master-data-management/#supporting-data-management","title":"Supporting Data Management","text":""},{"location":"source/02-business-processes/master-data-management/#standard-code","title":"Standard Code","text":"<p>Form: <code>izstdcode</code> (Standard Code)</p> <p>Table: <code>zstdcode</code></p> <p>Purpose: Item classification codes</p>"},{"location":"source/02-business-processes/master-data-management/#country-of-origin","title":"Country of Origin","text":"<p>Form: <code>izorigin</code> (Country of Origin)</p> <p>Table: <code>zorigin</code></p> <p>Purpose: Origin codes for items</p>"},{"location":"source/02-business-processes/master-data-management/#fob-port","title":"FOB Port","text":"<p>Form: <code>ifobport</code> (FOB Port)</p> <p>Table: <code>zfobport</code></p> <p>Purpose: FOB port definitions</p>"},{"location":"source/02-business-processes/master-data-management/#payment-terms","title":"Payment Terms","text":"<p>Form: <code>ipayterm</code> (Payment Terms)</p> <p>Table: <code>zpayterm</code></p> <p>Purpose: Payment term codes</p>"},{"location":"source/02-business-processes/master-data-management/#fob-terms","title":"FOB Terms","text":"<p>Form: <code>ifobterm</code> (FOB Terms)</p> <p>Table: <code>zfobterm</code></p> <p>Purpose: FOB term definitions</p>"},{"location":"source/02-business-processes/master-data-management/#purchase-unit","title":"Purchase Unit","text":"<p>Form: <code>ipurunit</code> (Purchase Unit)</p> <p>Table: <code>zpurunit</code></p> <p>Purpose: Purchase unit codes</p>"},{"location":"source/02-business-processes/master-data-management/#ship-mark","title":"Ship Mark","text":"<p>Form: <code>ishipmark</code> (Ship Mark)</p> <p>Table: <code>mshipmark</code></p> <p>Purpose: Shipping mark templates</p>"},{"location":"source/02-business-processes/master-data-management/#data-conversion-processes","title":"Data Conversion Processes","text":""},{"location":"source/02-business-processes/master-data-management/#vendor-code-conversion","title":"Vendor Code Conversion","text":"<p>Form: <code>zvencon</code> (Vendor Code Conversion)</p> <p>Table: <code>zvencon</code></p> <p>Process: 1. Map old vendor codes to new codes 2. Update all references 3. Maintain conversion history</p>"},{"location":"source/02-business-processes/master-data-management/#item-number-change","title":"Item Number Change","text":"<p>Form: <code>zchange_item</code> (Change Item No.)</p> <p>Process: 1. Select old item number 2. Enter new item number 3. Update all transaction references 4. Maintain change history</p>"},{"location":"source/02-business-processes/master-data-management/#customer-number-change","title":"Customer Number Change","text":"<p>Form: <code>ichangecustno</code> (Change Customer No.)</p> <p>Process: 1. Select customer 2. Change customer number 3. Update all transaction references 4. Validate no duplicates</p>"},{"location":"source/02-business-processes/master-data-management/#data-validation","title":"Data Validation","text":""},{"location":"source/02-business-processes/master-data-management/#item-validation_1","title":"Item Validation","text":"<p>Rules: - Item number must be unique - Standard code must exist - HTC code format validation - UPC code format validation</p>"},{"location":"source/02-business-processes/master-data-management/#customer-validation","title":"Customer Validation","text":"<p>Rules: - Customer number must be unique - Address fields required - Contact information validation</p>"},{"location":"source/02-business-processes/master-data-management/#vendor-validation","title":"Vendor Validation","text":"<p>Rules: - Vendor number must be unique - Type must be 1 (Vendor) or 2 (Maker) - Address fields required</p>"},{"location":"source/02-business-processes/master-data-management/#data-maintenance","title":"Data Maintenance","text":""},{"location":"source/02-business-processes/master-data-management/#reindexing","title":"Reindexing","text":"<p>Utility: <code>zdoc.prg</code></p> <p>Process: 1. Reindex all master data tables 2. Rebuild indexes for fast lookups 3. Verify data integrity</p>"},{"location":"source/02-business-processes/master-data-management/#data-recovery","title":"Data Recovery","text":"<p>Form: <code>systemtools.prg</code></p> <p>Purpose: Recover corrupted data - Rebuild indexes - Fix data inconsistencies - Restore from backups</p>"},{"location":"source/02-business-processes/master-data-management/#delete-data","title":"Delete Data","text":"<p>Form: <code>zdel_data</code> (Delete Data)</p> <p>Purpose: Delete obsolete data - Archive old records - Clean up temporary data - Maintain data hygiene</p>"},{"location":"source/02-business-processes/master-data-management/#summary","title":"Summary","text":"<p>Master data management is the foundation of the trading system. It handles items, customers, vendors, and all supporting reference data. The system supports both manual entry and import from legacy systems, with validation and conversion tools to maintain data integrity.</p>"},{"location":"source/02-business-processes/order-confirmation-process/","title":"Order Confirmation Process","text":""},{"location":"source/02-business-processes/order-confirmation-process/#overview","title":"Overview","text":"<p>Order Confirmation (OC) represents confirmed customer orders. OCs are created by posting Order Enquiries (OE) and serve as the basis for contract generation.</p>"},{"location":"source/02-business-processes/order-confirmation-process/#post-oe-to-oc-workflow","title":"Post OE to OC Workflow","text":""},{"location":"source/02-business-processes/order-confirmation-process/#post-oe-to-oc-detailed-flow","title":"Post OE to OC Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Post OE to OC]) --&gt; InitVars[Initialize Variables&lt;br/&gt;w_head_item = space 20&lt;br/&gt;w_head_qty = 0]\n    InitVars --&gt; SelectVOE1[SELECT voe1 cursor&lt;br/&gt;GO TOP&lt;br/&gt;Cursor contains OEs to post]\n\n    SelectVOE1 --&gt; OELoop{More OEs&lt;br/&gt;in voe1?}\n    OELoop --&gt;|No| Complete[Post Complete]\n    OELoop --&gt;|Yes| DisplayStatus[@2.5,40 SAY&lt;br/&gt;Update Item No. + item_no]\n\n    DisplayStatus --&gt; LocateMORDDT[SELECT morddt&lt;br/&gt;LOCATE FOR&lt;br/&gt;conf_no == voe1.oc_no&lt;br/&gt;AND item_no == voe1.item_no]\n\n    LocateMORDDT --&gt; FoundMORDDT{Record&lt;br/&gt;Found?}\n    FoundMORDDT --&gt;|Yes| UpdateMORDDT[DO update_morddt&lt;br/&gt;Update OC Detail Record]\n    FoundMORDDT --&gt;|No| LocateMCONTDT\n\n    UpdateMORDDT --&gt; ReplaceMORDDTFields[REPLACE morddt.qty&lt;br/&gt;= voe1.qty&lt;br/&gt;REPLACE morddt.ctn = voe1.ctn&lt;br/&gt;REPLACE morddt.price = voe1.price&lt;br/&gt;REPLACE morddt.po_no = voe1.po_no]\n\n    ReplaceMORDDTFields --&gt; CheckBOM{Check if Item&lt;br/&gt;has BOM}\n    CheckBOM --&gt; CalcTotalBOMQty[SELECT SUM qty as total_qty&lt;br/&gt;FROM mprodbom&lt;br/&gt;WHERE item_no == morddt.item_no&lt;br/&gt;INTO CURSOR sum_qty]\n\n    CalcTotalBOMQty --&gt; CheckTotalQty{sum_qty.total_qty&lt;br/&gt;&gt; 0?}\n    CheckTotalQty --&gt;|No| LocateMCONTDT\n    CheckTotalQty --&gt;|Yes| SetHeadVars[w_head_item = morddt.item_no&lt;br/&gt;w_head_qty = morddt.qty]\n\n    SetHeadVars --&gt; SkipNextMORDDT[SELECT morddt&lt;br/&gt;SKIP&lt;br/&gt;Go to Next Record]\n    SkipNextMORDDT --&gt; BOMSubLoop{morddt.head&lt;br/&gt;== .F.?}\n\n    BOMSubLoop --&gt;|Yes| LocateBOMRecord[SELECT mprodbom&lt;br/&gt;LOCATE FOR&lt;br/&gt;item_no == w_head_item&lt;br/&gt;AND sub_item == morddt.item_no]\n\n    LocateBOMRecord --&gt; CalcSubQty[Calculate Sub-item Quantity&lt;br/&gt;sub_qty = w_head_qty *&lt;br/&gt;mprodbom.qty / total_qty]\n    CalcSubQty --&gt; ReplaceSubQty[REPLACE morddt.qty&lt;br/&gt;= calculated sub_qty]\n    ReplaceSubQty --&gt; SkipNextSub[SKIP morddt&lt;br/&gt;Next Sub-item]\n    SkipNextSub --&gt; BOMSubLoop\n\n    BOMSubLoop --&gt;|No| LocateMCONTDT[SELECT mcontdt&lt;br/&gt;LOCATE FOR&lt;br/&gt;conf_no == voe1.oc_no&lt;br/&gt;AND item_no == voe1.item_no]\n\n    LocateMCONTDT --&gt; FoundMCONTDT{Record&lt;br/&gt;Found?}\n    FoundMCONTDT --&gt;|Yes| UpdateMCONTDT[DO update_mcontdt&lt;br/&gt;Update Contract Detail]\n    FoundMCONTDT --&gt;|No| NextOE\n\n    UpdateMCONTDT --&gt; ReplaceMCONTDTFields[REPLACE mcontdt.qty&lt;br/&gt;= voe1.qty&lt;br/&gt;REPLACE mcontdt.ctn = voe1.ctn&lt;br/&gt;REPLACE mcontdt.price = voe1.cost&lt;br/&gt;REPLACE mcontdt.po_no = voe1.po_no]\n\n    ReplaceMCONTDTFields --&gt; CheckContBOM{Check if Item&lt;br/&gt;has BOM}\n    CheckContBOM --&gt; CalcContTotalQty[SELECT SUM qty as total_qty&lt;br/&gt;FROM mprodbom&lt;br/&gt;WHERE item_no == mcontdt.item_no&lt;br/&gt;INTO CURSOR sum_qty]\n\n    CalcContTotalQty --&gt; CheckContTotalQty{sum_qty.total_qty&lt;br/&gt;&gt; 0?}\n    CheckContTotalQty --&gt;|No| NextOE\n    CheckContTotalQty --&gt;|Yes| SetContHeadVars[w_head_item = mcontdt.item_no&lt;br/&gt;w_head_qty = mcontdt.qty]\n\n    SetContHeadVars --&gt; SkipNextMCONTDT[SELECT mcontdt&lt;br/&gt;SKIP&lt;br/&gt;Go to Next Record]\n    SkipNextMCONTDT --&gt; BOMContSubLoop{mcontdt.head&lt;br/&gt;== .F.?}\n\n    BOMContSubLoop --&gt;|Yes| LocateContBOM[SELECT mprodbom&lt;br/&gt;LOCATE FOR&lt;br/&gt;item_no == w_head_item&lt;br/&gt;AND sub_item == mcontdt.item_no]\n\n    LocateContBOM --&gt; CalcContSubQty[Calculate Sub-item Quantity&lt;br/&gt;sub_qty = w_head_qty *&lt;br/&gt;mprodbom.qty / total_qty]\n    CalcContSubQty --&gt; ReplaceContSubQty[REPLACE mcontdt.qty&lt;br/&gt;= calculated sub_qty]\n    ReplaceContSubQty --&gt; SkipNextContSub[SKIP mcontdt&lt;br/&gt;Next Sub-item]\n    SkipNextContSub --&gt; BOMContSubLoop\n\n    BOMContSubLoop --&gt;|No| NextOE[SKIP voe1&lt;br/&gt;Next OE Item]\n    NextOE --&gt; ClearStatus[@2.5,40 SAY&lt;br/&gt;Update Completed]\n    ClearStatus --&gt; OELoop</code></pre> <p>Code Reference: <code>source/uordcont.prg</code> (lines 1-79)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#step-1-select-oe","title":"Step 1: Select OE","text":"<p>Form: <code>upostoe</code> (Post OE/Post OC)</p> <p>Process: 1. User selects OE number(s) to post 2. System validates OE exists and is postable 3. System checks for duplicate postings</p>"},{"location":"source/02-business-processes/order-confirmation-process/#step-2-create-oc-header","title":"Step 2: Create OC Header","text":"<p>Table: <code>mordhd</code> (Order Confirmation Header)</p> <p>Fields Created: - <code>conf_no</code> - Order Confirmation number (generated) - <code>date</code> - Confirmation date - <code>cust_no</code> - Customer number (from OE)</p> <p>Business Rules: - One OC header per posting - OC number generated from OE or sequential - Date set to posting date or OE date</p>"},{"location":"source/02-business-processes/order-confirmation-process/#step-3-copy-oe-items-to-oc","title":"Step 3: Copy OE Items to OC","text":"<p>Tables: <code>moe</code> \u2192 <code>morddt</code></p> <p>Fields Copied: - <code>item_no</code> - Item number - <code>qty</code> - Quantity - <code>ctn</code> - Carton quantity - <code>price</code> - Price - <code>po_no</code> - Purchase Order number - <code>oe_no</code> - Original OE number (for reference)</p> <p>Code Reference: <code>uordcont.prg</code> (lines 14-19)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#step-4-bom-processing","title":"Step 4: BOM Processing","text":"<p>Process: 1. Check if item has BOM in <code>mprodbom</code> 2. If yes:    - Set <code>head = .T.</code> for parent item    - Create sub-item records with <code>head = .F.</code>    - Calculate sub-item quantities</p> <p>Quantity Calculation: <pre><code>SELECT sum(qty) as total_qty\nFROM baitin!mprodbom \nWHERE alltrim(Mprodbom.item_no) == alltrim(morddt.item_no)\n\nif sum_qty.total_qty &gt; 0\n    w_head_item = morddt.item_no\n    w_head_qty = morddt.qty\n    select morddt\n    skip\n    do while morddt.head = .f.\n        select mprodbom\n        locate for alltrim(mprodbom.item_no)==alltrim(w_head_item) and;\n                    alltrim(mprodbom.sub_item)==alltrim(morddt.item_no)\n        select morddt        \n        replace morddt.qty with w_head_qty * mprodbom.qty / sum_qty.total_qty\n        skip\n    enddo     \nendif\n</code></pre></p> <p>Code Reference: <code>uordcont.prg</code> (lines 40-56)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#step-5-update-oe-status","title":"Step 5: Update OE Status","text":"<p>Process: 1. Mark OE as posted 2. Update OE status field 3. Link OE to OC (via <code>morddt.oe_no</code>)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#data-transformation-rules","title":"Data Transformation Rules","text":""},{"location":"source/02-business-processes/order-confirmation-process/#field-mappings","title":"Field Mappings","text":"OE Field (moe) OC Field (morddt) Transformation <code>oe_no</code> <code>oe_no</code> Direct copy (reference) <code>item_no</code> <code>item_no</code> Direct copy <code>qty</code> <code>qty</code> Direct copy (may be adjusted for BOM) <code>ctn</code> <code>ctn</code> Direct copy <code>price</code> <code>price</code> Direct copy <code>po_no</code> <code>po_no</code> Direct copy <code>cust_no</code> <code>cust_no</code> Copied to header (<code>mordhd</code>)"},{"location":"source/02-business-processes/order-confirmation-process/#quantity-adjustments","title":"Quantity Adjustments","text":"<p>BOM Items: - Parent item: Original quantity - Sub-items: Calculated from BOM ratios</p> <p>Formula: <pre><code>sub_item_qty = (head_qty * bom_qty) / total_bom_qty\n</code></pre></p>"},{"location":"source/02-business-processes/order-confirmation-process/#confirmation-numbering","title":"Confirmation Numbering","text":""},{"location":"source/02-business-processes/order-confirmation-process/#number-generation","title":"Number Generation","text":"<p>Methods: 1. Sequential: Generate next number in sequence 2. OE-based: Use OE number as base 3. Custom: User-defined format</p>"},{"location":"source/02-business-processes/order-confirmation-process/#number-format","title":"Number Format","text":"<ul> <li>Format varies by company</li> <li>May include prefixes/suffixes</li> <li>Must be unique</li> </ul>"},{"location":"source/02-business-processes/order-confirmation-process/#status-updates","title":"Status Updates","text":""},{"location":"source/02-business-processes/order-confirmation-process/#oe-status","title":"OE Status","text":"<p>After Posting: - OE marked as posted - Status field updated - Cannot be posted again (validation)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#oc-status","title":"OC Status","text":"<p>Initial Status: - Created - Ready for contract generation</p> <p>Status Transitions: <pre><code>Created \u2192 Confirmed \u2192 Contracted \u2192 Shipped \u2192 Invoiced\n</code></pre></p>"},{"location":"source/02-business-processes/order-confirmation-process/#validation-rules","title":"Validation Rules","text":""},{"location":"source/02-business-processes/order-confirmation-process/#pre-posting-validation","title":"Pre-Posting Validation","text":"<ol> <li>OE Exists:</li> <li>OE must exist in <code>moe</code> table</li> <li> <p>OE must not be already posted</p> </li> <li> <p>Items Valid:</p> </li> <li>All items must exist in <code>mitem</code></li> <li>Quantities must be positive</li> <li> <p>Prices must be valid</p> </li> <li> <p>Customer Valid:</p> </li> <li>Customer must exist in <code>mcustom</code></li> <li>Customer must match OE customer</li> </ol>"},{"location":"source/02-business-processes/order-confirmation-process/#post-posting-validation","title":"Post-Posting Validation","text":"<ol> <li>OC Created:</li> <li>OC header exists</li> <li> <p>OC details match OE</p> </li> <li> <p>BOM Calculated:</p> </li> <li>BOM quantities correct</li> <li>Sub-items created</li> </ol>"},{"location":"source/02-business-processes/order-confirmation-process/#manual-oc-entry","title":"Manual OC Entry","text":""},{"location":"source/02-business-processes/order-confirmation-process/#form-iordhd-input-order-confirmation","title":"Form: <code>iordhd</code> (Input Order Confirmation)","text":"<p>Process: 1. User enters OC number manually 2. User enters customer 3. User enters date 4. User enters items manually 5. System validates and saves</p> <p>Use Case: - Direct OC entry (without OE) - OC amendments - Manual corrections</p>"},{"location":"source/02-business-processes/order-confirmation-process/#oc-updates","title":"OC Updates","text":""},{"location":"source/02-business-processes/order-confirmation-process/#update-process","title":"Update Process","text":"<p>Form/Program: <code>uordcont.prg</code></p> <p>Process: 1. Select OC to update 2. Update quantities, prices, PO numbers 3. Recalculate BOM quantities if needed 4. Save changes</p> <p>Code Reference: <code>uordcont.prg</code> (lines 11-31)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#update-rules","title":"Update Rules","text":"<p>Allowed Updates: - Quantities - Prices - PO numbers - Carton quantities</p> <p>BOM Recalculation: - If quantities change, BOM quantities recalculated - Sub-item quantities adjusted proportionally</p>"},{"location":"source/02-business-processes/order-confirmation-process/#oc-to-contract-link","title":"OC to Contract Link","text":""},{"location":"source/02-business-processes/order-confirmation-process/#relationship","title":"Relationship","text":"<p>OC \u2192 Contract: - <code>mcontdt.conf_no</code> links to <code>mordhd.conf_no</code> - Contracts generated from OC items - One OC can generate multiple contracts (by vendor)</p> <p>Code Reference: <code>uwcontract.prg</code> (lines 18-23)</p>"},{"location":"source/02-business-processes/order-confirmation-process/#reporting","title":"Reporting","text":""},{"location":"source/02-business-processes/order-confirmation-process/#oc-reports","title":"OC Reports","text":"<ol> <li>Order Confirmation Report:</li> <li>Form: <code>pconfirm</code></li> <li>Shows OC header and details</li> <li> <p>Printable format</p> </li> <li> <p>OC Qty Breakdown:</p> </li> <li>Form: <code>pocbrk</code></li> <li> <p>Shows quantity breakdowns by PO</p> </li> <li> <p>OC Summary:</p> </li> <li>Form: <code>eocsumry</code></li> <li>Summary of OCs by date/customer</li> </ol>"},{"location":"source/02-business-processes/order-confirmation-process/#error-handling","title":"Error Handling","text":""},{"location":"source/02-business-processes/order-confirmation-process/#posting-errors","title":"Posting Errors","text":"<p>OE Not Found: - Error: OE does not exist - Action: Cannot post</p> <p>Items Invalid: - Error: Item not found - Action: Item line skipped or error shown</p> <p>BOM Calculation Errors: - Error: BOM data inconsistent - Action: Use default quantities or error</p>"},{"location":"source/02-business-processes/order-confirmation-process/#summary","title":"Summary","text":"<p>The Order Confirmation process transforms customer enquiries into confirmed orders. It handles BOM calculations, maintains data integrity, and prepares orders for contract generation. The process supports both automated posting from OE and manual entry.</p>"},{"location":"source/02-business-processes/order-enquiry-process/","title":"Order Enquiry Process","text":""},{"location":"source/02-business-processes/order-enquiry-process/#overview","title":"Overview","text":"<p>Order Enquiry (OE) is the entry point for customer orders. OEs can be created through Excel import or manual entry, and go through validation, processing, and posting workflows.</p>"},{"location":"source/02-business-processes/order-enquiry-process/#oe-creation-methods","title":"OE Creation Methods","text":""},{"location":"source/02-business-processes/order-enquiry-process/#1-excel-import","title":"1. Excel Import","text":"<p>Primary Method: Most OEs are imported from Excel files</p> <p>Supported Formats: - Standard Excel format - Walmart XLS format - CSV format (2013) - XLS format (2013) - Multi-item block format - New format Excel file</p> <p>Forms/Programs: - <code>uoexls</code> - Standard Excel import - <code>uoexls_2013</code> - 2013 CSV format (1,747 lines - most complex) - <code>uoexls_2013_xls</code> - 2013 XLS format - <code>uoexls2</code> - Multi-item block format - <code>unewoexls</code> - New format Excel - <code>uwalxls</code> - Walmart format</p> <p>Code Reference: <code>uoexls_2013.prg</code> (primary import logic)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#2-manual-entry","title":"2. Manual Entry","text":"<p>Form: <code>ioe1@</code> (Input OE New)</p> <p>Process: 1. User enters OE number 2. System validates OE Control record 3. User enters items manually 4. System validates items and quantities 5. OE saved to database</p>"},{"location":"source/02-business-processes/order-enquiry-process/#oe-validation-rules","title":"OE Validation Rules","text":""},{"location":"source/02-business-processes/order-enquiry-process/#oe-control-record-validation","title":"OE Control Record Validation","text":"<p>Requirement: OE must have control record in <code>moectrl</code> table</p> <p>Exception: INSP company (adds \"IN-\" prefix automatically)</p> <p>Validation Logic (from <code>uoexls_2013.prg</code> lines 148-156): <pre><code>IF ALLTRIM(w_password)=\"INSP\"\n    w_oe_no=\"IN-\"+ALLTRIM(w_oe_no)   \nELSE \n    select moectrl\n    set order to OE_NO\n    seek w_oe_no\n    if eof()\n        messagebox(w_oe_no+\" --- No OE Control Record\"+ chr(10)+\"Import Skipped\", 0+16, \"Syster Message\")\n        loop\n    ENDIF\nENDIF\n</code></pre></p> <p>Business Rules: - OE Control record must exist before import (except INSP) - OE number must match control record - Customer code must match (validated separately)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#customer-validation","title":"Customer Validation","text":"<p>Requirement: Customer code must exist in <code>mcustom</code> and match OE Control</p> <p>Validation Logic (lines 177-184): <pre><code>IF ALLTRIM(w_password)&lt;&gt;\"INSP\"\n    if alltrim(w_cust_no)&lt;&gt;alltrim(moectrl.cust_no) and !empty(w_oe_no)\n        messagebox(\"OE No.:\"+alltrim(w_oe_no) +\" --- OE Control Record Cust Code Not Match\"+ chr(10)+\"Import Skipped\", 0+16, \"Syster Message\")\n        loop\n    ENDIF\nENDIF\n</code></pre></p> <p>Additional Check (lines 185-190): <pre><code>select mcustom\nlocate for alltrim(mcustom.cust_no)== alltrim(w_cust_no)\nw_show_sub_item=''\nif !eof()\n   w_show_sub_item = mcustom.show_sub_item_detail\nendif\n</code></pre></p> <p>Business Rules: - Customer must exist in <code>mcustom</code> - Customer code from Excel must match OE Control customer - Customer's <code>show_sub_item_detail</code> setting affects display</p>"},{"location":"source/02-business-processes/order-enquiry-process/#item-validation","title":"Item Validation","text":"<p>Requirement: All items must exist in <code>mitem</code> table</p> <p>Validation Logic: - Items checked against <code>mitem</code> table - Item number must match exactly - Item must be active (not suspended)</p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 22-28)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#excel-import-process-uoexls_2013prg","title":"Excel Import Process (uoexls_2013.prg)","text":"<p>This is the most complex import process with 1,747 lines of code handling multiple Excel formats, dynamic field detection, validation, and data processing.</p>"},{"location":"source/02-business-processes/order-enquiry-process/#excel-import-detailed-flow","title":"Excel Import Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Excel Import Start]) --&gt; InitPublicVars[Initialize Public Variables&lt;br/&gt;w_field_no, n_item, n_qty, w_cust_no&lt;br/&gt;w_head, field_array, etc.]\n    InitPublicVars --&gt; InitDefaults[w_oe_date = CTOD 01/01/01&lt;br/&gt;wh_item_no = empty&lt;br/&gt;w_head = .F.&lt;br/&gt;w_oe_prefix = empty]\n    InitDefaults --&gt; OpenMasterTables[Open Master Tables&lt;br/&gt;USE mitem SET ORDER TO item_no&lt;br/&gt;USE mcustom&lt;br/&gt;USE moectrl&lt;br/&gt;USE moehd&lt;br/&gt;USE moe&lt;br/&gt;USE mskn, mitemven, mqtybrk&lt;br/&gt;USE moebom, mprodbom SET ORDER TO iprodbom&lt;br/&gt;USE mvendor, zmftr]\n    OpenMasterTables --&gt; OpenTempTables[Open Temporary Tables&lt;br/&gt;USE woexlst&lt;br/&gt;USE woexls EXCLUSIVE&lt;br/&gt;USE wsknlog, wsuspend]\n    OpenTempTables --&gt; SetDetailPos[w_detail_pos = 1&lt;br/&gt;DO locate_detail_record]\n\n    SetDetailPos --&gt; LocateDetailLoop[DO WHILE !EOF woexls&lt;br/&gt;Search for OENO in f01&lt;br/&gt;Store position to w_detail_pos&lt;br/&gt;Exit when found]\n    LocateDetailLoop --&gt; ExtractOENumbers[SELECT DISTINCT woexlst.f01&lt;br/&gt;FROM woexlst&lt;br/&gt;WHERE RECNO &gt;= w_detail_pos + 1&lt;br/&gt;INTO CURSOR voeno]\n\n    ExtractOENumbers --&gt; OELoopStart{More OE Numbers&lt;br/&gt;in voeno?}\n    OELoopStart --&gt;|No| EndImport[Import Complete]\n    OELoopStart --&gt;|Yes| GetOENumber[w_oe_no = ALLTRIM voeno.f01&lt;br/&gt;w_oe_no_save = w_oe_no]\n\n    GetOENumber --&gt; CheckOEEmpty{OE Number&lt;br/&gt;Empty?}\n    CheckOEEmpty --&gt;|Yes| SkipOE[SKIP voeno&lt;br/&gt;Continue Loop]\n    CheckOEEmpty --&gt;|No| CheckCompany{w_password&lt;br/&gt;== INSP?}\n\n    CheckCompany --&gt;|Yes| AddINPrefix[w_oe_no = IN- + ALLTRIM w_oe_no&lt;br/&gt;Skip OE Control Check]\n    CheckCompany --&gt;|No| ValidateOEControl[SELECT moectrl&lt;br/&gt;SET ORDER TO OE_NO&lt;br/&gt;SEEK w_oe_no]\n\n    ValidateOEControl --&gt; EOFCheck{EOF moectrl?}\n    EOFCheck --&gt;|Yes| ShowError1[MESSAGEBOX&lt;br/&gt;w_oe_no + No OE Control Record&lt;br/&gt;Import Skipped]\n    EOFCheck --&gt;|No| ClearWOEXLS[ZAP woexls&lt;br/&gt;Clear temporary table]\n    ShowError1 --&gt; SkipOE\n\n    AddINPrefix --&gt; ClearWOEXLS\n    ClearWOEXLS --&gt; AppendFirstRow[APPEND FROM woexlst&lt;br/&gt;FOR RECNO = 1&lt;br/&gt;Append header row]\n    AppendFirstRow --&gt; CallAppendWOEXLS[DO append_woexls&lt;br/&gt;Dynamic Field Detection]\n\n    CallAppendWOEXLS --&gt; DetectItemField[Detect ITEM Field&lt;br/&gt;DO WHILE w_field_no &lt; 50&lt;br/&gt;Search for ITEM in field names&lt;br/&gt;Store field position to n_item]\n    DetectItemField --&gt; DetectSubSKN[Detect SUB SKN Field&lt;br/&gt;Search for SUB SKN or SUB SKU #]\n    DetectSubSKN --&gt; DetectSKU[Detect SKU Field&lt;br/&gt;Search for SKU #]\n    DetectSKU --&gt; GroupItems[SELECT FROM woexlst&lt;br/&gt;GROUP BY f01, n_item&lt;br/&gt;WHERE f01 = w_oe_no_save&lt;br/&gt;AND SUB SKN = SEE BELOW or empty&lt;br/&gt;INTO CURSOR vtempoe]\n\n    GroupItems --&gt; ItemGroupLoop{Process Each&lt;br/&gt;Item Group}\n    ItemGroupLoop --&gt;|More| ScatterToArray[SCATTER TO field_array&lt;br/&gt;APPEND BLANK to woexls&lt;br/&gt;GATHER FROM field_array]\n    ScatterToArray --&gt; CheckSEEBELOW{SUB SKN ==&lt;br/&gt;SEE BELOW?}\n    CheckSEEBELOW --&gt;|Yes| ProcessSubItems[LOCATE next records&lt;br/&gt;DO WHILE SKU == SEE ABOVE&lt;br/&gt;Append sub-item rows to woexls]\n    CheckSEEBELOW --&gt;|No| ItemGroupLoop\n    ProcessSubItems --&gt; ItemGroupLoop\n    ItemGroupLoop --&gt;|No More| CallSetQTY[DO set_qty&lt;br/&gt;Detect Quantity Field]\n\n    CallSetQTY --&gt; DetectQTYField[Search for TOTAL PIECE&lt;br/&gt;TOTAL QTY, TOT PIECE, TOT QTY&lt;br/&gt;Store to n_qty]\n    DetectQTYField --&gt; DetectItemField2[Re-detect ITEM field position&lt;br/&gt;Store to n_item_no]\n    DetectItemField2 --&gt; ProcessQtyAggregate[For each item in woexls&lt;br/&gt;SUM quantities from woexlst&lt;br/&gt;MIN/MAX dates for shipping&lt;br/&gt;REPLACE aggregated values]\n    ProcessQtyAggregate --&gt; CallFindCustNo[DO find_cust_no&lt;br/&gt;Extract Customer Number]\n\n    CallFindCustNo --&gt; FindCustLoop[Search woexls from w_detail_pos&lt;br/&gt;DO WHILE w_field_no &lt; 50&lt;br/&gt;Search for CUST in field names&lt;br/&gt;Store customer to w_cust_no]\n    FindCustLoop --&gt; CheckCompany2{w_password&lt;br/&gt;== INSP?}\n\n    CheckCompany2 --&gt;|Yes| FindOEDate[DO find_oe_date&lt;br/&gt;Extract OE Date from Excel]\n    CheckCompany2 --&gt;|No| GetDateFromCtrl[w_oe_date = moectrl.oe_date]\n\n    FindOEDate --&gt; ValidateCustomer\n    GetDateFromCtrl --&gt; ValidateCustomer{Company != INSP&lt;br/&gt;AND Customer !=&lt;br/&gt;moectrl.cust_no?}\n\n    ValidateCustomer --&gt;|Yes| ShowCustError[MESSAGEBOX&lt;br/&gt;OE Control Cust Code Not Match&lt;br/&gt;Import Skipped]\n    ValidateCustomer --&gt;|No| ValidateCustMaster[SELECT mcustom&lt;br/&gt;LOCATE FOR cust_no == w_cust_no&lt;br/&gt;Get show_sub_item_detail]\n    ShowCustError --&gt; SkipOE\n\n    ValidateCustMaster --&gt; CheckDelRepeat{w_del_repeat&lt;br/&gt;== .T.?}\n    CheckDelRepeat --&gt;|Yes| DeleteOldOE[DELETE FROM moehd&lt;br/&gt;WHERE oe_no == w_oe_no&lt;br/&gt;DELETE FROM moe&lt;br/&gt;DELETE FROM moebom&lt;br/&gt;DELETE FROM mqtybrk]\n    CheckDelRepeat --&gt;|No| CheckOEHD\n    DeleteOldOE --&gt; CheckOEHD{Check moehd&lt;br/&gt;record exists}\n\n    CheckOEHD --&gt;|EOF| CreateOEHD[APPEND BLANK to moehd&lt;br/&gt;REPLACE oe_no, oe_date&lt;br/&gt;cre_date, user_id, cre_user]\n    CheckOEHD --&gt;|Found| UpdateOEHD[Update existing moehd record]\n    CreateOEHD --&gt; FindPONo\n    UpdateOEHD --&gt; FindPONo[DO find_po_no&lt;br/&gt;Extract PO Number]\n\n    FindPONo --&gt; FindFieldNames[DO find_field_name&lt;br/&gt;Detect all field positions&lt;br/&gt;SKN, SUB SKN, INNER, MASTER&lt;br/&gt;QTY, CTN, PRICE, RETAIL1, RETAIL2&lt;br/&gt;MAKER, VENDOR, etc.]\n    FindFieldNames --&gt; CallUpdateMOE[DO update_moe&lt;br/&gt;Process Each Item]\n\n    CallUpdateMOE --&gt; ItemLoop{More Items&lt;br/&gt;in woexls?}\n    ItemLoop --&gt;|No| CallUpdateMQTYBRK\n    ItemLoop --&gt;|Yes| GetItem[Get next item from woexls&lt;br/&gt;Position = w_detail_pos + 1]\n\n    GetItem --&gt; CheckItemEmpty{Item Number&lt;br/&gt;Empty?}\n    CheckItemEmpty --&gt;|Yes| SkipItem[SKIP woexls&lt;br/&gt;Continue Loop]\n    CheckItemEmpty --&gt;|No| ValidateItem[SELECT mitem&lt;br/&gt;SEEK item_no&lt;br/&gt;Check suspend_flag]\n\n    ValidateItem --&gt; ItemSuspended{Item&lt;br/&gt;Suspended?}\n    ItemSuspended --&gt;|Yes| AddToSuspended[APPEND BLANK to wsuspend&lt;br/&gt;Store item_no&lt;br/&gt;Skip item]\n    ItemSuspended --&gt;|No| CallSetRemark[DO set_remark&lt;br/&gt;Extract remarks and retail prices]\n\n    AddToSuspended --&gt; SkipItem\n    CallSetRemark --&gt; CheckSubSKN{SUB SKN empty&lt;br/&gt;OR == SEE BELOW?}\n\n    CheckSubSKN --&gt;|Yes| SetHeadItem[w_head = .T.&lt;br/&gt;wh_item_no = item_no]\n    CheckSubSKN --&gt;|No| SetSubItem[w_head = .F.]\n\n    SetHeadItem --&gt; CheckIsSubItem{Is Sub Item?&lt;br/&gt;SUB SKN != item_no&lt;br/&gt;AND w_head != .T.?}\n    SetSubItem --&gt; CheckIsSubItem\n\n    CheckIsSubItem --&gt;|Yes| CreateMOEBOM[APPEND BLANK to moebom&lt;br/&gt;REPLACE oe_no, item_no&lt;br/&gt;sub_item, qty, price&lt;br/&gt;SKN, retail, remark]\n    CreateMOEBOM --&gt; CheckMprodbom{moebom.item_no&lt;br/&gt;== sub_item?}\n    CheckMprodbom --&gt;|No| SeekMprodbom[SELECT mprodbom&lt;br/&gt;SEEK item_no + sub_item]\n    SeekMprodbom --&gt; FoundBOM{Found&lt;br/&gt;in mprodbom?}\n    FoundBOM --&gt;|No| CreateMprodbom[APPEND BLANK to mprodbom&lt;br/&gt;REPLACE item_no, sub_item, qty]\n    FoundBOM --&gt;|Yes| UpdateMprodbom[REPLACE qty with MASTER value]\n    CreateMprodbom --&gt; CheckHeadFlag\n    UpdateMprodbom --&gt; CheckHeadFlag{w_head&lt;br/&gt;== .T.?}\n\n    CheckIsSubItem --&gt;|No| CheckHeadFlag\n    CheckHeadFlag --&gt;|Yes| UpdateExistingMoe[LOCATE moe WHERE&lt;br/&gt;oe_no == w_oe_no&lt;br/&gt;AND item_no == wh_item_no&lt;br/&gt;REPLACE dates, costs, remarks]\n    CheckHeadFlag --&gt;|No| CallAppendMOE\n    UpdateExistingMoe --&gt; CallAppendMOE[DO append_moe&lt;br/&gt;Create moe record]\n\n    CallAppendMOE --&gt; AppendMoeRecord[APPEND BLANK to moe&lt;br/&gt;DO set_packing&lt;br/&gt;DO set_vendor_maker&lt;br/&gt;DO set_skn]\n    AppendMoeRecord --&gt; SetMoeFields[REPLACE moe fields&lt;br/&gt;oe_no, cust_no, item_no&lt;br/&gt;ctn, qty, unit, price&lt;br/&gt;chester, retail prices&lt;br/&gt;po_no, item_desc, pack fields]\n    SetMoeFields --&gt; SetCompanyCode{Set oc_no based on&lt;br/&gt;w_password:&lt;br/&gt;HT: HT-OC/+oe_no&lt;br/&gt;BAT: BTL-+oe_no&lt;br/&gt;HFW: HFW-OC/+oe_no&lt;br/&gt;INSP: IN-OC/+oe_no}\n    SetCompanyCode --&gt; SetAuditFields[REPLACE date, user_id&lt;br/&gt;l_mod_date, l_mod_time&lt;br/&gt;comp_code]\n    SetAuditFields --&gt; SkipItem\n    SkipItem --&gt; ItemLoop\n\n    CallUpdateMQTYBRK[DO update_mqtybrk&lt;br/&gt;Process Quantity Breakdowns] --&gt; DetectPortCode[Detect PORT CODE field&lt;br/&gt;If found, process breakdowns]\n    DetectPortCode --&gt; QtyBrkLoop{Process Quantity&lt;br/&gt;Breakdowns}\n    QtyBrkLoop --&gt; CreateMQTYBRK[For each port/item combination&lt;br/&gt;APPEND BLANK to mqtybrk&lt;br/&gt;REPLACE oe_no, item_no, port&lt;br/&gt;po_no, del_from, del_to, qty]\n    CreateMQTYBRK --&gt; QtyBrkLoop\n\n    DetectPortCode --&gt; CallProcessMOE[DO Process_Moe&lt;br/&gt;Handle BOM Items]\n    QtyBrkLoop --&gt; CallProcessMOE\n\n    CallProcessMOE --&gt; BOMProcessLoop[SELECT moe&lt;br/&gt;SET ORDER TO ioe&lt;br/&gt;SEEK w_oe_no]\n    BOMProcessLoop --&gt; BOMLoop{More moe records&lt;br/&gt;with this oe_no?}\n    BOMLoop --&gt;|No| CallProcessQtyBreakdown\n    BOMLoop --&gt;|Yes| GetMOERecord[Get next moe record]\n    GetMOERecord --&gt; CheckHasMOEBOM{Has moebom&lt;br/&gt;records for this item?}\n    CheckHasMOEBOM --&gt;|Yes| CalcBOMQty[SELECT SUM qty, SUM qty*price&lt;br/&gt;FROM moebom&lt;br/&gt;Calculate pack_qty, tot_price]\n    CheckHasMOEBOM --&gt;|No| SkipMOERecord[SKIP moe&lt;br/&gt;Continue Loop]\n\n    CalcBOMQty --&gt; UpdateMOEQty{pack_qty &gt; 0?}\n    UpdateMOEQty --&gt;|Yes| ReplaceMOEQty[REPLACE moe.qty = pack_qty&lt;br/&gt;REPLACE moe.price = tot_price / pack_qty]\n    UpdateMOEQty --&gt;|No| CheckMprodbomQty\n    ReplaceMOEQty --&gt; CheckMprodbomQty[SELECT FROM mprodbom&lt;br/&gt;INNER JOIN moebom&lt;br/&gt;Calculate ctn from BOM]\n    CheckMprodbomQty --&gt; ReplaceMOECtn[REPLACE moe.ctn&lt;br/&gt;REPLACE pack_pc_2 if empty]\n    ReplaceMOECtn --&gt; SkipMOERecord\n    SkipMOERecord --&gt; BOMLoop\n\n    CallProcessQtyBreakdown[DO process_qty_breakdown&lt;br/&gt;Process Port-based Breakdowns] --&gt; DetectPortField[Detect PORT field position&lt;br/&gt;Store w_port_col, w_port_row]\n    DetectPortField --&gt; PortLoop{More PORT&lt;br/&gt;columns?}\n    PortLoop --&gt;|No| NextOE\n    PortLoop --&gt;|Yes| GetPortData[Get port, port_po&lt;br/&gt;break_from, break_to&lt;br/&gt;Check if Q column]\n    GetPortData --&gt; ProcessPortItems{Process Items&lt;br/&gt;for This Port}\n    ProcessPortItems --&gt; CheckPortQty{port_qty&lt;br/&gt;== .T.?}\n    CheckPortQty --&gt;|Yes| CreatePortMQTYBRK[APPEND BLANK to mqtybrk&lt;br/&gt;REPLACE qty = numval port]\n    CheckPortQty --&gt;|No| CreatePortMQTYBRK2[APPEND BLANK to mqtybrk&lt;br/&gt;REPLACE qty = port * master&lt;br/&gt;if inner &gt; 0]\n    CreatePortMQTYBRK --&gt; ProcessPortItems\n    CreatePortMQTYBRK2 --&gt; ProcessPortItems\n    ProcessPortItems --&gt;|No More| CheckNextPort[Check next column&lt;br/&gt;for PORT keyword]\n    CheckNextPort --&gt; PortLoop\n\n    NextOE[SKIP voeno&lt;br/&gt;Next OE Number] --&gt; OELoopStart\n    SkipOE --&gt; NextOE</code></pre> <p>Code Reference: <code>source/uoexls_2013.prg</code> (lines 1-1747)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#manual-oe-entry-flow","title":"Manual OE Entry Flow","text":""},{"location":"source/02-business-processes/order-enquiry-process/#manual-oe-entry-detailed-flow","title":"Manual OE Entry Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Manual OE Entry Start]) --&gt; OpenForm[DO FORM xmoe&lt;br/&gt;or OE Entry Form&lt;br/&gt;Display Entry Form]\n\n    OpenForm --&gt; UserSelectNew[User Clicks New&lt;br/&gt;Create New OE]\n    UserSelectNew --&gt; GenerateOENo[Generate OE Number&lt;br/&gt;or User Enters OE Number&lt;br/&gt;Check if exists]\n\n    GenerateOENo --&gt; CheckOEEmpty{OE Number&lt;br/&gt;Empty?}\n    CheckOEEmpty --&gt;|Yes| ShowError[Show Error&lt;br/&gt;OE Number Required]\n    CheckOEEmpty --&gt;|No| ValidateOEControl[SELECT moectrl&lt;br/&gt;SEEK oe_no&lt;br/&gt;Check OE Control Record]\n\n    ShowError --&gt; EndCancel\n    ValidateOEControl --&gt; EOFCtrl{EOF&lt;br/&gt;moectrl?}\n\n    EOFCtrl --&gt;|Yes| ShowCtrlError[Show Error&lt;br/&gt;No OE Control Record&lt;br/&gt;Create or Select Valid OE]\n    EOFCtrl --&gt;|No| GetOEDate[w_oe_date = moectrl.oe_date&lt;br/&gt;Get OE date from control]\n\n    ShowCtrlError --&gt; EndCancel\n    GetOEDate --&gt; SelectCustomer[User Selects Customer&lt;br/&gt;or Enter cust_no&lt;br/&gt;Validate in mcustom]\n\n    SelectCustomer --&gt; ValidateCustomer{Customer&lt;br/&gt;Exists?}\n    ValidateCustomer --&gt;|No| ShowCustError[Show Error&lt;br/&gt;Customer Not Found]\n    ValidateCustomer --&gt;|Yes| SetCustomer[w_cust_no = cust_no&lt;br/&gt;Get customer details]\n\n    ShowCustError --&gt; EndCancel\n    SetCustomer --&gt; CheckOEHDExists{Check moehd&lt;br/&gt;OE exists?}\n\n    CheckOEHDExists --&gt;|Yes| LoadExistingOE[LOAD existing moehd&lt;br/&gt;LOAD moe items&lt;br/&gt;Display in form]\n    CheckOEHDExists --&gt;|No| CreateOEHD[APPEND BLANK to moehd&lt;br/&gt;REPLACE oe_no, oe_date&lt;br/&gt;cre_date, user_id, cre_user]\n\n    LoadExistingOE --&gt; AddItem\n    CreateOEHD --&gt; AddItem[User Adds Items&lt;br/&gt;to OE]\n\n    AddItem --&gt; ItemEntryLoop{More Items&lt;br/&gt;to Add?}\n    ItemEntryLoop --&gt;|No| SaveOE\n    ItemEntryLoop --&gt;|Yes| SelectItem[User Selects Item&lt;br/&gt;from mitem lookup&lt;br/&gt;or enters item_no]\n\n    SelectItem --&gt; ValidateItem[SELECT mitem&lt;br/&gt;SEEK item_no&lt;br/&gt;Check suspend_flag]\n    ValidateItem --&gt; ItemSuspended{Item&lt;br/&gt;Suspended?}\n\n    ItemSuspended --&gt;|Yes| ShowSuspendError[Show Error&lt;br/&gt;Item Suspended&lt;br/&gt;Cannot Use]\n    ItemSuspended --&gt;|No| EnterItemDetails[User Enters Item Details&lt;br/&gt;Quantity, Price, etc.]\n\n    ShowSuspendError --&gt; ItemEntryLoop\n    EnterItemDetails --&gt; SetVendorMaker[Set Vendor/Maker&lt;br/&gt;SELECT mitemven&lt;br/&gt;LOCATE FOR item_no&lt;br/&gt;Get default vendor]\n\n    SetVendorMaker --&gt; SetSKN[Set SKN Number&lt;br/&gt;SELECT mskn&lt;br/&gt;LOCATE FOR cust_no + item_no&lt;br/&gt;Get SKN]\n\n    SetSKN --&gt; CreateMoeRecord[APPEND BLANK to moe&lt;br/&gt;REPLACE oe_no, cust_no&lt;br/&gt;item_no, qty, price&lt;br/&gt;ctn, unit, vendor_no, maker&lt;br/&gt;skn_no, dates]\n\n    CreateMoeRecord --&gt; CheckHasBOM{Item has BOM&lt;br/&gt;in mprodbom?}\n    CheckHasBOM --&gt;|Yes| ProcessBOM[DO Process BOM Logic&lt;br/&gt;Create moebom records&lt;br/&gt;Calculate sub-item quantities]\n    CheckHasBOM --&gt;|No| ItemEntryLoop\n\n    ProcessBOM --&gt; ItemEntryLoop\n\n    SaveOE[User Clicks Save&lt;br/&gt;Save OE] --&gt; ValidateItems{Has Items&lt;br/&gt;in moe?}\n    ValidateItems --&gt;|No| ShowNoItemsError[Show Error&lt;br/&gt;OE Must Have Items]\n    ValidateItems --&gt;|Yes| UpdateAudit[REPLACE moehd.mod_date&lt;br/&gt;= DATE&lt;br/&gt;REPLACE moehd.mod_user&lt;br/&gt;= sysUserId]\n\n    ShowNoItemsError --&gt; AddItem\n    UpdateAudit --&gt; ProcessQtyBrk[Process Quantity Breakdown&lt;br/&gt;if user entered breakdowns&lt;br/&gt;DO update_mqtybrk]\n\n    ProcessQtyBrk --&gt; CloseForm[Close Form&lt;br/&gt;Return to Menu]\n    CloseForm --&gt; EndCancel\n    EndCancel([Entry Complete or Cancelled]) --&gt; End\n    End([Process Complete])</code></pre> <p>Code Reference: Form <code>xmoe</code> - Manual OE entry form logic</p>"},{"location":"source/02-business-processes/order-enquiry-process/#oe-control-record-management","title":"OE Control Record Management","text":""},{"location":"source/02-business-processes/order-enquiry-process/#oe-control-record-management-detailed-flow","title":"OE Control Record Management Detailed Flow","text":"<pre><code>flowchart TD\n    Start([OE Control Management]) --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Create| CreateOEControl\n    UserAction --&gt;|Validate| ValidateOEControl\n    UserAction --&gt;|Update| UpdateOEControl\n\n    CreateOEControl[Create OE Control Record] --&gt; EnterOENo[User Enters OE Number&lt;br/&gt;w_oe_no]\n    EnterOENo --&gt; CheckDuplicate[SELECT moectrl&lt;br/&gt;SET ORDER TO OE_NO&lt;br/&gt;SEEK w_oe_no]\n\n    CheckDuplicate --&gt; DuplicateFound{Record&lt;br/&gt;Exists?}\n    DuplicateFound --&gt;|Yes| ShowDuplicateError[Show Error&lt;br/&gt;OE Number Already Exists]\n    DuplicateFound --&gt;|No| EnterDetails[User Enters Details&lt;br/&gt;Customer Number&lt;br/&gt;OE Date&lt;br/&gt;Other control info]\n\n    ShowDuplicateError --&gt; EndCancel\n    EnterDetails --&gt; ValidateCust{Validate&lt;br/&gt;Customer&lt;br/&gt;in mcustom?}\n\n    ValidateCust --&gt;|No| ShowCustError[Show Error&lt;br/&gt;Customer Not Found]\n    ValidateCust --&gt;|Yes| CreateRecord[APPEND BLANK to moectrl&lt;br/&gt;REPLACE oe_no, cust_no&lt;br/&gt;oe_date, status]\n\n    ShowCustError --&gt; EndCancel\n    CreateRecord --&gt; SetAuditFields[REPLACE cre_date = DATE&lt;br/&gt;REPLACE cre_user = sysUserId&lt;br/&gt;REPLACE user_id = sysUserId]\n    SetAuditFields --&gt; EndSuccess\n\n    ValidateOEControl[Validate OE Control] --&gt; SelectOENo[Select OE Number&lt;br/&gt;to Validate]\n    SelectOENo --&gt; SeekRecord[SELECT moectrl&lt;br/&gt;SEEK oe_no]\n\n    SeekRecord --&gt; CheckExists{Record&lt;br/&gt;Exists?}\n    CheckExists --&gt;|No| ShowNotFound[Return: Not Found&lt;br/&gt;Cannot Import OE]\n    CheckExists --&gt;|Yes| CheckCustomer{Check Customer&lt;br/&gt;Matches&lt;br/&gt;Import Data?}\n\n    CheckCustomer --&gt;|No| ShowMismatch[Return: Customer Mismatch&lt;br/&gt;Import Skipped]\n    CheckCustomer --&gt;|Yes| ReturnValid[Return: Valid&lt;br/&gt;Proceed with Import]\n\n    ShowNotFound --&gt; EndCancel\n    ShowMismatch --&gt; EndCancel\n    ReturnValid --&gt; EndSuccess\n\n    UpdateOEControl[Update OE Control] --&gt; SelectOECtrl[Select Existing&lt;br/&gt;OE Control Record]\n    SelectOECtrl --&gt; LoadRecord[LOAD moectrl record&lt;br/&gt;Display in form]\n    LoadRecord --&gt; UpdateFields[User Updates Fields&lt;br/&gt;Customer, Date, Status&lt;br/&gt;Other fields]\n    UpdateFields --&gt; SaveUpdate[Save Changes&lt;br/&gt;REPLACE fields&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId]\n    SaveUpdate --&gt; EndSuccess\n\n    EndSuccess([Operation Successful]) --&gt; End\n    EndCancel([Operation Cancelled or Error]) --&gt; End\n    End([Process Complete])</code></pre> <p>Special Case: INSP Company Exception: - If <code>w_password == \"INSP\"</code>, OE Control validation is skipped - System automatically adds \"IN-\" prefix to OE number - No OE Control record required for INSP imports</p> <p>Code Reference: <code>source/uoexls_2013.prg</code> (lines 145-157, 178-184)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#quantity-breakdown-processing","title":"Quantity Breakdown Processing","text":""},{"location":"source/02-business-processes/order-enquiry-process/#purpose","title":"Purpose","text":"<p>Track quantities by size, color, style variations within an item</p>"},{"location":"source/02-business-processes/order-enquiry-process/#storage","title":"Storage","text":"<p>Table: <code>mqtybrk</code></p> <p>Fields: - <code>oe_no</code> - Links to OE - <code>item_no</code> - Links to item - <code>port</code> - Port code - <code>po_no</code> - Purchase Order number - <code>del_from</code> - Delivery date from - <code>del_to</code> - Delivery date to - <code>qty</code> - Quantity for this combination</p>"},{"location":"source/02-business-processes/order-enquiry-process/#quantity-breakdown-processing-detailed-flow","title":"Quantity Breakdown Processing Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Process Quantity Breakdown]) --&gt; DetectPortCode[Detect PORT CODE Field&lt;br/&gt;n_port_code = empty&lt;br/&gt;finished = .F.&lt;br/&gt;w_field_no = 2]\n    DetectPortCode --&gt; SearchPortCode[DO WHILE w_field_no &lt; 50&lt;br/&gt;AND finished != .T.&lt;br/&gt;field_name = f + STRZERO w_field_no,2&lt;br/&gt;Search for PORT CODE in field name]\n\n    SearchPortCode --&gt; FoundPortCode{Found&lt;br/&gt;PORT CODE?}\n    FoundPortCode --&gt;|Yes| StorePortCode[n_port_code = temp. + field_id&lt;br/&gt;finished = .T.]\n    FoundPortCode --&gt;|No| IncrFieldNo[w_field_no = w_field_no + 1]\n    IncrFieldNo --&gt; SearchPortCode\n    StorePortCode --&gt; DetectShipFrom[Detect C SHIP FROM field&lt;br/&gt;Store to n_ship_from]\n    DetectShipFrom --&gt; DetectQtyField[Detect TOTAL QTY field&lt;br/&gt;Store to w_qty]\n    DetectQtyField --&gt; CheckPortCode{!EMPTY&lt;br/&gt;n_port_code?}\n\n    CheckPortCode --&gt;|No| EndQtyBrk[End Qty Breakdown]\n    CheckPortCode --&gt;|Yes| GroupItemsByOE[SELECT FROM woexls&lt;br/&gt;GROUP BY f01, n_item&lt;br/&gt;WHERE f01 = w_oe_no_save&lt;br/&gt;INTO CURSOR vtempoe]\n\n    GroupItemsByOE --&gt; ItemLoop{More Items&lt;br/&gt;in vtempoe?}\n    ItemLoop --&gt;|No| EndQtyBrk\n    ItemLoop --&gt;|Yes| GetItemCode[w_item_field = vtempoe. + n_item&lt;br/&gt;w_item_code = ALLTRIM item_code]\n\n    GetItemCode --&gt; CountItemRows[SELECT COUNT n_qty&lt;br/&gt;FROM woexlst&lt;br/&gt;WHERE f01 = w_oe_no_save&lt;br/&gt;AND item == item_code&lt;br/&gt;INTO CURSOR vcount]\n    CountItemRows --&gt; CheckQtyCount{vcount.qty_count&lt;br/&gt;&gt; 1?}\n\n    CheckQtyCount --&gt;|No| SkipItem[SKIP vtempoe&lt;br/&gt;Continue Loop]\n    CheckQtyCount --&gt;|Yes| SelectItemRows[SELECT FROM woexlst&lt;br/&gt;WHERE f01 = w_oe_no_save&lt;br/&gt;AND item == item_code&lt;br/&gt;INTO CURSOR temp]\n\n    SelectItemRows --&gt; PortRowLoop{More Rows&lt;br/&gt;in temp&lt;br/&gt;AND qty_count &gt; 1?}\n    PortRowLoop --&gt;|No| SkipItem\n    PortRowLoop --&gt;|Yes| CheckPortEmpty{EMPTY&lt;br/&gt;n_port_code?}\n\n    CheckPortEmpty --&gt;|Yes| SkipRow[SKIP temp&lt;br/&gt;Continue Loop]\n    CheckPortEmpty --&gt;|No| CreateMQTYBRK[APPEND BLANK to mqtybrk&lt;br/&gt;REPLACE user_id = USERID&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_time = SUBSTR TIME,1,8]\n\n    CreateMQTYBRK --&gt; SetMQTYBRKFields[REPLACE mqtybrk.oe_no&lt;br/&gt;= w_oe_prefix + w_oe_no&lt;br/&gt;REPLACE mqtybrk.item_no = w_item_code&lt;br/&gt;REPLACE mqtybrk.port = n_port_code]\n    SetMQTYBRKFields --&gt; SetPortPO[w_port_po = temp. + n_po_no&lt;br/&gt;REPLACE mqtybrk.po_no = port_po]\n    SetPortPO --&gt; SetDates[REPLACE mqtybrk.del_from&lt;br/&gt;= CTOD ALLTRIM n_ship_from&lt;br/&gt;REPLACE mqtybrk.del_to&lt;br/&gt;= CTOD ALLTRIM n_ship_to]\n    SetDates --&gt; SetQty[REPLACE mqtybrk.qty&lt;br/&gt;= NUMVAL w_qty]\n    SetQty --&gt; SkipRow\n    SkipRow --&gt; PortRowLoop\n\n    SkipItem --&gt; ItemLoop\n    EndQtyBrk --&gt; End([Qty Breakdown Complete])</code></pre> <p>Code Reference: <code>source/uoexls_2013.prg</code> (lines 508-605, <code>update_mqtybrk</code> procedure)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#bom-handling","title":"BOM Handling","text":""},{"location":"source/02-business-processes/order-enquiry-process/#product-bom-structure","title":"Product BOM Structure","text":"<p>Table: <code>mprodbom</code></p> <p>Structure: - <code>item_no</code> - Parent item - <code>sub_item</code> - Sub-item - <code>qty</code> - Quantity of sub-item per parent</p>"},{"location":"source/02-business-processes/order-enquiry-process/#oe-bom-processing","title":"OE BOM Processing","text":"<p>Table: <code>moebom</code></p>"},{"location":"source/02-business-processes/order-enquiry-process/#bom-processing-logic-detailed-flow","title":"BOM Processing Logic Detailed Flow","text":"<pre><code>flowchart TD\n    Start([Process BOM]) --&gt; SelectMOE[SELECT moe&lt;br/&gt;SET ORDER TO ioe&lt;br/&gt;SEEK w_oe_prefix + w_oe_no]\n    SelectMOE --&gt; BOMLoop{More moe records&lt;br/&gt;with this oe_no?}\n\n    BOMLoop --&gt;|No| EndBOM[End BOM Processing]\n    BOMLoop --&gt;|Yes| GetMOERecord[Get next moe record&lt;br/&gt;Current item_no]\n\n    GetMOERecord --&gt; SelectMOEBOM[SELECT FROM moebom&lt;br/&gt;oe_no, item_no, sub_item, qty, price&lt;br/&gt;WHERE oe_no = w_oe_no&lt;br/&gt;INTO CURSOR vmoebom_item]\n    SelectMOEBOM --&gt; AggregateBOM[SELECT SUM qty as Pack_qty&lt;br/&gt;SUM qty*price as tot_price&lt;br/&gt;FROM vmoebom_item&lt;br/&gt;WHERE oe_no = w_oe_no&lt;br/&gt;AND item_no = moe.item_no&lt;br/&gt;INTO CURSOR vmoebom]\n\n    AggregateBOM --&gt; CheckHasBOM{!EOF&lt;br/&gt;vmoebom?}\n    CheckHasBOM --&gt;|No| SkipMOERecord[SKIP moe&lt;br/&gt;Continue Loop]\n    CheckHasBOM --&gt;|Yes| CheckPackQty{vmoebom.pack_qty&lt;br/&gt;&gt; 0?}\n\n    CheckPackQty --&gt;|Yes| UpdateMOEQty[REPLACE moe.qty&lt;br/&gt;= vmoebom.pack_qty&lt;br/&gt;REPLACE moe.price&lt;br/&gt;= ROUND tot_price / pack_qty, 4]\n    CheckPackQty --&gt;|No| JoinMprodbom\n    UpdateMOEQty --&gt; JoinMprodbom[SELECT FROM mprodbom a&lt;br/&gt;INNER JOIN vmoebom_item b&lt;br/&gt;ON a.item_no = b.item_no&lt;br/&gt;AND a.sub_item = b.sub_item&lt;br/&gt;WHERE a.item_no = moe.item_no&lt;br/&gt;INTO CURSOR vprodbom_item]\n\n    JoinMprodbom --&gt; CalcCtnQty[SELECT SUM mprodbom_qty as tot_qty&lt;br/&gt;SUM qty as tot_ctn_qty&lt;br/&gt;FROM vprodbom_item&lt;br/&gt;INTO CURSOR vtot_ctn]\n    CalcCtnQty --&gt; UpdateMOECtn{vtot_ctn.tot_qty&lt;br/&gt;&gt; 0 AND&lt;br/&gt;tot_ctn_qty &gt; 0?}\n\n    UpdateMOECtn --&gt;|Yes| ReplaceCtn[REPLACE moe.ctn&lt;br/&gt;= tot_qty / tot_ctn_qty]\n    UpdateMOECtn --&gt;|No| CheckPackPC2\n    ReplaceCtn --&gt; CheckPackPC2{EMPTY&lt;br/&gt;moe.pack_pc_2?}\n\n    CheckPackPC2 --&gt;|Yes| ReplacePackPC2[REPLACE moe.pack_pc_2&lt;br/&gt;= vtot_ctn.tot_ctn_qty]\n    CheckPackPC2 --&gt;|No| SkipMOERecord\n    ReplacePackPC2 --&gt; SkipMOERecord\n    SkipMOERecord --&gt; BOMLoop\n\n    EndBOM --&gt; End([BOM Processing Complete])</code></pre> <p>Code Reference: <code>source/uoexls_2013.prg</code> (lines 1608-1637, <code>Process_Moe</code> procedure)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#bom-quantity-calculation","title":"BOM Quantity Calculation","text":"<p>Formula (from <code>uordcont.prg</code> lines 53): <pre><code>replace morddt.qty with w_head_qty * mprodbom.qty / sum_qty.total_qty\n</code></pre></p> <p>Process: 1. Sum all BOM quantities for parent item 2. For each sub-item, calculate: <code>(head_qty * bom_qty) / total_bom_qty</code> 3. Distribute head quantity proportionally</p>"},{"location":"source/02-business-processes/order-enquiry-process/#oe-control-record-requirements","title":"OE Control Record Requirements","text":""},{"location":"source/02-business-processes/order-enquiry-process/#purpose_1","title":"Purpose","text":"<p>OE Control records (<code>moectrl</code>) serve as: - Validation checkpoint before OE creation - Source of OE date - Customer validation reference</p>"},{"location":"source/02-business-processes/order-enquiry-process/#required-fields","title":"Required Fields","text":"<ul> <li><code>oe_no</code> - Order Enquiry number (Primary Key)</li> <li><code>cust_no</code> - Customer number</li> <li><code>oe_date</code> - Order Enquiry date</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#creation","title":"Creation","text":"<p>Form: <code>ioectrl</code> (Input OE Control File)</p> <p>Process: 1. User enters OE number 2. User selects customer 3. User enters OE date 4. System creates <code>moectrl</code> record</p>"},{"location":"source/02-business-processes/order-enquiry-process/#usage","title":"Usage","text":"<p>During OE Import: - Validates OE number exists - Validates customer matches - Provides OE date</p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 148-175)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#customer-matching-logic","title":"Customer Matching Logic","text":""},{"location":"source/02-business-processes/order-enquiry-process/#process","title":"Process","text":"<ol> <li>Extract customer code from Excel (dynamic field detection)</li> <li>Validate against <code>moectrl.cust_no</code></li> <li>Validate against <code>mcustom.cust_no</code></li> <li>Retrieve customer settings (e.g., <code>show_sub_item_detail</code>)</li> </ol>"},{"location":"source/02-business-processes/order-enquiry-process/#customer-specific-behavior","title":"Customer-Specific Behavior","text":"<p><code>show_sub_item_detail</code> Setting: - Affects how sub-items are displayed - Retrieved from <code>mcustom</code> table - Used in OE processing</p> <p>Code Reference: <code>uoexls_2013.prg</code> (lines 185-190)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#item-validation_1","title":"Item Validation","text":""},{"location":"source/02-business-processes/order-enquiry-process/#process_1","title":"Process","text":"<ol> <li>Extract item numbers from Excel</li> <li>Look up each item in <code>mitem</code> table</li> <li>Validate item exists</li> <li>Retrieve item details (price, cost, etc.)</li> </ol>"},{"location":"source/02-business-processes/order-enquiry-process/#item-lookup","title":"Item Lookup","text":"<p>Code Reference: <pre><code>select mitem\nset order to item_no\nseek item_no\n</code></pre></p>"},{"location":"source/02-business-processes/order-enquiry-process/#item-details-used","title":"Item Details Used","text":"<ul> <li>Item description</li> <li>Standard price</li> <li>Cost</li> <li>Packing information</li> <li>Dimensions (cube, weight)</li> <li>HTC code</li> <li>Standard code</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#error-handling","title":"Error Handling","text":""},{"location":"source/02-business-processes/order-enquiry-process/#validation-errors","title":"Validation Errors","text":"<p>OE Control Not Found: - Error: \"No OE Control Record\" - Action: Import skipped for that OE</p> <p>Customer Mismatch: - Error: \"OE Control Record Cust Code Not Match\" - Action: Import skipped</p> <p>Invalid Item: - Error: Item not found in <code>mitem</code> - Action: Item line skipped or error shown</p>"},{"location":"source/02-business-processes/order-enquiry-process/#processing-errors","title":"Processing Errors","text":"<p>Quantity Errors: - Negative quantities - Zero quantities - Mismatched totals</p> <p>Date Errors: - Invalid date formats - Missing required dates</p>"},{"location":"source/02-business-processes/order-enquiry-process/#oe-status-management","title":"OE Status Management","text":""},{"location":"source/02-business-processes/order-enquiry-process/#status-values","title":"Status Values","text":"<ul> <li><code>status = 1</code> - Active/Posted (from <code>xmoe.prg</code> line 49)</li> <li>Other status codes may exist for different states</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#status-transitions","title":"Status Transitions","text":"<pre><code>Created \u2192 Processing \u2192 Posted \u2192 Confirmed\n</code></pre>"},{"location":"source/02-business-processes/order-enquiry-process/#status-updates","title":"Status Updates","text":"<ul> <li>Set during OE creation</li> <li>Updated when posted to OC</li> <li>May be updated during amendments</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#company-specific-behavior","title":"Company-Specific Behavior","text":""},{"location":"source/02-business-processes/order-enquiry-process/#ht-holiday-times","title":"HT (Holiday Times)","text":"<ul> <li>OE numbers contain \"/\" character</li> <li><code>comp_code = \"HT\"</code> set automatically</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#bat-baitin-trading","title":"BAT (Baitin Trading)","text":"<ul> <li>OE numbers don't contain \"/\"</li> <li><code>comp_code = \"BAT\"</code> set automatically</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#insp-inspirt-designs","title":"INSP (InSpirt Designs)","text":"<ul> <li>Adds \"IN-\" prefix to OE numbers</li> <li>Bypasses OE Control validation</li> <li>Uses different date logic</li> </ul>"},{"location":"source/02-business-processes/order-enquiry-process/#hfw-holiday-funworld","title":"HFW (Holiday Funworld)","text":"<ul> <li>Uses \"HFW\" prefix for OE numbers</li> <li><code>w_oe_prefix = \"HFW\"</code></li> </ul> <p>Code Reference: <code>xmoe.prg</code> (lines 50-54), <code>uoexls_2013.prg</code> (lines 145-147, 1337-1341)</p>"},{"location":"source/02-business-processes/order-enquiry-process/#summary","title":"Summary","text":"<p>The Order Enquiry process is the foundation of the trading system. It handles complex Excel imports with dynamic field detection, validates data against master files, processes quantity breakdowns and BOMs, and prepares orders for confirmation. The process is highly configurable to support different customer formats and company-specific requirements.</p>"},{"location":"source/02-business-processes/shipping-process/","title":"Shipping Process","text":""},{"location":"source/02-business-processes/shipping-process/#overview","title":"Overview","text":"<p>Shipping Orders (SO) are created to coordinate the shipping of confirmed orders. They link contracts and OCs to actual shipments and support customizable formats per customer.</p>"},{"location":"source/02-business-processes/shipping-process/#so-creation-rules","title":"SO Creation Rules","text":""},{"location":"source/02-business-processes/shipping-process/#source-documents","title":"Source Documents","text":"<p>Primary Sources: 1. Order Confirmation (OC) - <code>mordhd.conf_no</code> 2. Contract - <code>mconthd.cont_no</code></p>"},{"location":"source/02-business-processes/shipping-process/#creation-process","title":"Creation Process","text":"<p>Form: <code>isetso</code> (Input Shipping Order)</p>"},{"location":"source/02-business-processes/shipping-process/#so-creation-detailed-flow","title":"SO Creation Detailed Flow","text":"<pre><code>flowchart TD\n    Start([SO Creation Start]) --&gt; UserSelectSource[User Selects Source Document&lt;br/&gt;OC conf_no OR&lt;br/&gt;Contract cont_no]\n    UserSelectSource --&gt; CheckSourceType{Source&lt;br/&gt;Type?}\n\n    CheckSourceType --&gt;|OC| SelectOCItems[SELECT FROM morddt&lt;br/&gt;WHERE conf_no = selected OC&lt;br/&gt;Retrieve OC items]\n    CheckSourceType --&gt;|Contract| SelectContractItems[SELECT FROM mcontdt&lt;br/&gt;WHERE cont_no = selected Contract&lt;br/&gt;Retrieve Contract items]\n\n    SelectOCItems --&gt; DisplayItems[Display Items in Form&lt;br/&gt;User can select items&lt;br/&gt;to include in SO]\n    SelectContractItems --&gt; DisplayItems\n\n    DisplayItems --&gt; UserAssignItems[User Assigns Items&lt;br/&gt;Select quantities&lt;br/&gt;Set ship dates&lt;br/&gt;Assign to shipments]\n\n    UserAssignItems --&gt; UserConfirm{User&lt;br/&gt;Confirms&lt;br/&gt;Creation?}\n    UserConfirm --&gt;|Cancel| EndCancel[Cancel SO Creation]\n    UserConfirm --&gt;|Yes| GenerateSONo[Generate SO Number&lt;br/&gt;so_no&lt;br/&gt;Sequential or from OC/Contract]\n\n    GenerateSONo --&gt; ItemLoop{For Each&lt;br/&gt;Selected Item}\n    ItemLoop --&gt;|No More| SetShipMark\n    ItemLoop --&gt;|Yes| CreateSORecord[APPEND BLANK to mso&lt;br/&gt;Create SO record]\n\n    CreateSORecord --&gt; SetSOFields[REPLACE mso.so_no = so_no&lt;br/&gt;REPLACE mso.conf_no = conf_no&lt;br/&gt;if from OC&lt;br/&gt;REPLACE mso.cont_no = cont_no&lt;br/&gt;if from Contract]\n\n    SetSOFields --&gt; SetItemFields[REPLACE mso.item_no = item_no&lt;br/&gt;REPLACE mso.qty = selected qty&lt;br/&gt;REPLACE mso.ship_date = ship_date&lt;br/&gt;REPLACE mso.oc_no = oc_no&lt;br/&gt;if applicable]\n\n    SetItemFields --&gt; GetShipMark[Retrieve Ship Mark&lt;br/&gt;SELECT mcustom&lt;br/&gt;LOCATE FOR cust_no&lt;br/&gt;Get shipmark memo field]\n    GetShipMark --&gt; SetShipMarkFields[REPLACE mso.shipmark&lt;br/&gt;= customer shipmark&lt;br/&gt;or custom shipmark]\n\n    SetShipMarkFields --&gt; SetFOBTerms[REPLACE mso.fob_port&lt;br/&gt;= contract fob_port&lt;br/&gt;or default FOB port]\n    SetFOBTerms --&gt; SetOtherFields[REPLACE other SO fields&lt;br/&gt;ship_to, loading_port&lt;br/&gt;dest, remarks]\n    SetOtherFields --&gt; NextItem[Next Item&lt;br/&gt;Continue Loop]\n    NextItem --&gt; ItemLoop\n\n    SetShipMark[Apply Ship Mark&lt;br/&gt;from Customer] --&gt; GetCustomerInfo[SELECT mcustom&lt;br/&gt;Get customer shipmark&lt;br/&gt;from memo field]\n    GetCustomerInfo --&gt; ApplyShipMark[REPLACE SO records&lt;br/&gt;with ship mark&lt;br/&gt;from mcustom.shipmark]\n    ApplyShipMark --&gt; Complete[SO Creation Complete]\n    EndCancel --&gt; End\n    Complete --&gt; End([Process Complete])</code></pre> <p>Code Reference: Form <code>isetso</code> - Shipping Order creation logic</p>"},{"location":"source/02-business-processes/shipping-process/#so-table-structure","title":"SO Table Structure","text":"<p>Table: <code>mso</code> (Shipping Order)</p> <p>Key Fields: - <code>so_no</code> - Shipping Order number (Primary Key) - <code>conf_no</code> - Order Confirmation number (links to mordhd) - <code>cont_no</code> - Contract number (links to mconthd) - <code>item_no</code> - Item number (links to mitem) - <code>qty</code> - Shipping quantity - <code>ship_date</code> - Shipping date - Other shipping-specific fields</p> <p>File Size: 279MB (largest transaction table)</p>"},{"location":"source/02-business-processes/shipping-process/#format-based-so-generation","title":"Format-Based SO Generation","text":""},{"location":"source/02-business-processes/shipping-process/#customizable-formats","title":"Customizable Formats","text":"<p>Table: <code>zsoformat</code> (Shipping Order Format)</p> <p>Purpose: Store customer-specific SO format definitions</p> <p>Fields: - <code>so_key</code> - Format key (e.g., \"GLOBE\") - <code>uniqueid</code> - Unique identifier for format element - <code>vpos</code> - Vertical position - <code>hpos</code> - Horizontal position - <code>height</code> - Height - <code>width</code> - Width</p> <p>Code Reference: <code>pso.prg</code> (lines 4-7)</p>"},{"location":"source/02-business-processes/shipping-process/#format-application","title":"Format Application","text":""},{"location":"source/02-business-processes/shipping-process/#so-format-application-detailed-flow","title":"SO Format Application Detailed Flow","text":"<pre><code>flowchart TD\n    Start([SO Format Application]) --&gt; SelectSO[Select SO Number&lt;br/&gt;w_so_no]\n    SelectSO --&gt; GetSOData[SELECT FROM mso&lt;br/&gt;WHERE so_no = w_so_no&lt;br/&gt;Get SO records]\n\n    GetSOData --&gt; GetCustomer[Get Customer Number&lt;br/&gt;w_cust_no from SO&lt;br/&gt;or linked OC/Contract]\n    GetCustomer --&gt; LookupFormatKey[SELECT mcustom&lt;br/&gt;LOCATE FOR cust_no&lt;br/&gt;Get so_format_key&lt;br/&gt;or default format key]\n\n    LookupFormatKey --&gt; CheckFormatKey{Format Key&lt;br/&gt;Exists?}\n    CheckFormatKey --&gt;|No| UseDefaultFormat[Use Default Format&lt;br/&gt;Standard SO layout]\n    CheckFormatKey --&gt;|Yes| SelectFormat[SELECT FROM zsoformat&lt;br/&gt;WHERE so_key = format_key&lt;br/&gt;ORDER BY vpos, hpos&lt;br/&gt;Get format definition]\n\n    SelectFormat --&gt; CheckFormatFound{Format&lt;br/&gt;Definition&lt;br/&gt;Found?}\n    CheckFormatFound --&gt;|No| UseDefaultFormat\n    CheckFormatFound --&gt;|Yes| InitFormatArray[Initialize Format Array&lt;br/&gt;Store format elements&lt;br/&gt;vpos, hpos, height, width&lt;br/&gt;uniqueid]\n\n    UseDefaultFormat --&gt; GenerateReport\n    InitFormatArray --&gt; LoadReportTemplate[Load SO Report Template&lt;br/&gt;pso.frx or pso2.frx]\n    LoadReportTemplate --&gt; ApplyFormatElements{For Each&lt;br/&gt;Format Element&lt;br/&gt;in zsoformat}\n\n    ApplyFormatElements --&gt;|More| GetFormatElement[Get Format Element&lt;br/&gt;uniqueid, vpos, hpos&lt;br/&gt;height, width]\n    GetFormatElement --&gt; PositionElement[Position Report Element&lt;br/&gt;at vpos, hpos&lt;br/&gt;with height, width]\n    PositionElement --&gt; ApplyFormatElements\n\n    ApplyFormatElements --&gt;|No More| MapDataFields[Map SO Data to&lt;br/&gt;Format Elements&lt;br/&gt;Based on uniqueid]\n\n    MapDataFields --&gt; GenerateReport[Generate Formatted SO Report&lt;br/&gt;Apply format layout&lt;br/&gt;Fill with SO data]\n    GenerateReport --&gt; OutputReport{Output&lt;br/&gt;Format?}\n\n    OutputReport --&gt;|Print| SendToPrinter[Send to Printer]\n    OutputReport --&gt;|Preview| ShowPreview[Display Preview]\n    OutputReport --&gt;|PDF| GeneratePDF[Generate PDF File]\n    OutputReport --&gt;|Excel| ExportExcel[Export to Excel]\n\n    SendToPrinter --&gt; End\n    ShowPreview --&gt; End\n    GeneratePDF --&gt; End\n    ExportExcel --&gt; End\n    End([Format Application Complete])</code></pre> <p>Code Reference: <code>source/pso.prg</code> (lines 1-29)</p>"},{"location":"source/02-business-processes/shipping-process/#format-configuration","title":"Format Configuration","text":"<p>Form: <code>isoformat</code> or <code>isoformat2</code> (Input Shipping Order Format)</p> <p>Process: 1. User selects customer 2. User defines format layout 3. System saves format to <code>zsoformat</code> 4. Format used for future SOs</p>"},{"location":"source/02-business-processes/shipping-process/#ship-mark-handling","title":"Ship Mark Handling","text":""},{"location":"source/02-business-processes/shipping-process/#ship-mark-source","title":"Ship Mark Source","text":"<p>Table: <code>mshipmark</code> (Shipping Mark)</p> <p>Customer Field: <code>mcustom.shipmark</code> (memo field)</p> <p>Construction: From multiple memo fields (M11-M26) in legacy system</p> <p>Code Reference: <code>xcustom.prg</code> (lines 45-50)</p>"},{"location":"source/02-business-processes/shipping-process/#ship-mark-usage","title":"Ship Mark Usage","text":"<p>Process: 1. Retrieve customer's ship mark from <code>mcustom.shipmark</code> 2. Apply to SO document 3. Include in shipping labels 4. Print on shipping documents</p>"},{"location":"source/02-business-processes/shipping-process/#fob-terms","title":"FOB Terms","text":""},{"location":"source/02-business-processes/shipping-process/#fob-port","title":"FOB Port","text":"<p>Table: <code>zfobport</code> (FOB Port)</p> <p>Purpose: Define FOB (Free On Board) ports</p> <p>Usage: - Specified in contracts - Used in SO generation - Printed on shipping documents</p>"},{"location":"source/02-business-processes/shipping-process/#fob-terms_1","title":"FOB Terms","text":"<p>Table: <code>zfobterm</code> (FOB Terms)</p> <p>Purpose: Define FOB terms (e.g., FOB Hong Kong, FOB Shanghai)</p> <p>Usage: - Contract terms - SO terms - Shipping documentation</p>"},{"location":"source/02-business-processes/shipping-process/#so-printing","title":"SO Printing","text":""},{"location":"source/02-business-processes/shipping-process/#so-report","title":"SO Report","text":"<p>Form: <code>pso</code> (Print Shipping Order)</p> <p>Process: 1. Select SO number 2. Apply customer format (if custom) 3. Generate formatted SO document 4. Print or save as PDF</p> <p>Code Reference: <code>pso.prg</code></p>"},{"location":"source/02-business-processes/shipping-process/#format-application_1","title":"Format Application","text":"<p>Process: 1. Load format from <code>zsoformat</code> 2. Apply format to report template 3. Generate formatted output</p>"},{"location":"source/02-business-processes/shipping-process/#so-to-invoice-link","title":"SO to Invoice Link","text":""},{"location":"source/02-business-processes/shipping-process/#relationship","title":"Relationship","text":"<p>SO \u2192 Invoice: - <code>minvdt.so_no</code> links to <code>mso.so_no</code> - Invoices created from SO - SO quantities used for invoicing</p>"},{"location":"source/02-business-processes/shipping-process/#so-status","title":"SO Status","text":""},{"location":"source/02-business-processes/shipping-process/#status-values","title":"Status Values","text":"<p>Created: SO created, not yet shipped Shipped: Items shipped Invoiced: Invoice created from SO</p>"},{"location":"source/02-business-processes/shipping-process/#status-transitions","title":"Status Transitions","text":"<pre><code>Created \u2192 Shipped \u2192 Invoiced\n</code></pre>"},{"location":"source/02-business-processes/shipping-process/#summary","title":"Summary","text":"<p>The Shipping Order process coordinates the physical shipment of goods. It supports customizable formats per customer, handles ship marks and FOB terms, and links contracts to actual shipments. SOs serve as the basis for invoice generation.</p>"},{"location":"source/02-business-processes/workflow-overview/","title":"Workflow Overview","text":""},{"location":"source/02-business-processes/workflow-overview/#end-to-end-trading-workflow","title":"End-to-End Trading Workflow","text":"<p>The system manages the complete lifecycle of international trading operations from initial customer inquiry through final invoicing.</p>"},{"location":"source/02-business-processes/workflow-overview/#document-lifecycle","title":"Document Lifecycle","text":"<pre><code>flowchart TD\n    Start([Customer Inquiry]) --&gt; OE[\"Order Enquiry&lt;br/&gt;OE\"]\n    OE --&gt; Validate{Validate OE}\n    Validate --&gt;|Valid| Process[\"Process OE&lt;br/&gt;Qty Breakdown&lt;br/&gt;BOM\"]\n    Validate --&gt;|Invalid| Reject[Reject OE]\n\n    Process --&gt; Post[Post OE to OC]\n    Post --&gt; OC[\"Order Confirmation&lt;br/&gt;OC\"]\n\n    OC --&gt; GenContract[\"Generate Contracts&lt;br/&gt;Group by Vendor\"]\n    GenContract --&gt; Contract[\"Contract&lt;br/&gt;Purchase Order\"]\n\n    Contract --&gt; CreateSO[Create Shipping Order]\n    CreateSO --&gt; SO[\"Shipping Order&lt;br/&gt;SO\"]\n\n    SO --&gt; CreateDN[Create Delivery Note]\n    CreateDN --&gt; DN[\"Delivery Note&lt;br/&gt;DN\"]\n\n    DN --&gt; CreateInv[Create Invoice]\n    CreateInv --&gt; Inv[\"Invoice&lt;br/&gt;INV\"]\n\n    Inv --&gt; PackingList[Generate Packing List]\n    PackingList --&gt; ShipAdvice[Shipment Advice]\n    ShipAdvice --&gt; End([Complete])\n\n    style OE fill:#e1f5ff\n    style OC fill:#ffe1e1\n    style Contract fill:#ffe1cc\n    style SO fill:#fff4e1\n    style Inv fill:#e1ffe1</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#document-types","title":"Document Types","text":""},{"location":"source/02-business-processes/workflow-overview/#1-order-enquiry-oe","title":"1. Order Enquiry (OE)","text":"<ul> <li>Purpose: Initial customer inquiry/request</li> <li>Source: Excel import or manual entry</li> <li>Tables: <code>moehd</code>, <code>moe</code>, <code>moectrl</code></li> <li>Status: Draft \u2192 Processed \u2192 Posted</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#2-order-confirmation-oc","title":"2. Order Confirmation (OC)","text":"<ul> <li>Purpose: Confirmed order from customer</li> <li>Source: Posted from OE</li> <li>Tables: <code>mordhd</code>, <code>morddt</code></li> <li>Status: Created \u2192 Confirmed</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#3-contract","title":"3. Contract","text":"<ul> <li>Purpose: Purchase order to vendor</li> <li>Source: Generated from OC (grouped by vendor)</li> <li>Tables: <code>mconthd</code>, <code>mcontdt</code></li> <li>Status: Created \u2192 Sent \u2192 Confirmed</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#4-shipping-order-so","title":"4. Shipping Order (SO)","text":"<ul> <li>Purpose: Shipping instructions</li> <li>Source: Created from confirmed orders</li> <li>Tables: <code>mso</code></li> <li>Status: Created \u2192 Shipped</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#5-delivery-note-dn","title":"5. Delivery Note (DN)","text":"<ul> <li>Purpose: Delivery documentation</li> <li>Source: Created from shipping orders</li> <li>Tables: <code>mdnhd</code>, <code>mdndt</code>, <code>mdnbrk</code></li> <li>Status: Created \u2192 Delivered</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#6-invoice","title":"6. Invoice","text":"<ul> <li>Purpose: Customer billing</li> <li>Source: Created from SO/DN</li> <li>Tables: <code>minvhd</code>, <code>minvdt</code></li> <li>Status: Created \u2192 Sent \u2192 Paid</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#process-flow-diagrams","title":"Process Flow Diagrams","text":""},{"location":"source/02-business-processes/workflow-overview/#order-enquiry-creation-flow","title":"Order Enquiry Creation Flow","text":"<pre><code>flowchart TD\n    Start([Start OE Creation]) --&gt; Method{Import Method?}\n    Method --&gt;|Excel| Excel[Import from Excel]\n    Method --&gt;|Manual| Manual[Manual Entry]\n\n    Excel --&gt; ValidateCtrl{Validate OE Control}\n    ValidateCtrl --&gt;|Valid| ValidateCust{Validate Customer}\n    ValidateCtrl --&gt;|Invalid| Error1[Error: No Control Record]\n\n    ValidateCust --&gt;|Valid| ValidateItem{Validate Items}\n    ValidateCust --&gt;|Invalid| Error2[Error: Customer Mismatch]\n\n    ValidateItem --&gt;|Valid| CreateOE[Create OE Records]\n    ValidateItem --&gt;|Invalid| Error3[Error: Invalid Item]\n\n    CreateOE --&gt; ProcessQty[Process Qty Breakdown]\n    ProcessQty --&gt; ProcessBOM{Has BOM?}\n    ProcessBOM --&gt;|Yes| CreateBOM[Create BOM Items]\n    ProcessBOM --&gt;|No| Complete[OE Created]\n    CreateBOM --&gt; Complete\n\n    Manual --&gt; ValidateItem</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#post-oe-to-oc-flow","title":"Post OE to OC Flow","text":"<pre><code>flowchart TD\n    Start([Post OE to OC]) --&gt; SelectOE[Select OE]\n    SelectOE --&gt; ValidateOE{OE Valid?}\n    ValidateOE --&gt;|No| Error[Error Message]\n    ValidateOE --&gt;|Yes| CreateOC[\"Create OC Header\"]\n\n    CreateOC --&gt; CopyItems[\"Copy OE Items to OC\"]\n    CopyItems --&gt; ProcessBOM{BOM Items?}\n    ProcessBOM --&gt;|Yes| CalcBOM[Calculate BOM Quantities]\n    ProcessBOM --&gt;|No| UpdateStatus[Update OE Status]\n\n    CalcBOM --&gt; UpdateStatus\n    UpdateStatus --&gt; Complete[OC Created]</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#contract-generation-flow","title":"Contract Generation Flow","text":"<pre><code>flowchart TD\n    Start([Generate Contract]) --&gt; SelectOC[Select OC]\n    SelectOC --&gt; GroupVendor[Group OC Items by Vendor]\n    GroupVendor --&gt; ForEachVendor{For Each Vendor}\n\n    ForEachVendor --&gt; CreateCont[Create Contract Header]\n    CreateCont --&gt; CopyItems[Copy OC Items to Contract]\n    CopyItems --&gt; ProcessBOM{BOM Items?}\n\n    ProcessBOM --&gt;|Yes| CalcBOM[Calculate BOM Quantities]\n    ProcessBOM --&gt;|No| SetTerms[Set Payment Terms]\n\n    CalcBOM --&gt; SetTerms\n    SetTerms --&gt; NextVendor{More Vendors?}\n    NextVendor --&gt;|Yes| ForEachVendor\n    NextVendor --&gt;|No| Complete[Contracts Created]</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#status-transitions","title":"Status Transitions","text":""},{"location":"source/02-business-processes/workflow-overview/#order-enquiry-status","title":"Order Enquiry Status","text":"<pre><code>Draft \u2192 Processing \u2192 Posted \u2192 Confirmed\n</code></pre> <p>Status Values: - <code>status = 1</code> - Active/Posted (from <code>xmoe.prg</code> line 49) - Other status codes may exist</p>"},{"location":"source/02-business-processes/workflow-overview/#order-confirmation-status","title":"Order Confirmation Status","text":"<pre><code>Created \u2192 Confirmed \u2192 Contracted\n</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#contract-status","title":"Contract Status","text":"<pre><code>Created \u2192 Sent \u2192 Confirmed \u2192 Shipped\n</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#invoice-status","title":"Invoice Status","text":"<pre><code>Created \u2192 Sent \u2192 Paid\n</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#key-business-rules","title":"Key Business Rules","text":""},{"location":"source/02-business-processes/workflow-overview/#1-oe-control-requirement","title":"1. OE Control Requirement","text":"<ul> <li>OE must have control record in <code>moectrl</code> before import</li> <li>Exception: INSP company (adds \"IN-\" prefix automatically)</li> <li>Customer code must match between OE Control and import data</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#2-bom-processing","title":"2. BOM Processing","text":"<ul> <li>Items with BOM have <code>head = .T.</code> flag</li> <li>Sub-items have <code>head = .F.</code> flag</li> <li>Quantities calculated from <code>mprodbom.qty</code></li> <li>Formula: <code>sub_item_qty = head_qty * bom_qty / total_bom_qty</code></li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#3-vendor-grouping","title":"3. Vendor Grouping","text":"<ul> <li>Contracts generated by grouping OC items by <code>vendor_no</code></li> <li>One contract per vendor per OC</li> <li>All items from same vendor in one contract</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#4-document-numbering","title":"4. Document Numbering","text":"<ul> <li>OE numbers: Format varies by company (HT uses \"/\", BAT doesn't)</li> <li>OC numbers: Generated from OE</li> <li>Contract numbers: Generated from OC</li> <li>SO numbers: Generated from OC/Contract</li> <li>Invoice numbers: Generated from SO/DN</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#5-quantity-tracking","title":"5. Quantity Tracking","text":"<ul> <li>OE quantities can have breakdowns (size/color/style)</li> <li>Breakdowns stored in <code>mqtybrk</code></li> <li>BOM quantities calculated automatically</li> <li>Quantities flow: OE \u2192 OC \u2192 Contract \u2192 SO \u2192 Invoice</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#data-flow-summary","title":"Data Flow Summary","text":""},{"location":"source/02-business-processes/workflow-overview/#forward-flow-creation","title":"Forward Flow (Creation)","text":"<pre><code>Customer Request\n  \u2193\nOE (Order Enquiry)\n  \u2193\nOC (Order Confirmation)\n  \u2193\nContract (Purchase Order to Vendor)\n  \u2193\nSO (Shipping Order)\n  \u2193\nDN (Delivery Note)\n  \u2193\nInvoice (Customer Billing)\n</code></pre>"},{"location":"source/02-business-processes/workflow-overview/#backward-references","title":"Backward References","text":"<p>Each document maintains links to previous documents: - <code>morddt.oe_no</code> \u2192 <code>moe.oe_no</code> - <code>mcontdt.conf_no</code> \u2192 <code>mordhd.conf_no</code> - <code>mso.conf_no</code> \u2192 <code>mordhd.conf_no</code> - <code>minvhd.oc_no</code> \u2192 <code>mordhd.conf_no</code> - <code>minvdt.so_no</code> \u2192 <code>mso.so_no</code></p>"},{"location":"source/02-business-processes/workflow-overview/#workflow-variations","title":"Workflow Variations","text":""},{"location":"source/02-business-processes/workflow-overview/#standard-flow","title":"Standard Flow","text":"<p>Most orders follow the complete flow: OE \u2192 OC \u2192 Contract \u2192 SO \u2192 DN \u2192 Invoice</p>"},{"location":"source/02-business-processes/workflow-overview/#direct-contract","title":"Direct Contract","text":"<p>Some orders may create contracts directly without OC</p>"},{"location":"source/02-business-processes/workflow-overview/#direct-invoice","title":"Direct Invoice","text":"<p>Some orders may create invoices directly from SO</p>"},{"location":"source/02-business-processes/workflow-overview/#amendment-flow","title":"Amendment Flow","text":"<ul> <li>Contract amendments: <code>mcontamdrmk</code></li> <li>Order adjustments: <code>mordadj</code></li> <li>Invoice adjustments: <code>minvadj</code></li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#integration-points","title":"Integration Points","text":""},{"location":"source/02-business-processes/workflow-overview/#excel-import","title":"Excel Import","text":"<ul> <li>OE can be imported from Excel</li> <li>Multiple Excel formats supported</li> <li>Validation during import</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#manual-entry","title":"Manual Entry","text":"<ul> <li>All documents can be entered manually</li> <li>Forms provide data entry interfaces</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#reporting","title":"Reporting","text":"<ul> <li>Each document type has associated reports</li> <li>Summary reports track workflow status</li> <li>Analysis reports provide business insights</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#error-handling","title":"Error Handling","text":""},{"location":"source/02-business-processes/workflow-overview/#validation-errors","title":"Validation Errors","text":"<ul> <li>OE Control not found</li> <li>Customer mismatch</li> <li>Invalid item numbers</li> <li>Missing required fields</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#business-rule-errors","title":"Business Rule Errors","text":"<ul> <li>Cannot post OE without valid items</li> <li>Cannot create contract without OC</li> <li>Cannot create invoice without SO/DN</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#data-integrity-errors","title":"Data Integrity Errors","text":"<ul> <li>Orphaned detail records</li> <li>Invalid foreign key references</li> <li>Missing master data</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#workflow-completion-criteria","title":"Workflow Completion Criteria","text":""},{"location":"source/02-business-processes/workflow-overview/#oe-complete","title":"OE Complete","text":"<ul> <li>All items validated</li> <li>Qty breakdowns processed</li> <li>BOM items calculated</li> <li>Ready for posting</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#oc-complete","title":"OC Complete","text":"<ul> <li>OE posted successfully</li> <li>All items confirmed</li> <li>Quantities confirmed</li> <li>Ready for contract generation</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#contract-complete","title":"Contract Complete","text":"<ul> <li>OC items grouped by vendor</li> <li>Contracts created for each vendor</li> <li>Payment terms set</li> <li>Ready for vendor confirmation</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#so-complete","title":"SO Complete","text":"<ul> <li>Shipping instructions created</li> <li>Items assigned to shipments</li> <li>Ready for shipping</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#invoice-complete","title":"Invoice Complete","text":"<ul> <li>Items invoiced</li> <li>Packing list generated</li> <li>Ready for customer</li> </ul>"},{"location":"source/02-business-processes/workflow-overview/#summary","title":"Summary","text":"<p>The workflow follows a linear progression from customer inquiry to final invoicing, with each step building on the previous. The system maintains referential integrity through manual linking and validation at each stage.</p>"},{"location":"source/03-application-modules/module-inventory/","title":"Module Inventory","text":""},{"location":"source/03-application-modules/module-inventory/#complete-list-of-functional-modules","title":"Complete List of Functional Modules","text":"<p>The system is organized into functional modules based on the menu structure. Each module contains related forms, programs, and business logic.</p>"},{"location":"source/03-application-modules/module-inventory/#module-structure","title":"Module Structure","text":""},{"location":"source/03-application-modules/module-inventory/#1-file-management-module","title":"1. File Management Module","text":"<p>Menu: File Purpose: Master data and system administration</p> <p>Sub-modules: - Item Management - Customer Management - Vendor Management - User Management - System Configuration - Data Maintenance</p>"},{"location":"source/03-application-modules/module-inventory/#2-order-enquiry-module","title":"2. Order Enquiry Module","text":"<p>Menu: Order Enquiry Purpose: Order enquiry creation and management</p> <p>Sub-modules: - OE Control - OE Import/Input/Print - Qty Breakdown - Other Enquiry</p>"},{"location":"source/03-application-modules/module-inventory/#3-order-confirmation-module","title":"3. Order Confirmation Module","text":"<p>Menu: Order Confirmation Purpose: Order confirmation processing</p> <p>Sub-modules: - Post OE/Post OC - Input Order Confirmation - Print Order Confirmation - OC Qty Breakdown</p>"},{"location":"source/03-application-modules/module-inventory/#4-contract-module","title":"4. Contract Module","text":"<p>Menu: Contract Purpose: Contract generation and management</p> <p>Sub-modules: - Contract Input - Contract Printing - Contract Amendments - Contract Reports</p>"},{"location":"source/03-application-modules/module-inventory/#5-shipping-order-module","title":"5. Shipping Order Module","text":"<p>Menu: Shipping Order Purpose: Shipping order creation and management</p> <p>Sub-modules: - Input Shipping Order - Print Shipping Order - SO Format Configuration</p>"},{"location":"source/03-application-modules/module-inventory/#6-delivery-note-module","title":"6. Delivery Note Module","text":"<p>Menu: DN Purpose: Delivery note processing</p> <p>Sub-modules: - Input D/N - Create D/N Excel - Loading Master - Loading Advice - Print Functions</p>"},{"location":"source/03-application-modules/module-inventory/#7-invoice-module","title":"7. Invoice Module","text":"<p>Menu: Invoice Purpose: Invoice generation and packing lists</p> <p>Sub-modules: - Input Invoice - Print Invoice - Packing List - Shipment Advice - Debit Note</p>"},{"location":"source/03-application-modules/module-inventory/#8-delivery-report-module","title":"8. Delivery Report Module","text":"<p>Menu: Delivery Report Purpose: Delivery and payment tracking</p> <p>Sub-modules: - Actual Delivery Date - Authorize Maker Invoice - Delivery Report Enquiry - Payment Status</p>"},{"location":"source/03-application-modules/module-inventory/#9-enquiry-module","title":"9. Enquiry Module","text":"<p>Menu: Enquiry Purpose: Data enquiry and analysis</p> <p>Sub-modules: - Sales Analysis - Item Enquiry - SO Enquiry - Summary Enquiries</p>"},{"location":"source/03-application-modules/module-inventory/#10-report-module","title":"10. Report Module","text":"<p>Menu: Report Purpose: Business reports</p> <p>Sub-modules: - Transaction Reports - Summary Reports - Analysis Reports - Export Reports</p>"},{"location":"source/03-application-modules/module-inventory/#11-acrobat-file-module","title":"11. Acrobat File Module","text":"<p>Menu: Acrobat File Purpose: PDF generation</p> <p>Sub-modules: - OE PDF - OC PDF - Contract PDF - Invoice PDF</p>"},{"location":"source/03-application-modules/module-inventory/#module-dependencies","title":"Module Dependencies","text":""},{"location":"source/03-application-modules/module-inventory/#dependency-flow","title":"Dependency Flow","text":"<pre><code>File Management (Master Data)\n  \u2193\nOrder Enquiry\n  \u2193\nOrder Confirmation\n  \u2193\nContract\n  \u2193\nShipping Order\n  \u2193\nDelivery Note\n  \u2193\nInvoice\n</code></pre>"},{"location":"source/03-application-modules/module-inventory/#cross-module-dependencies","title":"Cross-Module Dependencies","text":"<ul> <li>All modules depend on File Management (master data)</li> <li>Order Confirmation depends on Order Enquiry</li> <li>Contract depends on Order Confirmation</li> <li>Shipping Order depends on Contract/OC</li> <li>Invoice depends on Shipping Order/DN</li> <li>Enquiry/Report modules read from all transaction modules</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#menu-structure-mapping","title":"Menu Structure Mapping","text":""},{"location":"source/03-application-modules/module-inventory/#main-menu-pads-batmenusmpr","title":"Main Menu Pads (BATMENUS.MPR)","text":"<ol> <li>File (ALT+F)</li> <li>Order Enquiry (ALT+O)</li> <li>Order Confirmation (ALT+O)</li> <li>Contract (ALT+C)</li> <li>Shipping Order (ALT+S)</li> <li>DN (ALT+D)</li> <li>Invoice (ALT+I)</li> <li>Delivery Report (ALT+D)</li> <li>Document Printing (ALT+D) - Disabled</li> <li>Enquiry (ALT+E)</li> <li>Report (ALT+R)</li> <li>Acrobat File (ALT+A)</li> <li>LogOut (ALT+L)</li> <li>Exit (ALT+E)</li> </ol>"},{"location":"source/03-application-modules/module-inventory/#menu-differences","title":"Menu Differences","text":"<p>SUPERVISOR Menu (BATMENUS.MPR): - Full access to all functions - Administrative functions enabled - Data conversion tools available</p> <p>REGULAR_USER Menu (BATMENU.MPR): - Limited access - No administrative functions - Limited data conversion</p>"},{"location":"source/03-application-modules/module-inventory/#module-to-form-mapping","title":"Module-to-Form Mapping","text":""},{"location":"source/03-application-modules/module-inventory/#file-management-forms","title":"File Management Forms","text":"<ul> <li><code>iitem</code> - Input Item</li> <li><code>icustom</code> - Customer</li> <li><code>ivendor</code> - Vendor</li> <li><code>iuser</code> - User Account</li> <li><code>ipara2</code> - Company Info</li> <li><code>isuspended_item</code> - Suspended Item</li> <li><code>systemtools.prg</code> - Data Recovery</li> <li><code>zdel_data</code> - Delete Data</li> <li><code>zvencon</code> - Vendor Code Conversion</li> <li>Various data conversion forms</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#order-enquiry-forms","title":"Order Enquiry Forms","text":"<ul> <li><code>ioectrl</code> - OE Control</li> <li><code>ioe1@</code> - Input OE (New)</li> <li><code>uoexls</code> - Import OE from Excel</li> <li><code>uoexls_2013</code> - Import OE (2013 CSV)</li> <li><code>uoexls_2013_xls</code> - Import OE (2013 XLS)</li> <li><code>unewoexls</code> - Import OE (New Format)</li> <li><code>uwalxls</code> - Import OE (Walmart)</li> <li><code>uoexls2</code> - Import OE (Multi Item Block)</li> <li><code>zoexls_batch</code> - Export OE to XLS</li> <li><code>iqtybrk2</code> - Input Qty Breakdown</li> <li><code>ppobrk</code> - Print OE Qty Breakdown</li> <li><code>pordenq2</code> - Print Order Enquiry</li> <li>Various enquiry forms</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#order-confirmation-forms","title":"Order Confirmation Forms","text":"<ul> <li><code>upostoe</code> - Post OE/Post OC</li> <li><code>iordhd</code> - Input Order Confirmation</li> <li><code>iorddt1</code>, <code>iorddt2</code> - OC Detail Entry</li> <li><code>pconfirm</code> - Print Order Confirmation</li> <li><code>pocbrk</code> - Print OC Qty Breakdown</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#contract-forms","title":"Contract Forms","text":"<ul> <li><code>isetcont@@_2018</code> - Input Contract (2018)</li> <li><code>isetcont@@_2018</code> - Input Contract (2018 Fast)</li> <li><code>iconthd_2018</code> - Contract Header</li> <li><code>icontdt_2018</code> - Contract Detail</li> <li><code>pcontract@_2018</code> - Print Contract (2018)</li> <li><code>pcontbrk</code> - Print Contract Qty Breakdown</li> <li><code>pcontamdrmk</code> - Print Contract Amendment</li> <li><code>pitname</code> - Print Item Description for Carton</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#shipping-order-forms","title":"Shipping Order Forms","text":"<ul> <li><code>isetso</code> - Input Shipping Order</li> <li><code>isetsodt</code> - SO Detail</li> <li><code>pso</code> - Print Shipping Order</li> <li><code>isoformat</code> - Input SO Format</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#delivery-note-forms","title":"Delivery Note Forms","text":"<ul> <li><code>idn</code> - Input D/N</li> <li><code>idnbrk</code> - DN Breakdown</li> <li><code>iload</code> - Input Loading Master</li> <li><code>isetla</code> - Input Loading Advice</li> <li><code>pla</code> - Print Loading Advice</li> <li><code>pdnorg</code> - Print D/N Original List</li> <li><code>pdn_xls</code> - Create D/N Excel File</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#invoice-forms","title":"Invoice Forms","text":"<ul> <li><code>iinvhd@</code> - Input Invoice (New)</li> <li><code>iinvdt2@</code> - Invoice Detail (New)</li> <li><code>pinv@</code> - Print Invoice (New)</li> <li><code>ppacklist_new</code> - Print Packing List (New)</li> <li><code>ppacklist_xls</code> - Print Packing List to XLS</li> <li><code>ppacklist_xls_spencer</code> - Packing List (Spencer Format)</li> <li><code>pinv_xls</code> - Print Invoice to XLS</li> <li><code>pshadvice</code> - Print Shipment Advice</li> <li><code>pdebitnote</code> - Print Debit Note</li> <li><code>einvoice</code> - Enquiry By Invoice</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#module-to-program-mapping","title":"Module-to-Program Mapping","text":""},{"location":"source/03-application-modules/module-inventory/#key-programs-by-module","title":"Key Programs by Module","text":"<p>File Management: - <code>xitem.prg</code> - Item import - <code>xcustom.prg</code> - Customer import - <code>xvendor.prg</code> - Vendor import - <code>zdoc.prg</code> - Reindex utility - <code>systemtools.prg</code> - System tools</p> <p>Order Enquiry: - <code>uoexls_2013.prg</code> - Excel import (1,747 lines - most complex) - <code>uoexls.prg</code> - Standard Excel import - <code>unewoexls.prg</code> - New format import - <code>uwalexls.prg</code> - Walmart format - <code>upostoe.prg</code> - Post OE to OC</p> <p>Order Confirmation: - <code>uordcont.prg</code> - Update OC/Contract - <code>uworderconf.prg</code> - Order confirmation processing</p> <p>Contract: - <code>uwcontract.prg</code> - Contract generation - <code>pcontract.prg</code> - Contract printing</p> <p>Shipping: - <code>pso.prg</code> - SO printing - <code>xpostozso.prg</code> - Post to SO</p> <p>Invoice: - <code>pinv.prg</code> - Invoice printing logic - <code>ppacklist1_new.prg</code> - Packing list - <code>uwinv.prg</code> - Invoice processing</p>"},{"location":"source/03-application-modules/module-inventory/#module-access-control","title":"Module Access Control","text":""},{"location":"source/03-application-modules/module-inventory/#supervisor-access","title":"SUPERVISOR Access","text":"<ul> <li>All modules fully accessible</li> <li>Administrative functions enabled</li> <li>Data conversion tools available</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#regular_user-access","title":"REGULAR_USER Access","text":"<ul> <li>Limited module access</li> <li>No administrative functions</li> <li>Limited data conversion</li> <li>Read-only access to some modules</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#module-communication","title":"Module Communication","text":""},{"location":"source/03-application-modules/module-inventory/#data-flow-between-modules","title":"Data Flow Between Modules","text":"<pre><code>File Management (Master Data)\n  \u2193 Provides data to \u2193\nOrder Enquiry\n  \u2193 Posts to \u2193\nOrder Confirmation\n  \u2193 Generates \u2193\nContract\n  \u2193 Creates \u2193\nShipping Order\n  \u2193 Links to \u2193\nDelivery Note\n  \u2193 Generates \u2193\nInvoice\n</code></pre>"},{"location":"source/03-application-modules/module-inventory/#shared-data","title":"Shared Data","text":"<ul> <li>Master Data: Used by all transaction modules</li> <li>Transaction Data: Flows through modules in sequence</li> <li>Reference Data: Used across modules</li> </ul>"},{"location":"source/03-application-modules/module-inventory/#summary","title":"Summary","text":"<p>The system is organized into 11 main functional modules, each handling a specific aspect of the trading workflow. Modules are accessed through the menu system, with different access levels for SUPERVISOR and REGULAR_USER roles. The modules follow a sequential workflow from master data setup through order processing to final invoicing.</p>"},{"location":"source/03-application-modules/order-enquiry-module/","title":"Order Enquiry Module","text":""},{"location":"source/03-application-modules/order-enquiry-module/#overview","title":"Overview","text":"<p>The Order Enquiry (OE) module handles the creation, import, validation, and processing of customer order enquiries. It is the entry point for all orders in the system.</p>"},{"location":"source/03-application-modules/order-enquiry-module/#forms","title":"Forms","text":""},{"location":"source/03-application-modules/order-enquiry-module/#oe-control","title":"OE Control","text":"<ul> <li><code>ioectrl</code> - Input OE Control File</li> <li><code>eoectrl</code> - OE Control File Enquiry</li> <li><code>eoeact</code> - OE Activity Enquiry</li> <li><code>eoerecord</code> - OE Record Enquiry</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#oe-importinputprint","title":"OE Import/Input/Print","text":"<ul> <li><code>ioe1@</code> - Input OE (New) - Manual entry form</li> <li><code>uoexls</code> - Import OE from Excel File (standard format)</li> <li><code>uoexls_2013</code> - Import OE from Excel (2013 CSV) - Most complex (1,747 lines)</li> <li><code>uoexls_2013_xls</code> - Import OE from Excel (2013 XLS)</li> <li><code>unewoexls</code> - Import OE (New Format Excel File)</li> <li><code>uwalxls</code> - Import OE from Walmart XLS File</li> <li><code>uoexls2</code> - Import OE from XLS (Multi Item Block)</li> <li><code>zoexls_batch</code> - Export OE to XLS (Batch Mode)</li> <li><code>pordenq2</code> - Print Order Enquiry (New)</li> <li><code>poedoc</code> - Print OE Doc (OE, OC, CONT)</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#qty-breakdown","title":"Qty Breakdown","text":"<ul> <li><code>iqtybrk2</code> - Input Qty Breakdown By PO</li> <li><code>ppobrk</code> - Print OE Qty Breakdown By PO No.</li> <li><code>uqty_breakdown</code> - Import Qty Breakdown (CSV)</li> <li><code>uqty_breakdown_xls</code> - Import Qty Breakdown (XLS)</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#other-enquiry","title":"Other Enquiry","text":"<ul> <li><code>poeerr</code> - Check OE Data</li> <li><code>eoebypo</code> - OE Enquiry By PO No.</li> <li><code>ioedeldate</code> - Input O.E. Shipment Status</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#key-programs","title":"Key Programs","text":""},{"location":"source/03-application-modules/order-enquiry-module/#uoexls_2013prg-1747-lines","title":"uoexls_2013.prg (1,747 lines)","text":"<p>Purpose: Primary Excel import program for 2013 CSV format</p> <p>Key Functions: 1. Dynamic field detection (searches for \"ITEM\", \"QTY\", etc.) 2. OE Control validation 3. Customer validation 4. Item validation 5. Quantity breakdown processing 6. BOM processing 7. Data import to <code>moe</code> and <code>moehd</code> tables</p> <p>Complexity: Most complex program in the system</p> <p>Code Reference: See <code>docs/05-business-logic/excel-import-logic.md</code> for detailed analysis</p>"},{"location":"source/03-application-modules/order-enquiry-module/#uoexlsprg","title":"uoexls.prg","text":"<p>Purpose: Standard Excel import</p> <p>Features: - Standard Excel format support - Basic validation - Item and customer lookup</p>"},{"location":"source/03-application-modules/order-enquiry-module/#unewoexlsprg","title":"unewoexls.prg","text":"<p>Purpose: New format Excel import</p> <p>Features: - Updated Excel format support - Enhanced validation - Improved error handling</p>"},{"location":"source/03-application-modules/order-enquiry-module/#uwalxlsprg","title":"uwalxls.prg","text":"<p>Purpose: Walmart-specific Excel format</p> <p>Features: - Walmart format parsing - Custom field mapping - Walmart-specific validations</p>"},{"location":"source/03-application-modules/order-enquiry-module/#excel-import-formats-supported","title":"Excel Import Formats Supported","text":"<ol> <li>Standard Format - Generic Excel template</li> <li>Walmart Format - Walmart-specific layout</li> <li>CSV Format (2013) - Comma-separated values</li> <li>XLS Format (2013) - Excel 2013 format</li> <li>Multi-Item Block - Items grouped in blocks</li> <li>New Format - Updated Excel template</li> </ol>"},{"location":"source/03-application-modules/order-enquiry-module/#validation-logic","title":"Validation Logic","text":""},{"location":"source/03-application-modules/order-enquiry-module/#oe-control-validation","title":"OE Control Validation","text":"<ul> <li>OE must have control record in <code>moectrl</code></li> <li>Exception: INSP company (adds \"IN-\" prefix)</li> <li>Customer code must match</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#customer-validation","title":"Customer Validation","text":"<ul> <li>Customer must exist in <code>mcustom</code></li> <li>Customer code validated against OE Control</li> <li>Customer settings retrieved (<code>show_sub_item_detail</code>)</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#item-validation","title":"Item Validation","text":"<ul> <li>Items must exist in <code>mitem</code></li> <li>Item numbers validated</li> <li>Item details retrieved (price, cost, etc.)</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#qty-breakdown-entry","title":"Qty Breakdown Entry","text":""},{"location":"source/03-application-modules/order-enquiry-module/#manual-entry","title":"Manual Entry","text":"<ul> <li>Form: <code>iqtybrk2</code></li> <li>User enters breakdowns by size/color/style</li> <li>System validates totals match item quantity</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#import","title":"Import","text":"<ul> <li>CSV Import: <code>uqty_breakdown</code></li> <li>XLS Import: <code>uqty_breakdown_xls</code></li> <li>Import breakdowns from Excel</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#storage","title":"Storage","text":"<ul> <li>Table: <code>mqtybrk</code></li> <li>One record per size/color/style combination</li> <li>Linked to OE and item</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#bom-processing","title":"BOM Processing","text":""},{"location":"source/03-application-modules/order-enquiry-module/#product-bom","title":"Product BOM","text":"<ul> <li>Table: <code>mprodbom</code></li> <li>Defines parent/sub-item relationships</li> <li>Quantities per parent item</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#oe-bom","title":"OE BOM","text":"<ul> <li>Table: <code>moebom</code></li> <li>BOM items for specific OE</li> <li>Quantities calculated from <code>mprodbom</code></li> <li>Created during OE processing</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#processing-logic","title":"Processing Logic","text":"<ul> <li>Check if item has BOM</li> <li>Create sub-item records</li> <li>Calculate quantities proportionally</li> <li>Set prices and retail prices</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#tables-accessed","title":"Tables Accessed","text":""},{"location":"source/03-application-modules/order-enquiry-module/#primary-tables","title":"Primary Tables","text":"<ul> <li><code>moe</code> - OE Detail</li> <li><code>moehd</code> - OE Header</li> <li><code>moectrl</code> - OE Control</li> <li><code>mqtybrk</code> - Quantity Breakdown</li> <li><code>moebom</code> - OE BOM</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#lookup-tables","title":"Lookup Tables","text":"<ul> <li><code>mitem</code> - Items</li> <li><code>mcustom</code> - Customers</li> <li><code>mvendor</code> - Vendors</li> <li><code>mprodbom</code> - Product BOM</li> <li><code>mskn</code> - SKN mapping</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#business-rules","title":"Business Rules","text":"<ol> <li>OE Control Required: OE must have control record (except INSP)</li> <li>Customer Match: Customer must match OE Control</li> <li>Item Validation: All items must exist</li> <li>Qty Breakdown: Optional, but validated if present</li> <li>BOM Processing: Automatic if item has BOM</li> <li>Company Codes: Set based on OE number format</li> </ol>"},{"location":"source/03-application-modules/order-enquiry-module/#error-handling","title":"Error Handling","text":""},{"location":"source/03-application-modules/order-enquiry-module/#validation-errors","title":"Validation Errors","text":"<ul> <li>OE Control not found \u2192 Import skipped</li> <li>Customer mismatch \u2192 Import skipped</li> <li>Invalid item \u2192 Item line skipped</li> <li>Missing required fields \u2192 Error shown</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#processing-errors","title":"Processing Errors","text":"<ul> <li>Quantity errors \u2192 Validation error</li> <li>Date format errors \u2192 Conversion error</li> <li>BOM calculation errors \u2192 Default quantities used</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#reporting","title":"Reporting","text":""},{"location":"source/03-application-modules/order-enquiry-module/#oe-reports","title":"OE Reports","text":"<ul> <li><code>pordenq2</code> - Order Enquiry report</li> <li><code>poedoc</code> - OE document (OE, OC, CONT)</li> <li><code>ppobrk</code> - Qty breakdown by PO</li> <li><code>eoectrl</code> - OE Control enquiry</li> <li><code>eoeact</code> - OE Activity enquiry</li> <li><code>eoerecord</code> - OE Record enquiry</li> </ul>"},{"location":"source/03-application-modules/order-enquiry-module/#summary","title":"Summary","text":"<p>The Order Enquiry module is the foundation of the order processing system. It handles complex Excel imports with dynamic field detection, validates data against master files, processes quantity breakdowns and BOMs, and prepares orders for confirmation. The module supports multiple Excel formats and provides comprehensive validation and error handling.</p>"},{"location":"source/04-forms-and-screens/authentication-forms/","title":"Authentication Forms","text":""},{"location":"source/04-forms-and-screens/authentication-forms/#overview","title":"Overview","text":"<p>The system uses form-based authentication with password validation. Users log in through the <code>ilogon</code> form, which validates credentials against the <code>user</code> table and sets user rights and company context.</p>"},{"location":"source/04-forms-and-screens/authentication-forms/#login-form-ilogon","title":"Login Form: ilogon","text":""},{"location":"source/04-forms-and-screens/authentication-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>ilogon</code></li> <li>File: <code>source/ilogon.scx</code> / <code>source/ilogon.SCT</code></li> <li>Type: Modal form (WindowType = 1)</li> <li>Called From: <code>main.prg</code> (line 25)</li> </ul>"},{"location":"source/04-forms-and-screens/authentication-forms/#form-layout","title":"Form Layout","text":"<p>Controls: - <code>Text1</code> - User ID input field - <code>Text2</code> - Password input field - <code>Text3</code> - User Name display (read-only) - <code>Appoptgroup1</code> - Company selection option group (4 options) - <code>Command1</code> - Login button - <code>Command2</code> - Cancel/Exit button</p> <p>Form Properties: - Height: 339 - Width: 600 - AutoCenter: .T. - BorderStyle: 2 (Fixed Dialog) - ControlBox: .F. - Closable: .F. - Movable: .F. - WindowType: 1 (Modal)</p>"},{"location":"source/04-forms-and-screens/authentication-forms/#authentication-process-flow","title":"Authentication Process Flow","text":"<pre><code>flowchart TD\n    Start([Application Start&lt;br/&gt;main.prg]) --&gt; InitMain[Initialize Public Variables&lt;br/&gt;M, User_right, sysUserId&lt;br/&gt;w_shop_no, w_shop_name&lt;br/&gt;syswork, w_sys_language]\n    InitMain --&gt; CheckDir{\"Directory&lt;br/&gt;C drive Batwork&lt;br/&gt;exists?\"}\n    CheckDir --&gt;|No| CreateDir[\"MD C drive Batwork&lt;br/&gt;Create directory\"]\n    CheckDir --&gt;|Yes| SetConfig\n    CreateDir --&gt; SetConfig[\"Set Environment&lt;br/&gt;SET TALK OFF&lt;br/&gt;SET DELETE ON&lt;br/&gt;SET CENTURY ON&lt;br/&gt;SET DATE MDY&lt;br/&gt;SET PATH TO c drive batwork\"]\n    SetConfig --&gt; SetScreen[\"Set Screen Caption&lt;br/&gt;Trading Management System V3.0&lt;br/&gt;WINDOWSTATE = 2\"]\n    SetScreen --&gt; DoLogin[\"DO FORM ILOGON&lt;br/&gt;Display login form\"]\n\n    DoLogin --&gt; FormInit[\"Form Init Event&lt;br/&gt;Initialize Variables&lt;br/&gt;Intime = 1&lt;br/&gt;W_password = empty&lt;br/&gt;W_USER_ID = empty&lt;br/&gt;supervisor = False\"]\n    FormInit --&gt; DisplayForm[\"Display Login Form&lt;br/&gt;User ID, Password Fields&lt;br/&gt;Company Selection\"]\n\n    DisplayForm --&gt; UserEntersID[User Enters User ID&lt;br/&gt;Text1 Field]\n    UserEntersID --&gt; ValidateUserID[Text1.Valid Event]\n\n    ValidateUserID --&gt; CheckSpecialID{\"User ID&lt;br/&gt;equals 801?\"}\n    CheckSpecialID --&gt;|Yes| SkipValidation[\"Skip Validation&lt;br/&gt;Special Admin Access\"]\n    CheckSpecialID --&gt;|No| LookupUser[\"SELECT user and Rights&lt;br/&gt;FROM user INNER JOIN rights&lt;br/&gt;ON right_id matches&lt;br/&gt;INTO CURSOR Temp&lt;br/&gt;WHERE User_id equals Text1.value\"]\n\n    LookupUser --&gt; UserFound{\"User&lt;br/&gt;Found?\"}\n    UserFound --&gt;|No| ShowUserError[\"MessageBox&lt;br/&gt;User Not Found&lt;br/&gt;Clear Text1\"]\n    ShowUserError --&gt; UserEntersID\n    UserFound --&gt;|Yes| DisplayUserName[\"Set Text3.value&lt;br/&gt;= Temp.User_Name&lt;br/&gt;Display User Name\"]\n\n    SkipValidation --&gt; UserEntersPassword\n    DisplayUserName --&gt; UserEntersPassword[\"User Enters Password&lt;br/&gt;Text2 Field\"]\n\n    UserEntersPassword --&gt; ClickLogin[\"User Clicks Login Button&lt;br/&gt;Command1.Click\"]\n\n    ClickLogin --&gt; CheckSpecialLogin{\"User ID&lt;br/&gt;equals 801?\"}\n    CheckSpecialLogin --&gt;|Yes| SetSuperAdmin[\"M = True&lt;br/&gt;User_right = SUPERVISOR&lt;br/&gt;Release Form\"]\n    CheckSpecialLogin --&gt;|No| GetPassword[\"W_password = Temp.User_paw&lt;br/&gt;Get stored password\"]\n\n    GetPassword --&gt; DecryptPassword[\"Call Check Method&lt;br/&gt;Decrypt password using&lt;br/&gt;BitXOR algorithm\"]\n    DecryptPassword --&gt; ComparePassword{\"Decrypted Password&lt;br/&gt;equals Text2.value?\"}\n\n    ComparePassword --&gt;|No| ShowPassError[\"Show Password Error&lt;br/&gt;Clear Password Field\"]\n    ShowPassError --&gt; UserEntersPassword\n    ComparePassword --&gt;|Yes| SetAuthSuccess[\"M = True&lt;br/&gt;User_right = Temp.Rights&lt;br/&gt;sysUserId = Text1.value\"]\n\n    SetAuthSuccess --&gt; SelectCompany[\"User Selects Company&lt;br/&gt;Appoptgroup1.value\"]\n    SelectCompany --&gt; SetCompanyVars{\"Company&lt;br/&gt;Selection?\"}\n\n    SetCompanyVars --&gt;|Option 1| SetHT[\"w_password = HT&lt;br/&gt;w_company_code = HT&lt;br/&gt;w_oe_prefix = empty&lt;br/&gt;_SCREEN.PICTURE = HT.BMP\"]\n    SetCompanyVars --&gt;|Option 2| SetBAT[\"w_password = BAT&lt;br/&gt;w_company_code = BAT&lt;br/&gt;w_oe_prefix = empty&lt;br/&gt;_SCREEN.PICTURE = BTL.BMP\"]\n    SetCompanyVars --&gt;|Option 3| SetHFW[\"w_password = HFW&lt;br/&gt;w_company_code = HFW&lt;br/&gt;w_oe_prefix = HFW&lt;br/&gt;_SCREEN.PICTURE = HFW.BMP\"]\n    SetCompanyVars --&gt;|Option 4| SetINSP[\"w_password = INSP&lt;br/&gt;w_company_code = INSP&lt;br/&gt;w_oe_prefix = empty&lt;br/&gt;_SCREEN.PICTURE = INSP.BMP\"]\n\n    SetHT --&gt; GetCompanyName\n    SetBAT --&gt; GetCompanyName\n    SetHFW --&gt; GetCompanyName\n    SetINSP --&gt; GetCompanyName\n\n    GetCompanyName[\"SELECT zpara&lt;br/&gt;LOCATE FOR co_code equals w_company_code&lt;br/&gt;w_co_name = zpara.co_name\"]\n    GetCompanyName --&gt; ReleaseForm[\"Release Form&lt;br/&gt;Return to main.prg\"]\n\n    SetSuperAdmin --&gt; ReleaseForm\n\n    ReleaseForm --&gt; CheckMVar{\"M equals True?\"}\n    CheckMVar --&gt;|No| CancelApp[\"CANCEL&lt;br/&gt;Exit Application\"]\n    CheckMVar --&gt;|Yes| CheckUserRight{\"Upper User_right&lt;br/&gt;equals SUPERVISOR?\"}\n\n    CheckUserRight --&gt;|Yes| LoadSuperMenu[\"DO BATMENUS.MPX&lt;br/&gt;Load Supervisor Menu\"]\n    CheckUserRight --&gt;|No| LoadRegularMenu[\"DO BATMENU.MPX&lt;br/&gt;Load Regular Menu\"]\n\n    LoadSuperMenu --&gt; CreateWorkDir\n    LoadRegularMenu --&gt; CreateWorkDir[\"syswork = c drive plus sysUserId plus work&lt;br/&gt;Create user work directory\"]\n\n    CreateWorkDir --&gt; CheckWorkDir{\"Directory&lt;br/&gt;exists?\"}\n    CheckWorkDir --&gt;|No| MakeWorkDir[\"MD syswork&lt;br/&gt;Create directory\"]\n    CheckWorkDir --&gt;|Yes| SetPath\n    MakeWorkDir --&gt; SetPath[\"SET PATH TO&lt;br/&gt;c drive batwork, syswork\"]\n\n    SetPath --&gt; AddUserToCaption[\"_screen.Caption plus equals&lt;br/&gt;Date plus sysUserId\"]\n    AddUserToCaption --&gt; SetSysMenu[\"SET SYSMENU ON&lt;br/&gt;ON SHUTDOWN QUIT\"]\n    SetSysMenu --&gt; ReadEvent[\"READ EVENT&lt;br/&gt;Enter event loop\"]\n    ReadEvent --&gt; MainApp[\"Main Application Running\"]\n\n    CancelApp --&gt; End([Application Exited])</code></pre>"},{"location":"source/04-forms-and-screens/authentication-forms/#password-encryptiondecryption","title":"Password Encryption/Decryption","text":"<p>Algorithm: BitXOR encryption based on user name</p> <p>Process: 1. Get first 3 characters of user name (W_Name) 2. Calculate average ASCII value: <code>N = Int((N1+N2+N3)/3)</code> 3. For each character in password:    - Apply BitXOR with N: <code>Tempchr = BitXOR(Asc(Substr(W_Password,I,1)),N)</code>    - Convert back to character: <code>Pas = Pas + Chr(Tempchr)</code></p> <p>Code: <pre><code>PROCEDURE check\nPas = \"\"\nW_Name = ThisForm.Text3.Value\nN1 = Asc(Substr(W_name,1,1))\nN2 = Asc(Substr(W_Name,2,1))\nN3 = Asc(Substr(W_Name,3,1))\n\nDo Case\n    Case Len(w_name) = 1\n        N2 = Asc(\"A\")\n        N3 = Asc(\"Z\")\n    Case Len(w_name) = 2\n        N3 = Asc(\"Z\")\nEndcase\n\nN = Int((N1+N2+N3)/3)\n\nFor I = 1 To Len(W_Password)\n    Tempchr = Bitxor(Asc(Substr(W_Password,I,1)),N)\n    Pas = Pas + Chr(Tempchr)\nEndFor\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/authentication-forms/#validation-rules","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/authentication-forms/#user-id-validation-text1valid","title":"User ID Validation (Text1.Valid)","text":"<p>Rules: 1. Special Admin Access:    - User ID \"801\" bypasses all validation    - Automatically grants SUPERVISOR rights    - No password required</p> <ol> <li>Normal User Validation:</li> <li>User ID cannot be empty</li> <li>Must exist in <code>user</code> table</li> <li>Must have associated record in <code>rights</code> table</li> <li>JOIN: <code>user INNER JOIN rights ON User.right_id = Rights.right_id</code></li> </ol> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF !Empty(This.Value)\n    IF This.Value &lt;&gt; \"801\"\n        SELECT User.*, Rights.rights;\n        FROM user INNER JOIN rights;\n        ON User.right_id = Rights.right_id;\n        INTO CURSOR Temp;\n        WHERE Alltrim(User.User_id) == Alltrim(This.value)\n\n        IF !Eof()\n            ThisForm.Text3.Value = alltrim(Temp.User_Name)\n        Else\n            =Messagebox(\"User Not Found!\", 0+48, \"Error\")\n            This.Value = \"\"\n            Return 0\n        Endif\n    Endif\nEndif\nRETURN .T.\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/authentication-forms/#password-validation-command1click","title":"Password Validation (Command1.Click)","text":"<p>Rules: 1. Special Admin (801):    - No password validation    - Immediate authentication</p> <ol> <li>Normal Users:</li> <li>Password must match decrypted stored password</li> <li>Decryption uses Check() method</li> <li>Comparison: <code>Alltrim(Text2.Value) == pas</code></li> </ol> <p>Validation Code: <pre><code>PROCEDURE Click\nIF Alltrim(ThisForm.Text1.Value) = \"801\"\n    M = .T.\n    User_right = \"SUPERVISOR\"\n    Thisform.Release\nElse\n    SELECT Temp\n    W_password = Alltrim(Temp.User_paw)\n    ThisForm.Check()\n\n    IF Alltrim(ThisForm.Text2.Value) == pas\n        M = .T.\n        Old_pwd = Alltrim(thisform.text1.value)\n        User_right = Temp.Rights\n        * ... set company variables ...\n        sysUserId = Thisform.text1.value\n        Thisform.Release\n    ELSE\n        * Password error handling\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/authentication-forms/#company-selection","title":"Company Selection","text":"<p>Option Group: <code>Appoptgroup1</code> with 4 options</p> Option Company Code Password OE Prefix Background Image 1 HT HT \"\" HT.BMP 2 BAT BAT \"\" BTL.BMP 3 HFW HFW \"HFW\" HFW.BMP 4 INSP INSP \"\" INSP.BMP <p>Company Name Lookup: <pre><code>SELECT zpara\nLOCATE FOR alltrim(zpara.co_code) == alltrim(w_company_code)\nw_co_name = zpara.co_name\n</code></pre></p>"},{"location":"source/04-forms-and-screens/authentication-forms/#form-events","title":"Form Events","text":""},{"location":"source/04-forms-and-screens/authentication-forms/#init-event","title":"Init Event","text":"<p>Purpose: Initialize form variables</p> <p>Code: <pre><code>PROCEDURE Init\nLPARAMETERS M, User_right, User_Name\nPUBLIC Intime, Old_pwd, W_password, W_name, pas, supervisor, W_USER_ID, w_company_code, w_co_name, w_oe_prefix\n\nw_shop_no = \"\"\nw_shop_name = \"\"\nIntime = 1\nW_password = \"\"\nW_USER_ID = \"\"\nW_name = \"\"\npas = \"\"\nsupervisor = .F.\nw_company_code = \"\"\nw_co_name = \"\"\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/authentication-forms/#unload-event","title":"Unload Event","text":"<p>Purpose: Cleanup when form closes</p> <p>Code: <pre><code>PROCEDURE Unload\nCLOSE TABLES ALL\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/authentication-forms/#return-values","title":"Return Values","text":"<p>Public Variables Set: - <code>M</code> - Authentication status (.T. = success, .F. = failure) - <code>User_right</code> - User rights (\"SUPERVISOR\" or \"REGULAR_USER\") - <code>sysUserId</code> - User ID from Text1 - <code>w_password</code> - Company password (HT, BAT, HFW, INSP) - <code>w_company_code</code> - Company code - <code>w_co_name</code> - Company name from zpara table - <code>w_oe_prefix</code> - OE prefix (empty or \"HFW\")</p>"},{"location":"source/04-forms-and-screens/authentication-forms/#error-handling","title":"Error Handling","text":""},{"location":"source/04-forms-and-screens/authentication-forms/#user-not-found","title":"User Not Found","text":"<ul> <li>Error: \"User Not Found!\"</li> <li>Action: Clear Text1 field, return .F.</li> <li>User Action: Re-enter User ID</li> </ul>"},{"location":"source/04-forms-and-screens/authentication-forms/#password-mismatch","title":"Password Mismatch","text":"<ul> <li>Error: Password validation fails</li> <li>Action: Clear password field</li> <li>User Action: Re-enter password</li> </ul>"},{"location":"source/04-forms-and-screens/authentication-forms/#security-features","title":"Security Features","text":"<ol> <li>Password Encryption: Passwords stored encrypted using BitXOR</li> <li>Special Admin: User ID \"801\" for emergency access</li> <li>User Rights: Determined from <code>rights</code> table</li> <li>Company Context: Multi-company support with separate contexts</li> <li>Modal Form: Prevents access to other windows during login</li> </ol>"},{"location":"source/04-forms-and-screens/authentication-forms/#integration-with-main-application","title":"Integration with Main Application","text":"<p>Call Sequence: 1. <code>main.prg</code> calls <code>DO FORM ILOGON</code> 2. Form validates credentials 3. Form sets <code>M = .T.</code> if successful 4. Form releases and returns to <code>main.prg</code> 5. <code>main.prg</code> checks <code>M</code> variable 6. If <code>M = .T.</code>, loads appropriate menu (BATMENUS or BATMENU) 7. Creates user work directory 8. Enters event loop with <code>READ EVENT</code></p> <p>Code Reference: <code>source/main.prg</code> (lines 25-50)</p>"},{"location":"source/04-forms-and-screens/authentication-forms/#related-forms","title":"Related Forms","text":"<ul> <li>iuser - Input User Account (user management)</li> <li>ipara2 - Input Company Info (company configuration)</li> </ul>"},{"location":"source/04-forms-and-screens/authentication-forms/#related-tables","title":"Related Tables","text":"<ul> <li>user - User accounts</li> <li>rights - User rights definitions</li> <li>zpara - Company parameters</li> </ul>"},{"location":"source/04-forms-and-screens/authentication-forms/#business-rules","title":"Business Rules","text":"<ol> <li>User ID \"801\":</li> <li>Special administrative access</li> <li>Bypasses all validation</li> <li>Always grants SUPERVISOR rights</li> <li> <p>No password required</p> </li> <li> <p>Company Selection:</p> </li> <li>User must select company after authentication</li> <li> <p>Company determines:</p> <ul> <li>OE prefix (HFW uses \"HFW\" prefix)</li> <li>Background image</li> <li>Company-specific settings</li> </ul> </li> <li> <p>User Rights:</p> </li> <li>SUPERVISOR: Full access (BATMENUS.MPX)</li> <li> <p>REGULAR_USER: Limited access (BATMENU.MPX)</p> </li> <li> <p>Work Directory:</p> </li> <li>Created per user: <code>c:\\&lt;userid&gt;work</code></li> <li>Added to system path</li> <li>Used for user-specific temporary files</li> </ol>"},{"location":"source/04-forms-and-screens/authentication-forms/#summary","title":"Summary","text":"<p>The <code>ilogon</code> form provides secure authentication with: - User ID and password validation - Password encryption/decryption - Company context selection - User rights assignment - Integration with main application flow</p> <p>The form uses a modal dialog to ensure authentication before allowing access to the main application.</p>"},{"location":"source/04-forms-and-screens/contract-forms/","title":"Contract Forms","text":""},{"location":"source/04-forms-and-screens/contract-forms/#overview","title":"Overview","text":"<p>Contract forms handle the creation and management of contracts from Order Confirmations. Contracts define vendor commitments and are used for shipping order and invoice generation.</p>"},{"location":"source/04-forms-and-screens/contract-forms/#form-isetcont_2018-input-contract-2018-fast","title":"Form: isetcont@@_2018 (Input Contract 2018 Fast)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>isetcont@@_2018</code></li> <li>File: <code>source/isetcont@@_2018.scx</code> / <code>source/isetcont@@_2018.SCT</code></li> <li>Type: Single form with grid</li> <li>Purpose: Fast contract entry from OC</li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#form-layout","title":"Form Layout","text":"<p>Key Controls: - <code>Txtbox1</code> - Contract Number - <code>Txtbox2</code> - OC Number (conf_no) - <code>Label3</code> - OC prefix label - <code>Grid1</code> - Contract items grid (wsetcontgrid1) - <code>Command1</code> - Save button - <code>Command2</code> - Cancel button</p>"},{"location":"source/04-forms-and-screens/contract-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Contract Form]) --&gt; Load[Form Load Event&lt;br/&gt;Initialize Variables]\n    Load --&gt; Init[\"Form Init Event&lt;br/&gt;Initialize Variables&lt;br/&gt;w_fr_cont2 = False\"]\n    Init --&gt; Display[\"Display Form&lt;br/&gt;Contract Entry\"]\n\n    Display --&gt; UserEntersContract[\"User Enters Contract No&lt;br/&gt;Txtbox1\"]\n    UserEntersContract --&gt; ValidateContract[\"Txtbox1.Valid Event\"]\n\n    ValidateContract --&gt; BuildContractNo[\"Build Contract Number&lt;br/&gt;w_value = w_po_head1 plus Txtbox1.value&lt;br/&gt;or w_po_head1 plus dash plus Txtbox1.value\"]\n    BuildContractNo --&gt; CheckExisting{Contract&lt;br/&gt;Exists?}\n\n    CheckExisting --&gt;|Yes| LoadExistingContract[Load Existing Contract&lt;br/&gt;SELECT mcontdt&lt;br/&gt;WHERE conf_no&lt;br/&gt;Load items to wsetcontgrid1]\n    CheckExisting --&gt;|No| LoadOCItems[Load OC Items&lt;br/&gt;SELECT moe&lt;br/&gt;WHERE oe_no&lt;br/&gt;Load items to wsetcontgrid1]\n\n    LoadExistingContract --&gt; DisplayGrid\n    LoadOCItems --&gt; DisplayGrid[Display Grid&lt;br/&gt;Contract Items]\n\n    DisplayGrid --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Edit Item| EditItem[Edit Item in Grid]\n    UserAction --&gt;|Save| SaveContract[Click Save Button&lt;br/&gt;Command1.Click]\n    UserAction --&gt;|Cancel| CancelForm[Click Cancel Button]\n\n    EditItem --&gt; ModifyItem[User Modifies Item&lt;br/&gt;Vendor, Price, Dates]\n    ModifyItem --&gt; ValidateItem{Item&lt;br/&gt;Valid?}\n    ValidateItem --&gt;|No| ShowError[Show Validation Error]\n    ValidateItem --&gt;|Yes| UpdateGrid[Update Grid&lt;br/&gt;Refresh Display]\n\n    SaveContract --&gt; ValidateHasItems{Has Items&lt;br/&gt;in Grid?}\n    ValidateHasItems --&gt;|No| ShowError1[Show Error&lt;br/&gt;Contract Must Have Items]\n    ValidateHasItems --&gt;|Yes| SaveContractHeader[Call save Method&lt;br/&gt;Save Contract Header]\n\n    SaveContractHeader --&gt; CheckContractExists{Contract&lt;br/&gt;Header Exists?}\n    CheckContractExists --&gt;|Yes| UpdateContractHeader[UPDATE mconthd&lt;br/&gt;REPLACE fields]\n    CheckContractExists --&gt;|No| CreateContractHeader[APPEND BLANK to mconthd&lt;br/&gt;REPLACE cont_no, conf_no&lt;br/&gt;vendor_no, dates]\n\n    UpdateContractHeader --&gt; SaveContractItems\n    CreateContractHeader --&gt; SaveContractItems[Save Contract Items&lt;br/&gt;Loop through wsetcontgrid1]\n\n    SaveContractItems --&gt; DeleteOldItems[DELETE FROM mcontdt&lt;br/&gt;WHERE cont_no]\n    DeleteOldItems --&gt; LoopItems[Loop Through wsetcontgrid1&lt;br/&gt;For Each Item]\n\n    LoopItems --&gt; CreateContItem[APPEND BLANK to mcontdt&lt;br/&gt;REPLACE cont_no, conf_no&lt;br/&gt;item_no, qty, ctn&lt;br/&gt;price, vendor, dates]\n\n    CreateContItem --&gt; CheckBOM{Item Has&lt;br/&gt;BOM?}\n    CheckBOM --&gt;|Yes| ProcessBOM[Process BOM Items&lt;br/&gt;Create sub-items]\n    CheckBOM --&gt;|No| NextItem\n\n    ProcessBOM --&gt; CreateSubItems[\"Create BOM Sub-items&lt;br/&gt;APPEND to mcontdt&lt;br/&gt;Set head = False\"]\n    CreateSubItems --&gt; NextItem\n\n    NextItem{More&lt;br/&gt;Items?}\n    NextItem --&gt;|Yes| LoopItems\n    NextItem --&gt;|No| UpdateAudit[UPDATE mconthd&lt;br/&gt;REPLACE l_mod_date&lt;br/&gt;REPLACE l_mod_time&lt;br/&gt;REPLACE user_id]\n\n    UpdateAudit --&gt; ShowSuccess[Show Success Message]\n    ShowSuccess --&gt; CloseForm[Close Form]\n\n    CancelForm --&gt; CloseForm\n    CloseForm --&gt; End([Form Closed])</code></pre>"},{"location":"source/04-forms-and-screens/contract-forms/#validation-rules","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/contract-forms/#contract-number-validation","title":"Contract Number Validation","text":"<p>Rules: 1. Format:    - HT/HFW/INSP: <code>w_po_head1 + Txtbox1.value</code>    - BAT: <code>w_po_head1 + \"-\" + Txtbox1.value</code></p> <ol> <li>Uniqueness:</li> <li>Contract number must be unique in <code>mconthd</code> table</li> </ol>"},{"location":"source/04-forms-and-screens/contract-forms/#date-validation-iconthd_2018","title":"Date Validation (iconthd_2018)","text":"<p>Rules: 1. Both Empty or Both Filled:    - If <code>req_date_f</code> empty, <code>req_date_t</code> must be empty    - If <code>req_date_f</code> filled, <code>req_date_t</code> must be filled    - Error: \"Invalid Date !\" if mismatch</p> <ol> <li>Date Range:</li> <li><code>req_date_t</code> must be &gt;= <code>req_date_f</code></li> <li>Error: \"Invalid Date !\" if To Date &lt; From Date</li> </ol> <p>Validation Code: <pre><code>PROCEDURE Txtbox8.Valid\nIF empty(thisform.txtbox7.value) AND !empty(thisform.txtbox8.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox7.value) AND empty(thisform.txtbox8.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox7.value) OR !empty(thisform.txtbox8.value)\n    IF this.value &lt; thisform.txtbox7.value\n        Messagebox(\"Invalid Date !\", 16, \"System Message!\")\n        this.value = {//}\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/contract-forms/#set_wsetcontgrid1-method","title":"set_wsetcontgrid1 Method","text":"<p>Purpose: Populate contract items grid</p> <p>Process: 1. Build contract number 2. If existing contract:    - Load items from <code>mcontdt</code>    - Load vendor from <code>mconthd</code> 3. Load OC items from <code>moe</code> 4. Merge existing and new items 5. Display in grid</p>"},{"location":"source/04-forms-and-screens/contract-forms/#form-iconthd_2018-contract-header","title":"Form: iconthd_2018 (Contract Header)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>iconthd_2018</code></li> <li>File: <code>source/iconthd_2018.scx</code> / <code>source/iconthd_2018.SCT</code></li> <li>Purpose: Contract header entry and editing</li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#form-layout_1","title":"Form Layout","text":"<p>Key Controls: - <code>Txtbox1</code> - Contract Number - <code>Txtbox6</code> - OC Number (conf_no) - <code>Txtbox7</code> - Request Date From (req_date_f) - <code>Txtbox8</code> - Request Date To (req_date_t) - <code>Txtbox2</code> - Vendor Number - <code>Txtbox3</code> - Vendor Name (display)</p>"},{"location":"source/04-forms-and-screens/contract-forms/#process-flow_1","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Contract Header Form]) --&gt; Load[Form Load Event]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables]\n    Init --&gt; Display[Display Form&lt;br/&gt;Contract Header Entry]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Enter Contract| EnterContract[User Enters Contract No]\n    UserAction --&gt;|Enter Dates| EnterDates[User Enters Dates&lt;br/&gt;Txtbox7, Txtbox8]\n    UserAction --&gt;|Save| SaveContract[Click Save Button]\n\n    EnterContract --&gt; ValidateContract{Contract&lt;br/&gt;Exists?}\n    ValidateContract --&gt;|Yes| LoadContract[Load Contract Header&lt;br/&gt;SELECT mconthd&lt;br/&gt;LOCATE FOR cont_no]\n    ValidateContract --&gt;|No| CreateNewContract[Create New Contract&lt;br/&gt;Enable Fields]\n\n    LoadContract --&gt; LoadVendor[Load Vendor Info&lt;br/&gt;Display Vendor Name]\n    LoadVendor --&gt; Display\n\n    EnterDates --&gt; ValidateDates[Txtbox8.Valid Event]\n\n    ValidateDates --&gt; CheckBothEmpty{Both&lt;br/&gt;Empty?}\n    CheckBothEmpty --&gt;|Yes| ValidEmpty[Valid: Both Empty]\n    CheckBothEmpty --&gt;|No| CheckBothFilled{Both&lt;br/&gt;Filled?}\n\n    CheckBothFilled --&gt;|No| ShowError1[MessageBox&lt;br/&gt;Invalid Date!&lt;br/&gt;Both must be empty or both filled]\n    ShowError1 --&gt; EnterDates\n    CheckBothFilled --&gt;|Yes| CheckRange{To Date&lt;br/&gt;&gt;= From Date?}\n\n    CheckRange --&gt;|No| ShowError2[MessageBox&lt;br/&gt;Invalid Date!&lt;br/&gt;To Date &lt; From Date]\n    ShowError2 --&gt; EnterDates\n    CheckRange --&gt;|Yes| ValidDates[Valid: Date Range OK]\n\n    ValidEmpty --&gt; SaveContract\n    ValidDates --&gt; SaveContract\n\n    SaveContract --&gt; ValidateContractNo{Contract No&lt;br/&gt;Entered?}\n    ValidateContractNo --&gt;|No| ShowError3[Show Error&lt;br/&gt;Contract No Required]\n    ValidateContractNo --&gt;|Yes| SaveContractHeader[Save Contract Header&lt;br/&gt;APPEND or UPDATE mconthd]\n\n    SaveContractHeader --&gt; RefreshForm[Refresh Form]\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/contract-forms/#form-icontdt_2018-contract-detail","title":"Form: icontdt_2018 (Contract Detail)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>icontdt_2018</code></li> <li>Purpose: Contract detail item entry</li> <li>Called From: Contract header form</li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#process-flow_2","title":"Process Flow","text":"<p>Similar to OC detail entry, but saves to <code>mcontdt</code> table instead of <code>morddt</code>.</p>"},{"location":"source/04-forms-and-screens/contract-forms/#form-pcontract_2018-print-contract-2018","title":"Form: pcontract@_2018 (Print Contract 2018)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>pcontract@_2018</code></li> <li>Purpose: Print contract document</li> <li>Process: Generate report from <code>mconthd</code> and <code>mcontdt</code></li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#form-pcontbrk-print-contract-qty-breakdown","title":"Form: pcontbrk (Print Contract Qty Breakdown)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>pcontbrk</code></li> <li>Purpose: Print contract quantity breakdown by vendor</li> <li>Process: Aggregate and format contract quantity breakdowns</li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#form-pcontamdrmk-print-contract-amendment","title":"Form: pcontamdrmk (Print Contract Amendment)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details_5","title":"Form Details","text":"<ul> <li>Form Name: <code>pcontamdrmk</code></li> <li>Purpose: Print contract amendment document</li> <li>Process: Generate amendment report</li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#form-pitname-print-item-description-for-carton","title":"Form: pitname (Print Item Description for Carton)","text":""},{"location":"source/04-forms-and-screens/contract-forms/#form-details_6","title":"Form Details","text":"<ul> <li>Form Name: <code>pitname</code></li> <li>Purpose: Print item descriptions for carton making</li> <li>Process: Generate item description labels</li> </ul>"},{"location":"source/04-forms-and-screens/contract-forms/#summary","title":"Summary","text":"<p>Contract forms provide: - isetcont@@_2018 - Fast contract entry from OC - iconthd_2018 - Contract header management with date validation - icontdt_2018 - Contract detail item entry - pcontract@_2018 - Contract document printing - pcontbrk - Contract quantity breakdown printing - pcontamdrmk - Contract amendment printing - pitname - Item description printing</p> <p>The forms include extensive date validation, BOM processing, and integration with the shipping order workflow.</p>"},{"location":"source/04-forms-and-screens/delivery-note-forms/","title":"Delivery Note Forms","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#overview","title":"Overview","text":"<p>Delivery Note (DN) forms handle the creation and management of delivery notes from shipping orders. DNs track actual shipments and are used for invoice generation.</p>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-idn-input-dn","title":"Form: idn (Input D/N)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>idn</code></li> <li>File: <code>source/idn.scx</code> / <code>source/idn.SCT</code></li> <li>Type: Single form with grids</li> <li>Purpose: Create and manage delivery notes</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-layout","title":"Form Layout","text":"<p>Key Controls: - <code>cboCustCode</code> - Customer selection - <code>cboPort</code> - Port selection - <code>txtFromDate</code> - From Date - <code>txtToDate</code> - To Date - <code>grdSelDn</code> - DN selection grid - <code>grdCont</code> - Container grid - <code>grdOc_no</code> - OC number grid</p>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open DN Form]) --&gt; Load[Form Load Event&lt;br/&gt;Initialize Variables]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables&lt;br/&gt;seq_no = 1&lt;br/&gt;dn_no = \"\"&lt;br/&gt;cust_no = \"\"]\n    Init --&gt; Display[Display Form&lt;br/&gt;DN Entry Form]\n\n    Display --&gt; UserSelectsCustomer[User Selects Customer&lt;br/&gt;cboCustCode]\n    UserSelectsCustomer --&gt; UserSelectsPort[User Selects Port&lt;br/&gt;cboPort Optional]\n    UserSelectsPort --&gt; UserSelectsDates[User Selects Date Range&lt;br/&gt;txtFromDate, txtToDate]\n\n    UserSelectsDates --&gt; ExtractData[Click Extract Data&lt;br/&gt;Call extractdata Method]\n\n    ExtractData --&gt; BuildOCQuery[Build OC Query&lt;br/&gt;SELECT mordhd, morddt&lt;br/&gt;WHERE cust_no, date range&lt;br/&gt;AND head = .T.&lt;br/&gt;AND cxl_flag = 0]\n\n    BuildOCQuery --&gt; LoadSOItems[Load SO Items&lt;br/&gt;SELECT mso&lt;br/&gt;WHERE conf_no&lt;br/&gt;AND cxl_flag = 0]\n\n    LoadSOItems --&gt; BuildContainerQuery[Build Container Query&lt;br/&gt;SELECT mso&lt;br/&gt;JOIN with mload&lt;br/&gt;Get container info]\n\n    BuildContainerQuery --&gt; CalculateShipped[Calculate Already Shipped&lt;br/&gt;SELECT mdndt&lt;br/&gt;SUM ship_ctn&lt;br/&gt;GROUP BY so_no]\n\n    CalculateShipped --&gt; BuildDNSelection[Build DN Selection Grid&lt;br/&gt;SELECT items with&lt;br/&gt;oc_ctn &gt; ship_ctn&lt;br/&gt;HAVING available qty]\n\n    BuildDNSelection --&gt; DisplaySelectionGrid[Display Selection Grid&lt;br/&gt;grdSelDn]\n\n    DisplaySelectionGrid --&gt; UserSelectsItems[User Selects Items&lt;br/&gt;Check selFlag in Grid]\n\n    UserSelectsItems --&gt; UserEntersDN[User Enters DN Number]\n    UserEntersDN --&gt; ValidateDN{DN No&lt;br/&gt;Entered?}\n    ValidateDN --&gt;|No| ShowError[Show Error&lt;br/&gt;DN No Required]\n    ValidateDN --&gt;|Yes| CreateDN[Click Create DN Button]\n\n    CreateDN --&gt; ValidateHasItems{Has Selected&lt;br/&gt;Items?}\n    ValidateHasItems --&gt;|No| ShowError1[Show Error&lt;br/&gt;No Items Selected]\n    ValidateHasItems --&gt;|Yes| CreateDNHeader[Create DN Header&lt;br/&gt;APPEND to mdnhd&lt;br/&gt;REPLACE dn_no, date&lt;br/&gt;cust_no, etc.]\n\n    CreateDNHeader --&gt; LoopSelectedItems[Loop Through Selected Items&lt;br/&gt;For Each Item]\n\n    LoopSelectedItems --&gt; CreateDNItem[Create DN Item&lt;br/&gt;APPEND to mdndt&lt;br/&gt;REPLACE dn_no, oc_no&lt;br/&gt;item_no, po_no&lt;br/&gt;ship_ctn, ship_qty]\n\n    CreateDNItem --&gt; UpdateSOStatus[Update SO Status&lt;br/&gt;if needed]\n    UpdateSOStatus --&gt; NextItem{More&lt;br/&gt;Items?}\n\n    NextItem --&gt;|Yes| LoopSelectedItems\n    NextItem --&gt;|No| ShowSuccess[Show Success Message]\n    ShowSuccess --&gt; RefreshForm[Refresh Form&lt;br/&gt;Clear Selection]\n\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#extractdata-method","title":"extractdata Method","text":"<p>Purpose: Extract available items for DN creation</p> <p>Process: 1. Select OC items from <code>mordhd</code> and <code>morddt</code> 2. Filter by customer, date range, port 3. Load SO items from <code>mso</code> 4. Calculate already shipped quantities from <code>mdndt</code> 5. Calculate available quantities (oc_ctn - ship_ctn) 6. Display items with available quantity &gt; 0</p>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-idnbrk-dn-breakdown","title":"Form: idnbrk (DN Breakdown)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>idnbrk</code></li> <li>Purpose: Enter DN quantity breakdowns</li> <li>Process: Similar to OE quantity breakdown</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-iload-input-loading-master","title":"Form: iload (Input Loading Master)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>iload</code></li> <li>Purpose: Manage loading master records</li> <li>Table: <code>mload</code></li> <li>Process: Create and maintain container/loading information</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-isetla-input-loading-advice","title":"Form: isetla (Input Loading Advice)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>isetla</code></li> <li>Purpose: Create loading advice documents</li> <li>Process: Generate loading advice from DN data</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-pla-print-loading-advice","title":"Form: pla (Print Loading Advice)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>pla</code></li> <li>Purpose: Print loading advice document</li> <li>Process: Generate report from loading advice data</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-pdnorg-print-dn-original-list","title":"Form: pdnorg (Print D/N Original List)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details_5","title":"Form Details","text":"<ul> <li>Form Name: <code>pdnorg</code></li> <li>Purpose: Print DN original list</li> <li>Process: Generate DN list report</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-pdn_xls-create-dn-excel-file","title":"Form: pdn_xls (Create D/N Excel File)","text":""},{"location":"source/04-forms-and-screens/delivery-note-forms/#form-details_6","title":"Form Details","text":"<ul> <li>Form Name: <code>pdn_xls</code></li> <li>Purpose: Export DN to Excel</li> <li>Process: Generate Excel file from DN data</li> </ul>"},{"location":"source/04-forms-and-screens/delivery-note-forms/#summary","title":"Summary","text":"<p>Delivery Note forms provide: - idn - DN creation from SO items - idnbrk - DN quantity breakdown entry - iload - Loading master management - isetla - Loading advice creation - pla - Loading advice printing - pdnorg - DN list printing - pdn_xls - DN Excel export</p> <p>The forms include quantity validation, container tracking, and integration with invoice workflow.</p>"},{"location":"source/04-forms-and-screens/enquiry-forms/","title":"Enquiry Forms","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#overview","title":"Overview","text":"<p>Enquiry forms provide search, query, and reporting capabilities across the system. These forms allow users to view data, generate summaries, and analyze business information.</p>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-enqbyitem-enquiry-by-item","title":"Form: enqbyitem (Enquiry By Item)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>enqbyitem</code></li> <li>Purpose: Search and view items across all documents</li> <li>Process: Query items from OE, OC, Contract, SO, DN, Invoice</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Enquiry By Item Form]) --&gt; Load[Form Load Event]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables]\n    Init --&gt; Display[Display Form&lt;br/&gt;Item Search Form]\n\n    Display --&gt; UserEntersItem[User Enters Item No]\n    UserEntersItem --&gt; ValidateItem{Item&lt;br/&gt;Exists?}\n    ValidateItem --&gt;|No| ShowError[Show Error&lt;br/&gt;Item Not Found]\n    ValidateItem --&gt;|Yes| QueryDocuments[Query All Documents&lt;br/&gt;SELECT from moe, morddt&lt;br/&gt;mcontdt, mso, mdndt&lt;br/&gt;minvdt WHERE item_no]\n\n    QueryDocuments --&gt; AggregateData[Aggregate Data&lt;br/&gt;Sum quantities by document type&lt;br/&gt;Calculate totals]\n    AggregateData --&gt; DisplayResults[Display Results&lt;br/&gt;Show in Grid&lt;br/&gt;OE, OC, Contract&lt;br/&gt;SO, DN, Invoice]\n\n    DisplayResults --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|View Detail| ViewDetail[Click Item&lt;br/&gt;View Document Detail]\n    UserAction --&gt;|Export| ExportData[Export to Excel]\n    UserAction --&gt;|Print| PrintReport[Print Report]\n\n    ViewDetail --&gt; OpenDocument[Open Source Document&lt;br/&gt;DO FORM ioe1@, iordhd, etc.]\n    OpenDocument --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-enqbyso-enquiry-by-so","title":"Form: enqbyso (Enquiry By S/O)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>enqbyso</code></li> <li>Purpose: Search and view shipping orders</li> <li>Process: Query SO data with filters</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-enqbyso2-enquiry-by-so-multiple-search","title":"Form: enqbyso2 (Enquiry By S/O Multiple Search)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>enqbyso2</code></li> <li>Purpose: Multiple SO search with advanced filters</li> <li>Process: Query multiple SOs with various criteria</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-eoesumry-oe-summary-enquiry","title":"Form: eoesumry (OE Summary Enquiry)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>eoesumry</code></li> <li>Purpose: View OE summary and statistics</li> <li>Process: Aggregate OE data by customer, date, status</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-eocsumry-oc-summary-enquiry","title":"Form: eocsumry (OC Summary Enquiry)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>eocsumry</code></li> <li>Purpose: View OC summary and statistics</li> <li>Process: Aggregate OC data by customer, date, status</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-econtsumry-contract-summary-enquiry","title":"Form: econtsumry (Contract Summary Enquiry)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_5","title":"Form Details","text":"<ul> <li>Form Name: <code>econtsumry</code></li> <li>Purpose: View contract summary and statistics</li> <li>Process: Aggregate contract data by vendor, date, status</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-einvsumry-invoice-summary-enquiry","title":"Form: einvsumry (Invoice Summary Enquiry)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_6","title":"Form Details","text":"<ul> <li>Form Name: <code>einvsumry</code></li> <li>Purpose: View invoice summary and statistics</li> <li>Process: Aggregate invoice data by customer, date, status</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-eoebypo-oe-enquiry-by-po","title":"Form: eoebypo (OE Enquiry By PO)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_7","title":"Form Details","text":"<ul> <li>Form Name: <code>eoebypo</code></li> <li>Purpose: Search OEs by PO number</li> <li>Process: Query <code>moe</code> table filtered by PO</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-eisbystd-invoice-sales-by-standard-code","title":"Form: eisbystd (Invoice Sales By Standard Code)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_8","title":"Form Details","text":"<ul> <li>Form Name: <code>eisbystd</code></li> <li>Purpose: View invoice sales grouped by standard code</li> <li>Process: Aggregate invoice data by standard code</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-esabycd-sales-analysis-by-customer-date","title":"Form: esabycd (Sales Analysis By Customer - Date)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_9","title":"Form Details","text":"<ul> <li>Form Name: <code>esabycd</code></li> <li>Purpose: Sales analysis by customer with date range</li> <li>Process: Aggregate sales data by customer and date</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-esabyid-sales-analysis-by-item-date","title":"Form: esabyid (Sales Analysis By Item - Date)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_10","title":"Form Details","text":"<ul> <li>Form Name: <code>esabyid</code></li> <li>Purpose: Sales analysis by item with date range</li> <li>Process: Aggregate sales data by item and date</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-sabycust-detail-sales-analysis-by-customer","title":"Form: sabycust (Detail Sales Analysis By Customer)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_11","title":"Form Details","text":"<ul> <li>Form Name: <code>sabycust</code></li> <li>Purpose: Detailed sales analysis by customer</li> <li>Process: Comprehensive sales report by customer</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-ecostbrk-cost-breakdown-enquiry","title":"Form: ecostbrk (Cost Breakdown Enquiry)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_12","title":"Form Details","text":"<ul> <li>Form Name: <code>ecostbrk</code></li> <li>Purpose: View cost breakdowns</li> <li>Process: Query and display cost breakdown data</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#form-enqbyitem_new-enquiry-by-item-new-format","title":"Form: enqbyitem_new (Enquiry By Item New Format)","text":""},{"location":"source/04-forms-and-screens/enquiry-forms/#form-details_13","title":"Form Details","text":"<ul> <li>Form Name: <code>enqbyitem_new</code></li> <li>Purpose: Item enquiry with new format</li> <li>Process: Updated query logic and display format</li> </ul>"},{"location":"source/04-forms-and-screens/enquiry-forms/#summary","title":"Summary","text":"<p>Enquiry forms provide comprehensive search and analysis capabilities: - enqbyitem - Item enquiry across all documents - enqbyso - SO enquiry - eoesumry - OE summary - eocsumry - OC summary - econtsumry - Contract summary - einvsumry - Invoice summary - esabycd - Sales analysis by customer-date - esabyid - Sales analysis by item-date - sabycust - Detailed sales analysis - ecostbrk - Cost breakdown enquiry</p> <p>The forms include query logic, data aggregation, and reporting capabilities.</p>"},{"location":"source/04-forms-and-screens/form-inventory/","title":"Form Inventory","text":""},{"location":"source/04-forms-and-screens/form-inventory/#overview","title":"Overview","text":"<p>The system contains 118+ forms referenced in the menu system, providing user interfaces for all system functions. Forms are organized by functional module and follow consistent naming conventions.</p>"},{"location":"source/04-forms-and-screens/form-inventory/#form-count","title":"Form Count","text":"<ul> <li>Total Forms in Menu: 118+ forms (from BATMENUS.MPR)</li> <li>Total Forms in System: 195+ (.scx files identified in source directory)</li> <li>Categories: Authentication, Master Data, Transaction Entry, Enquiry, Report, Utility forms</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#complete-form-inventory-by-module","title":"Complete Form Inventory by Module","text":""},{"location":"source/04-forms-and-screens/form-inventory/#authentication-forms-1-form","title":"Authentication Forms (1 form)","text":"Form Name Description Menu Location <code>ilogon</code> Login form Called from main.prg"},{"location":"source/04-forms-and-screens/form-inventory/#master-data-entry-forms-21-forms","title":"Master Data Entry Forms (21 forms)","text":""},{"location":"source/04-forms-and-screens/form-inventory/#item-management-9-forms","title":"Item Management (9 forms)","text":"Form Name Description Menu Location <code>iitem</code> Input Item File \u2192 Item \u2192 Input Item <code>uimport_item</code> Import Item File \u2192 Item \u2192 Import Item (disabled) <code>uimport_HTS</code> Import HTS File \u2192 Item \u2192 Import HTS (disabled) <code>uimport_upc</code> Import UPC File \u2192 Item \u2192 Import UPC (disabled) <code>iprodbom</code> Product BOM File \u2192 Item \u2192 Product BOM <code>izstdcode</code> Standard Code File \u2192 Item \u2192 Standard Code <code>ipurunit</code> Purchase Unit File \u2192 Item \u2192 Purchase Unit <code>ilicense</code> Import License Item From XLS File \u2192 Item \u2192 Import License Item From XLS (disabled) <code>izorigin</code> Country of Origin File \u2192 Item \u2192 Country of Origin"},{"location":"source/04-forms-and-screens/form-inventory/#customer-management-10-forms","title":"Customer Management (10 forms)","text":"Form Name Description Menu Location <code>icustom</code> Customer File \u2192 Customer \u2192 Customer <code>icustinv</code> Customer Invoice Parameter File \u2192 Customer \u2192 Customer Invoice Parameter <code>iskn</code> SKN No. File \u2192 Customer \u2192 SKN No. <code>ishipmark</code> Ship Mark File \u2192 Customer \u2192 Ship Mark <code>ipayterm</code> Payment Terms File \u2192 Customer \u2192 Payment Terms <code>ifobport</code> FOB Port File \u2192 Customer \u2192 FOB Port <code>ifobterm</code> Input FOB Terms File \u2192 Customer \u2192 Input FOB Terms <code>ittrgp</code> Input TTR Group File \u2192 Customer \u2192 Input TTR Group <code>itest</code> Input Testing/Inspection/Sample Approval File \u2192 Customer \u2192 Input Testing/Inspection/Sample Approval <code>ishippara</code> Customer Shipment Parameter File \u2192 Customer \u2192 Customer Shipment Parameter"},{"location":"source/04-forms-and-screens/form-inventory/#vendor-management-2-forms","title":"Vendor Management (2 forms)","text":"Form Name Description Menu Location <code>ivendor</code> Vendor File \u2192 Vendor \u2192 Vendor <code>imftr</code> Input Manufacturer File \u2192 Vendor \u2192 Input Manufacturer"},{"location":"source/04-forms-and-screens/form-inventory/#system-administration-4-forms","title":"System Administration (4 forms)","text":"Form Name Description Menu Location <code>iuser</code> Input User Account File \u2192 Input User Account <code>ipara2</code> Input Company Info File \u2192 Input Company Info. <code>isuspended_item</code> Input Suspended Item File \u2192 Input Suspended Item <code>zdel_data</code> Delete Data File \u2192 Delete Data"},{"location":"source/04-forms-and-screens/form-inventory/#data-conversion-3-forms","title":"Data Conversion (3 forms)","text":"Form Name Description Menu Location <code>zvencon</code> Vendor Code Conversion File \u2192 Vendor Code Conversion <code>zdr_so_conv</code> Data Conv - DR SO File \u2192 Data Conv - DR SO <code>zdr_dn_conv</code> Data Conv - DR DN File \u2192 Data Conv - DR DN <code>zchange_item</code> Data Conv - Change Item No. File \u2192 Data Conv - Change Item No."},{"location":"source/04-forms-and-screens/form-inventory/#order-enquiry-forms-20-forms","title":"Order Enquiry Forms (20 forms)","text":""},{"location":"source/04-forms-and-screens/form-inventory/#oe-control-4-forms","title":"OE Control (4 forms)","text":"Form Name Description Menu Location <code>ioectrl</code> Input OE Control File Order Enquiry \u2192 OE Control \u2192 Input OE Control File <code>eoectrl</code> OE Control File Enquiry Order Enquiry \u2192 OE Control \u2192 OE Control File Enquiry <code>eoeact</code> OE Activity Enquiry Order Enquiry \u2192 OE Control \u2192 OE Activity Enquiry <code>eoerecord</code> OE Record Enquiry Order Enquiry \u2192 OE Control \u2192 OE Record Enquiry"},{"location":"source/04-forms-and-screens/form-inventory/#oe-importinputprint-10-forms","title":"OE Import/Input/Print (10 forms)","text":"Form Name Description Menu Location <code>uoexls</code> Import OE from Excel File Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Import OE from Excel File <code>ioe1@</code> Input OE (New) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Input OE (New) <code>pordenq2</code> Print Order Enquiry (New) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Print Order Enquiry (New) <code>poedoc</code> Print OE Doc (OE, OC, CONT) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Print OE Doc (OE, OC, CONT) <code>uwalxls</code> Import OE from Walmart XLS File Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Import OE from Walmart XLS File <code>unewoexls</code> Import OE (New Format Excel File) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Import OE (New Format Excel File) <code>uoexls2</code> Import OE from XLS (Multi Item Block) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Import OE from XLS (Multi Item Block) <code>zoexls_batch</code> Export OE to XLS (Batch Mode) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Export OE to XLS (Batch Mode) <code>uoexls_2013</code> Import OE from Excel File (2013 - CSV) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Import OE from Excel File (2013 - CSV) <code>uoexls_2013_xls</code> Import OE from Excel File (2013 - XLS) Order Enquiry \u2192 Import/Input/Print Order Enquiry \u2192 Import OE from Excel File (2013 - XLS)"},{"location":"source/04-forms-and-screens/form-inventory/#qty-breakdown-4-forms","title":"Qty Breakdown (4 forms)","text":"Form Name Description Menu Location <code>iqtybrk2</code> Input Qty Breakdown By PO Order Enquiry \u2192 Input/Print Qty Breakdown \u2192 Input Qty Breakdown By PO <code>ppobrk</code> Print OE Qty Breakdown By PO No. Order Enquiry \u2192 Input/Print Qty Breakdown \u2192 Print OE Qty Breakdown By PO No. <code>uqty_breakdown</code> Import Qty Breakdown (CSV) Order Enquiry \u2192 Input/Print Qty Breakdown \u2192 Import Qty Breakdown (CSV) <code>uqty_breakdown_xls</code> Import Qty Breakdown (XLS) Order Enquiry \u2192 Input/Print Qty Breakdown \u2192 Import Qty Breakdown (XLS)"},{"location":"source/04-forms-and-screens/form-inventory/#other-enquiry-2-forms","title":"Other Enquiry (2 forms)","text":"Form Name Description Menu Location <code>poeerr</code> Check OE Data Order Enquiry \u2192 Other Enquiry \u2192 Check OE Data <code>eoebypo</code> OE Enquiry By PO No. Order Enquiry \u2192 Other Enquiry \u2192 OE Enquiry By PO No. <code>ioedeldate</code> Input O.E. Shipment Status Order Enquiry \u2192 Other Enquiry \u2192 Input O.E. Shipment Status <code>ichangepo</code> Change PO No. (Not in Use) Order Enquiry \u2192 Change PO No. (Not in Use) (disabled) <code>ichangecustno</code> Change Customer No. (All Documents) Order Enquiry \u2192 Change Customer No. (All Documents)"},{"location":"source/04-forms-and-screens/form-inventory/#order-confirmation-forms-4-forms","title":"Order Confirmation Forms (4 forms)","text":"Form Name Description Menu Location <code>upostoe</code> Post OE/Post OC Order Confirmation \u2192 Post OE/Post OC <code>iordhd</code> Input Order Confirmation Order Confirmation \u2192 Input Order Confirmation <code>pconfirm</code> Print Order Confirmation Order Confirmation \u2192 Print Order Confirmation <code>pocbrk</code> Print OC Qty Breakdown By O/C No. Order Confirmation \u2192 Print OC Qty Breakdown By O/C No."},{"location":"source/04-forms-and-screens/form-inventory/#contract-forms-6-forms","title":"Contract Forms (6 forms)","text":"Form Name Description Menu Location <code>pitname</code> Print Item Desp for Carton Making Contract \u2192 Print Item Desp for Carton Making <code>pcontbrk</code> Print Contract Qty Breakdown By Vendor Contract \u2192 Print Contract Qty Breakdown By Vendor <code>pcontamdrmk</code> Print Contract Amendment Contract \u2192 Print Contract Amendment <code>isetcont@@</code> Input Contract (2018) Contract \u2192 Input Contract (2018) <code>pcontract@_2018</code> Print Contract (2018) Contract \u2192 Print Contract (2018) <code>isetcont@@_2018</code> Input Contract (2018 Fast) Contract \u2192 Input Contract (2018 Fast)"},{"location":"source/04-forms-and-screens/form-inventory/#shipping-order-forms-3-forms","title":"Shipping Order Forms (3 forms)","text":"Form Name Description Menu Location <code>isetso</code> Input Shipping Order Shipping Order \u2192 Input Shipping Order <code>pso</code> Print Shipping Order Shipping Order \u2192 Print Shipping Order <code>isoformat</code> Input Shipping Order Format Shipping Order \u2192 Input Shipping Order Format"},{"location":"source/04-forms-and-screens/form-inventory/#delivery-note-forms-6-forms","title":"Delivery Note Forms (6 forms)","text":"Form Name Description Menu Location <code>idn</code> Input D/N DN \u2192 Input D/N <code>pdn_xls</code> Create D/N Excel File DN \u2192 Create D/N Excel File <code>iload</code> Input Loading Master DN \u2192 Input Loading Master <code>isetla</code> Input Loading Advice DN \u2192 Input Loading Advice <code>pla</code> Print Loading Advice DN \u2192 Print Loading Advice <code>pdnorg</code> Print D/N Original List DN \u2192 Print D/N Original List"},{"location":"source/04-forms-and-screens/form-inventory/#invoice-forms-10-forms","title":"Invoice Forms (10 forms)","text":"Form Name Description Menu Location <code>PPACKLIST</code> Print Packing List Invoice \u2192 Print Packing List <code>pshadvice</code> Print Shipment Advice Invoice \u2192 Print Shipment Advice <code>iinvhd@</code> Input Invoice (New) Invoice \u2192 Input Invoice (New) <code>pinv@</code> Print Invoice (New) Invoice \u2192 Print Invoice (New) <code>ppacklist_new</code> Print Packing List (New) Invoice \u2192 Print Packing List (New) <code>pinv_xls</code> Print Invoice to XLS Invoice \u2192 Print Invoice to XLS <code>ppacklist_xls</code> Print Packing List to XLS Invoice \u2192 Print Packing List to XLS <code>einvoice</code> Enquiry By Invoice Invoice \u2192 Enquiry By Invoice <code>pdebitnote</code> Print Debit Note Invoice \u2192 Print Debit Note <code>ppacklist_xls_spencer</code> Print Packing List to XLS (Spencer Format) Invoice \u2192 Print Packing List to XLS (Spencer Format)"},{"location":"source/04-forms-and-screens/form-inventory/#delivery-report-forms-4-forms","title":"Delivery Report Forms (4 forms)","text":"Form Name Description Menu Location <code>ideldate</code> Input Actual Delivery Date Delivery Report \u2192 Input Actual Delivery Date <code>iauthpay</code> Check / Authorize Maker Invoice Delivery Report \u2192 Check / Authorize Maker Invoice <code>emkinvstat</code> Delivery Report Enquiry Delivery Report \u2192 Delivery Report Enquiry <code>epaystat</code> Enquiry By Payment Status Delivery Report \u2192 Enquiry By Payment Status"},{"location":"source/04-forms-and-screens/form-inventory/#document-printing-forms-3-forms-disabled-menu","title":"Document Printing Forms (3 forms) - Disabled Menu","text":"Form Name Description Menu Location <code>ibdrfreq</code> Input / Print Bank Draft Request Document Printing \u2192 Input / Print Bank Draft Request (disabled) <code>Icolord</code> Input / Print Collection Order Document Printing \u2192 Input / Print Collection Order (disabled) <code>pshipreq</code> Print Shipping Document Requirement Document Printing \u2192 Print Shipping Document Requirement (disabled)"},{"location":"source/04-forms-and-screens/form-inventory/#enquiry-forms-13-forms","title":"Enquiry Forms (13 forms)","text":"Form Name Description Menu Location <code>sabycust</code> Detail Sales Analysis By Customer Enquiry \u2192 Detail Sales Analysis By Customer <code>esabycd</code> Sales Analysis By Customer - Date Enquiry \u2192 Sales Analysis By Customer - Date <code>esabyid</code> Sales Analysis By Item - Date Enquiry \u2192 Sales Analysis By Item - Date <code>enqbyitem</code> Enquiry By Item Enquiry \u2192 Enquiry By Item <code>enqbyso</code> Enquiry By S/O Enquiry \u2192 Enquiry By S/O <code>ecostbrk</code> Cost Breakdown Enquiry Enquiry \u2192 Cost Breakdown Enquiry <code>eoesumry</code> OE Summary Enquiry / Report Enquiry \u2192 OE Summary Enquiry / Report <code>eocsumry</code> OC Summary Enquiry / Report Enquiry \u2192 OC Summary Enquiry / Report <code>econtsumry</code> Contract Summary Enquiry / Report Enquiry \u2192 Contract Summary Enquiry / Report <code>einvsumry</code> Invoice Summary Enquiry Enquiry \u2192 Invoice Summary Enquiry <code>enqbyso2</code> Enquiry By S/O Multiple Search Enquiry \u2192 Enquiry By S/O Multiple Search <code>eisbystd</code> Invoice Sales By Standard Code Enquiry \u2192 Invoice Sales By Standard Code <code>enqbyitem_new</code> Enquiry By Item (New Format) Enquiry \u2192 Enquiry By Item (New Format)"},{"location":"source/04-forms-and-screens/form-inventory/#report-forms-14-forms","title":"Report Forms (14 forms)","text":"Form Name Description Menu Location <code>pocqty</code> OC Qty &amp; Pricing Report Report \u2192 OC Qty &amp; Pricing Report <code>pordbyitem</code> Order Report By Item Report \u2192 Order Report By Item <code>psabycust</code> Sales Report By Customer Report \u2192 Sales Report By Customer <code>pitem</code> Item Detail Report Report \u2192 Item Detail Report <code>pitemsum</code> Item Bought (Excel File) Report \u2192 Item Bought (Excel File) <code>pitemmeas</code> Item Measurement (Excel File) Report \u2192 Item Measurement (Excel File) <code>poe_08_10</code> OE LIST 08 - 10 Report \u2192 OE LIST 08 - 10 <code>pinv_08_10</code> INV LIST 08 - 10 Report \u2192 INV LIST 08 - 10 <code>psabydt</code> Sales Analysis By Customer Report \u2192 Sales Analysis By Customer <code>psabyitem</code> Sales Analysis By Customer, Item No. Report \u2192 Sales Analysis By Customer, Item No. <code>polbymk</code> Order List By Maker Report \u2192 Order List By Maker <code>itemlist_by_oe</code> Item List By OE Date Report \u2192 Item List By OE Date <code>psm_to_xls</code> Print Shipmark to XLS Report \u2192 Print Shipmark to XLS <code>isetcont@@_test</code> Contract Speed Check Report \u2192 Contract Speed Check"},{"location":"source/04-forms-and-screens/form-inventory/#acrobatpdf-forms-4-forms","title":"Acrobat/PDF Forms (4 forms)","text":"Form Name Description Menu Location <code>pordenq_pdf</code> Order Enquiry Acrobat File \u2192 Order Enquiry <code>pconfirm</code> Order Confirmation Acrobat File \u2192 Order Confirmation <code>pcontract_pdf</code> Contract Acrobat File \u2192 Contract <code>pinv_pdf</code> Invoice Acrobat File \u2192 Invoice"},{"location":"source/04-forms-and-screens/form-inventory/#form-statistics","title":"Form Statistics","text":""},{"location":"source/04-forms-and-screens/form-inventory/#by-category","title":"By Category","text":"<ul> <li>Authentication: 1 form</li> <li>Master Data Entry: 21 forms</li> <li>Order Enquiry: 20 forms</li> <li>Order Confirmation: 4 forms</li> <li>Contract: 6 forms</li> <li>Shipping Order: 3 forms</li> <li>Delivery Note: 6 forms</li> <li>Invoice: 10 forms</li> <li>Delivery Report: 4 forms</li> <li>Document Printing: 3 forms (disabled)</li> <li>Enquiry: 13 forms</li> <li>Report: 14 forms</li> <li>Acrobat/PDF: 4 forms</li> </ul> <p>Total Menu Forms: 109 active forms + 9 disabled/utility = 118+ forms</p>"},{"location":"source/04-forms-and-screens/form-inventory/#by-function-type","title":"By Function Type","text":"<ul> <li>Input/Entry Forms (i prefix): 40+ forms</li> <li>Print/Report Forms (p prefix): 30+ forms</li> <li>Enquiry Forms (e/enq prefix): 20+ forms</li> <li>Utility Forms (z/u prefix): 15+ forms</li> <li>Import Forms (u prefix): 10+ forms</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#form-to-module-mapping","title":"Form-to-Module Mapping","text":"<p>See <code>docs/03-application-modules/module-inventory.md</code> for detailed module-to-form mapping.</p>"},{"location":"source/04-forms-and-screens/form-inventory/#module-summary","title":"Module Summary","text":"Module Form Count Key Forms File Management 21 iitem, icustom, ivendor, iuser, ipara2 Order Enquiry 20 ioe1@, ioectrl, uoexls_2013, iqtybrk2 Order Confirmation 4 upostoe, iordhd, pconfirm Contract 6 isetcont@@_2018, iconthd_2018, pcontract@_2018 Shipping Order 3 isetso, isetsodt, pso Delivery Note 6 idn, iload, isetla, pla Invoice 10 iinvhd@, iinvdt2@, pinv@, ppacklist_new Delivery Report 4 ideldate, iauthpay, emkinvstat Enquiry 13 enqbyitem, enqbyso, eoesumry, einvsumry Report 14 pocqty, psabycust, pitem, polbymk Acrobat/PDF 4 pordenq_pdf, pcontract_pdf, pinv_pdf"},{"location":"source/04-forms-and-screens/form-inventory/#form-naming-conventions","title":"Form Naming Conventions","text":""},{"location":"source/04-forms-and-screens/form-inventory/#input-forms","title":"Input Forms","text":"<ul> <li>Prefix <code>i</code>: Input/Entry forms (e.g., <code>iitem</code>, <code>icustom</code>, <code>ioe1@</code>)</li> <li>Prefix <code>iset</code>: Setup/Configuration forms (e.g., <code>isetso</code>, <code>isetcont@@_2018</code>)</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#print-forms","title":"Print Forms","text":"<ul> <li>Prefix <code>p</code>: Print/Report forms (e.g., <code>pinv@</code>, <code>pso</code>, <code>pconfirm</code>, <code>ppacklist_new</code>)</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#enquiry-forms","title":"Enquiry Forms","text":"<ul> <li>Prefix <code>e</code>: Enquiry forms (e.g., <code>einvoice</code>, <code>eoesumry</code>, <code>eocsumry</code>)</li> <li>Prefix <code>enq</code>: Enquiry forms (e.g., <code>enqbyitem</code>, <code>enqbyso</code>)</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#utility-forms","title":"Utility Forms","text":"<ul> <li>Prefix <code>z</code>: Utility/Conversion forms (e.g., <code>zvencon</code>, <code>zchange_item</code>, <code>zdel_data</code>)</li> <li>Prefix <code>u</code>: Import/Utility forms (e.g., <code>uoexls</code>, <code>uimport_item</code>, <code>uqty_breakdown</code>)</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#special-characters","title":"Special Characters","text":"<ul> <li><code>@</code> suffix: New/updated version of form (e.g., <code>ioe1@</code>, <code>iinvhd@</code>, <code>pinv@</code>)</li> <li><code>_2018</code> suffix: 2018 version of form (e.g., <code>isetcont@@_2018</code>, <code>iconthd_2018</code>)</li> <li><code>_xls</code> suffix: Excel export form (e.g., <code>ppacklist_xls</code>, <code>pinv_xls</code>)</li> <li><code>_pdf</code> suffix: PDF generation form (e.g., <code>pordenq_pdf</code>, <code>pinv_pdf</code>)</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#form-files","title":"Form Files","text":""},{"location":"source/04-forms-and-screens/form-inventory/#structure","title":"Structure","text":"<ul> <li><code>.scx</code> - Form file (binary, contains form structure and layout)</li> <li><code>.sct</code> - Form memo file (text format, contains form code, event handlers, and methods)</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#location","title":"Location","text":"<ul> <li>All forms in <code>source/</code> directory</li> <li>Forms referenced by menu system (<code>BATMENUS.MPR</code>)</li> <li>Forms may call other forms or programs</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#form-code-location","title":"Form Code Location","text":"<ul> <li>Form logic is stored in <code>.SCT</code> files (readable text format)</li> <li>Event handlers: <code>Load</code>, <code>Init</code>, <code>GotFocus</code>, <code>Valid</code>, <code>Click</code>, <code>Refresh</code>, <code>Unload</code></li> <li>Custom methods defined in formset or form level</li> <li>Data environment cursors defined in form</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#form-dependencies","title":"Form Dependencies","text":""},{"location":"source/04-forms-and-screens/form-inventory/#forms-that-call-other-forms","title":"Forms That Call Other Forms","text":"<ul> <li><code>ioe1@</code> \u2192 calls <code>ioe2</code> (for item entry)</li> <li><code>iitem</code> \u2192 calls <code>iitemven</code> (for item-vendor relationship)</li> <li><code>iitem</code> \u2192 calls <code>zcopyitem</code> (for copying items)</li> <li><code>iinvdt2@</code> \u2192 calls <code>iinvdtmftr</code> (for item entry)</li> <li>Many forms call lookup/search forms</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#forms-that-call-programs","title":"Forms That Call Programs","text":"<ul> <li>Excel import forms call <code>.prg</code> files for processing</li> <li>Report forms call <code>.prg</code> files for data preparation</li> <li>Utility forms may call <code>.prg</code> files for batch operations</li> </ul>"},{"location":"source/04-forms-and-screens/form-inventory/#summary","title":"Summary","text":"<p>The system has 118+ forms organized by functional module. Forms follow consistent naming conventions and are mapped to business processes. Each form contains extensive logic in <code>.SCT</code> files including:</p> <ul> <li>Event handlers for user interactions</li> <li>Validation rules and business logic</li> <li>Database operations (SELECT, APPEND, REPLACE, DELETE)</li> <li>Grid population and data binding</li> <li>Form-to-form navigation</li> </ul> <p>Detailed form logic documentation is available in category-specific documentation files.</p>"},{"location":"source/04-forms-and-screens/form-layouts/","title":"Form Layouts and UI Components","text":""},{"location":"source/04-forms-and-screens/form-layouts/#overview","title":"Overview","text":"<p>This document describes form layouts and UI components extracted from <code>.SCT</code> file properties. Visual FoxPro forms store layout information including position (Top, Left), size (Width, Height), and control properties.</p>"},{"location":"source/04-forms-and-screens/form-layouts/#layout-properties","title":"Layout Properties","text":""},{"location":"source/04-forms-and-screens/form-layouts/#form-properties","title":"Form Properties","text":"<p>Forms have the following layout properties: - Height - Form height in pixels - Width - Form width in pixels - Top - Vertical position (usually 0 for AutoCenter forms) - Left - Horizontal position (usually 0 for AutoCenter forms) - AutoCenter - Automatically center form on screen - Caption - Form title text - WindowType - 0=Normal, 1=Modal, 2=Read - MaxButton - Show maximize button - MinButton - Show minimize button - Closable - Allow form to be closed</p>"},{"location":"source/04-forms-and-screens/form-layouts/#control-properties","title":"Control Properties","text":"<p>Controls have the following layout properties: - Top - Vertical position relative to form - Left - Horizontal position relative to form - Height - Control height in pixels - Width - Control width in pixels - TabIndex - Tab order sequence - Enabled - Control enabled state - Visible - Control visible state - ControlSource - Data binding field - Caption - Display text (labels, buttons) - Format - Input format (e.g., \"K\" for keyboard entry)</p>"},{"location":"source/04-forms-and-screens/form-layouts/#common-form-layouts","title":"Common Form Layouts","text":""},{"location":"source/04-forms-and-screens/form-layouts/#master-data-forms","title":"Master Data Forms","text":""},{"location":"source/04-forms-and-screens/form-layouts/#iitem-input-item-detail","title":"iitem (Input Item Detail)","text":"<p>Form Properties: - Height: 477 - Width: 637 - AutoCenter: .T. - Caption: \"Input Item Detail\" - WindowType: 0 (Normal)</p> <p>Structure: - Formset: <code>fmsmall2</code> - Pageframe: <code>Pageframe1</code> (2 pages)   - Page1: \"Input Data\" (Input tab)   - Page2: \"Multi Search\" (Search tab) - Navigation: <code>Picbtns1</code> (Top, End, Prev, Next, Add, Edit, Delete, Exit)</p> <p>Key Controls: - Item Number field - Description fields - Price, Cost fields - Measurement fields (Weight, Cube, Net) - Grid for item list</p>"},{"location":"source/04-forms-and-screens/form-layouts/#icustom-input-customer","title":"icustom (Input Customer)","text":"<p>Form Properties: - Similar structure to iitem - Customer-specific fields - Address fields - Payment terms</p>"},{"location":"source/04-forms-and-screens/form-layouts/#ivendor-input-vendor","title":"ivendor (Input Vendor)","text":"<p>Form Properties: - Similar structure to iitem - Vendor-specific fields - Maker information</p>"},{"location":"source/04-forms-and-screens/form-layouts/#order-enquiry-forms","title":"Order Enquiry Forms","text":""},{"location":"source/04-forms-and-screens/form-layouts/#ioe1-input-oe","title":"ioe1@ (Input OE)","text":"<p>Form Properties: - Height: ~600 - Width: ~900 - AutoCenter: .T. - Caption: \"Input Order Enquiry\"</p> <p>Key Controls: - OE Number field - Customer selection - Date fields - Grid: OE items (wioegrid) - Grid: Quantity breakdown (wqtybrkgrid) - Buttons: Add Item, Edit Item, Delete Item, Save, Cancel</p>"},{"location":"source/04-forms-and-screens/form-layouts/#order-confirmation-forms","title":"Order Confirmation Forms","text":""},{"location":"source/04-forms-and-screens/form-layouts/#iordhd-input-order-confirmation","title":"iordhd (Input Order Confirmation)","text":"<p>Form Properties: - Formset: <code>Formset1</code> - Form1: OC header entry - Form2: OC detail entry (iorddt1, iorddt2)</p> <p>Key Controls: - OC Number field - Customer selection - Date fields - Grid: OC items</p>"},{"location":"source/04-forms-and-screens/form-layouts/#contract-forms","title":"Contract Forms","text":""},{"location":"source/04-forms-and-screens/form-layouts/#iconthd_2018-edit-contract-2018-fast","title":"iconthd_2018 (Edit Contract 2018 fast)","text":"<p>Form Properties: - Height: 479 - Width: 753 - AutoCenter: .T. - Caption: \"Edit Contract 2018 fast\" - Closable: .F. - MaxButton: .F. - MinButton: .F. - WindowType: 1 (Modal)</p> <p>Key Controls: - Txtbox1: Contract Number - Txtbox6: OC Number (conf_no) - Txtbox7: Request Date From (req_date_f) - Txtbox8: Request Date To (req_date_t) - Txtbox2: Vendor Number - Txtbox3: Vendor Name (display) - Grid: Contract items</p>"},{"location":"source/04-forms-and-screens/form-layouts/#invoice-forms","title":"Invoice Forms","text":""},{"location":"source/04-forms-and-screens/form-layouts/#iinvdt2-input-invoice-detail-new","title":"iinvdt2@ (Input Invoice Detail New)","text":"<p>Form Properties: - Formset: <code>Formset2</code> - Form1: Container selection and item grid   - Height: 440   - Width: 788   - Caption: \"Input Invoice Detail (By Container No. )\"   - Closable: .F.   - FontName: \"Courier\" - Form2: Item detail entry form</p> <p>Form1 Key Controls: - Txtbox1: Invoice Number (display) - Txtbox2: Customer Number (display) - Txtbox3: Customer Name (display) - Txtbox4: Invoice Date From - Txtbox5: Invoice Date To - Txtbox6: Container Number - Combofield1: Container selection dropdown - Grid1: Invoice items grid (winvdtgrid) - Grid2: Available items grid (vinvdt) - Command1: Select All button - Command3: Reset button - Command4: Item Mftr button - OptionGroup1: Filter option (Head items only / All items)</p> <p>Form2 Key Controls: - Txtbox1: Invoice Number - Txtbox4: Carton (ctn) - Txtbox5: Quantity (qty) - Txtbox6: Price - Txtbox7: Amount (calculated) - Edboxdesp3: Description memo - Command1: Save button - Command2: Cancel button</p>"},{"location":"source/04-forms-and-screens/form-layouts/#delivery-note-forms","title":"Delivery Note Forms","text":""},{"location":"source/04-forms-and-screens/form-layouts/#idn-input-dn","title":"idn (Input D/N)","text":"<p>Form Properties: - Height: 491 - Width: 983 - AutoCenter: .T. - Caption: \"Input D/N\" - MaxButton: .F. - BufferMode: 2</p> <p>Key Controls: - cboCustCode: Customer selection - cboPort: Port selection - txtFromDate: From Date - txtToDate: To Date - grdSelDn: DN selection grid - grdCont: Container grid - grdOc_no: OC number grid</p>"},{"location":"source/04-forms-and-screens/form-layouts/#common-control-patterns","title":"Common Control Patterns","text":""},{"location":"source/04-forms-and-screens/form-layouts/#textbox-controls","title":"Textbox Controls","text":"<p>Common Properties: - Height: 24 (standard) - Format: \"K\" (keyboard entry), \"!K\" (uppercase keyboard) - ControlSource: Bound to data field - Enabled: .T. or .F. (read-only) - TabIndex: Sequential tab order</p> <p>Example: <pre><code>Txtbox1\n  ControlSource = \"mconthd.cont_no\"\n  Format = \"!K\"\n  Height = 24\n  Left = 105\n  TabIndex = 1\n  Top = 14\n  Width = 119\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-layouts/#grid-controls","title":"Grid Controls","text":"<p>Common Properties: - ColumnCount: Number of columns - RecordSource: Data source cursor/table - ScrollBars: 3 (both), 2 (vertical), 1 (horizontal), 0 (none) - DeleteMark: .F. (hide delete column) - ReadOnly: .T. or .F.</p> <p>Example: <pre><code>Grid1\n  ColumnCount = 9\n  DeleteMark = .F.\n  Height = 289\n  Left = 300\n  Panel = 1\n  ReadOnly = .T.\n  RecordSource = \"vinvdt\"\n  ScrollBars = 3\n  TabIndex = 15\n  Top = 132\n  Width = 474\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-layouts/#combobox-controls","title":"Combobox Controls","text":"<p>Common Properties: - RowSourceType: 3 (SQL Statement) - RowSource: SQL SELECT statement - ColumnCount: Number of display columns - Height: 24 (standard)</p> <p>Example: <pre><code>Combofield1\n  FontName = \"Courier\"\n  ColumnCount = 2\n  RowSourceType = 3\n  RowSource = \"SELECT cntr_no, ref_no FROM temp...\"\n  Height = 24\n  Left = 207\n  TabIndex = 10\n  Top = 101\n  Width = 21\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-layouts/#command-buttons","title":"Command Buttons","text":"<p>Common Properties: - Height: 19-25 (standard) - Width: 50-100 (varies) - Caption: Button text - TabIndex: Sequential - Cancel: .T. (for Exit buttons)</p> <p>Example: <pre><code>Command1\n  Top = 144\n  Left = 25\n  Height = 19\n  Width = 50\n  Caption = \"Select All\"\n  TabIndex = 5\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-layouts/#date-controls","title":"Date Controls","text":"<p>Common Properties: - Format: \"K\" (keyboard entry) - ControlSource: Date field - Height: 24 (standard) - DisabledForeColor: 0,0,255 (blue for disabled)</p> <p>Example: <pre><code>Txtbox7 (Date From)\n  ControlSource = \"mconthd.req_date_f\"\n  Format = \"K\"\n  Height = 24\n  Left = 344\n  TabIndex = 4\n  Top = 36\n  Width = 80\n  DisabledForeColor = 0,0,255\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-layouts/#layout-patterns","title":"Layout Patterns","text":""},{"location":"source/04-forms-and-screens/form-layouts/#single-form-layout","title":"Single Form Layout","text":"<ul> <li>Header section: Top of form (labels, key fields)</li> <li>Data entry section: Middle (textboxes, comboboxes)</li> <li>Grid section: Bottom (data display)</li> <li>Button bar: Bottom (Save, Cancel, etc.)</li> </ul>"},{"location":"source/04-forms-and-screens/form-layouts/#formset-layout","title":"Formset Layout","text":"<ul> <li>Form1: Main data entry form</li> <li>Form2: Detail entry form (modal)</li> <li>Shared data environment</li> <li>Common methods</li> </ul>"},{"location":"source/04-forms-and-screens/form-layouts/#pageframe-layout","title":"Pageframe Layout","text":"<ul> <li>Page1: Input/Entry tab</li> <li>Page2: Search/Enquiry tab</li> <li>Common navigation buttons</li> <li>Shared data source</li> </ul>"},{"location":"source/04-forms-and-screens/form-layouts/#color-schemes","title":"Color Schemes","text":""},{"location":"source/04-forms-and-screens/form-layouts/#standard-colors","title":"Standard Colors","text":"<ul> <li>BackColor: 192,192,192 (light gray) for forms</li> <li>ForeColor: 0,0,0 (black) for text</li> <li>DisabledForeColor: 0,0,255 (blue) for disabled fields</li> <li>Grid BackColor: 255,255,255 (white)</li> <li>Selected Row: rgb(213,213,255) (light blue)</li> </ul>"},{"location":"source/04-forms-and-screens/form-layouts/#dynamic-colors","title":"Dynamic Colors","text":"<p>Grid rows use dynamic back color: <pre><code>DynamicBackColor = 'iif(winvdtgrid.select = .t., ;\n    rgb(213,213,255), rgb(255,255,255))'\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-layouts/#font-properties","title":"Font Properties","text":""},{"location":"source/04-forms-and-screens/form-layouts/#standard-fonts","title":"Standard Fonts","text":"<ul> <li>FontName: \"Courier\" (monospace) for data entry</li> <li>FontName: \"Arial\" (default) for labels</li> <li>FontSize: 9-14 (varies by control)</li> <li>FontBold: .T. for headers, important fields</li> </ul>"},{"location":"source/04-forms-and-screens/form-layouts/#summary","title":"Summary","text":"<p>Form layouts follow consistent patterns: - Standard heights: 24px for textboxes, 19-25px for buttons - Grid layouts: Full-width, scrollable, multi-column - Tab order: Sequential TabIndex values - Color coding: Blue for disabled, light blue for selected - Font consistency: Courier for data, Arial for labels - Button placement: Bottom of form, right-aligned - Modal forms: WindowType = 1, Closable = .F.</p> <p>These patterns ensure consistent user experience across all forms in the system.</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/","title":"Form Logic Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#overview","title":"Overview","text":"<p>This document describes common patterns and conventions used across forms in the system. Understanding these patterns helps in analyzing individual forms and maintaining consistency.</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#form-structure","title":"Form Structure","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#form-types","title":"Form Types","text":"<ol> <li>Single Form - Standalone form with no formset</li> <li>Formset - Container with multiple forms (Form1, Form2, etc.)</li> <li>Pageframe Forms - Forms with tabbed pages (Page1, Page2, etc.)</li> </ol>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#common-form-properties","title":"Common Form Properties","text":"<ul> <li>DataSession: Usually 2 (private data session) or 1 (default)</li> <li>AutoRelease: .T. (automatically release when closed)</li> <li>WindowType: 0 (normal) or 1 (modal)</li> <li>AutoCenter: .T. (center form on screen)</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#event-handlers","title":"Event Handlers","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#form-level-events","title":"Form-Level Events","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#load-event","title":"Load Event","text":"<p>Purpose: Initialize form-level variables and settings</p> <p>Common Patterns: <pre><code>PROCEDURE Load\nSET TALK OFF\nSET HOUR TO 24\nSET SAFETY OFF\nSET CENTURY ON\nSET DELETED ON\nSET DATE MDY\n\nPUBLIC w_variable1, w_variable2\nw_variable1 = \"\"\nw_variable2 = .F.\nENDPROC\n</code></pre></p> <p>Typical Operations: - Set environment variables (TALK, SAFETY, CENTURY, etc.) - Declare public variables - Initialize default values - Set database paths</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#init-event","title":"Init Event","text":"<p>Purpose: Initialize form objects and load data</p> <p>Common Patterns: <pre><code>PROCEDURE Init\nPUBLIC check_change, record_point\ncheck_change = 0\nrecord_point = \"\"\n\nSELECT mitem\nSET ORDER TO item_no\nGO TOP\n\nthisform.refresh\nENDPROC\n</code></pre></p> <p>Typical Operations: - Initialize form-specific variables - Open and position database tables - Set index orders - Load initial data - Call refresh methods</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#gotfocus-event","title":"GotFocus Event","text":"<p>Purpose: Handle form focus and refresh data</p> <p>Common Patterns: <pre><code>PROCEDURE GotFocus\nIF check_change &lt;&gt; 0\n    thisform.label4.caption = \"Please Wait...............\"\n    SELECT voe1\n    strOeNo = alltrim(w_oe_prefix) + alltrim(thisform.txtbox1.value)\n    thisformset.requeryGrid(strOeNo)\n    thisform.label4.caption = \"\"\n    check_change = 0\nENDIF\nthisform.refresh\nENDPROC\n</code></pre></p> <p>Typical Operations: - Check for data changes - Refresh grids and data - Update display labels - Reset change flags</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#refresh-event","title":"Refresh Event","text":"<p>Purpose: Update form display with current data</p> <p>Common Patterns: <pre><code>PROCEDURE Refresh\nSELECT mitem\nthisform.txtbox1.value = mitem.item_no\nthisform.txtbox2.value = mitem.short_name\nthisform.grid1.refresh\nENDPROC\n</code></pre></p> <p>Typical Operations: - Update control values from current record - Refresh grids - Update calculated fields - Enable/disable controls based on state</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#unload-event","title":"Unload Event","text":"<p>Purpose: Cleanup when form closes</p> <p>Common Patterns: <pre><code>PROCEDURE Unload\nIF used(\"temp_cursor\")\n    SELECT temp_cursor\n    USE\nENDIF\nRELEASE PUBLIC w_variable1\nENDPROC\n</code></pre></p> <p>Typical Operations: - Close temporary cursors - Release public variables - Clean up resources</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#control-level-events","title":"Control-Level Events","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#valid-event-field-validation","title":"Valid Event (Field Validation)","text":"<p>Purpose: Validate field input before leaving control</p> <p>Common Patterns:</p> <p>Required Field Validation: <pre><code>PROCEDURE Valid\nIF EMPTY(this.value)\n    MESSAGEBOX(\"Field Cannot Be Empty!\", 16, \"Error\")\n    RETURN .F.\nENDIF\nRETURN .T.\nENDPROC\n</code></pre></p> <p>Format Validation: <pre><code>PROCEDURE Valid\nIF !empty(this.value)\n    IF len(alltrim(this.value)) &gt; 10\n        messagebox(\"Length of Item number &gt; 10\", 16, \"Error Message!\")\n        return .f.\n    ENDIF\nENDIF\nRETURN .T.\nENDPROC\n</code></pre></p> <p>Database Existence Check: <pre><code>PROCEDURE Valid\nIF !empty(this.value)\n    SELECT mcustom\n    LOCATE FOR ALLTRIM(mcustom.cust_no) == ALLTRIM(this.value)\n    IF !FOUND()\n        Messagebox(\"Invalid Client No!\", 16, \"System Message!\")\n        thisform.txtbox4.value = \"\"\n        return .f.\n    ELSE\n        thisform.txtbox4.value = mcustom.ename\n    ENDIF\nENDIF\nRETURN .T.\nENDPROC\n</code></pre></p> <p>Uniqueness Check: <pre><code>PROCEDURE Valid\nIF !empty(this.value)\n    SELECT * FROM mitem WHERE item_no == alltrim(this.value) INTO CURSOR item_cursor\n    IF !eof()\n        messagebox(\"Item number had been existed!\", 16, \"Error Message!\")\n        return .f.\n    ENDIF\nENDIF\nRETURN .T.\nENDPROC\n</code></pre></p> <p>Cross-Field Validation (Date Range): <pre><code>PROCEDURE Valid\nIF empty(thisform.txtbox7.value) AND !empty(thisform.txtbox8.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox7.value) AND empty(thisform.txtbox8.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox7.value) OR !empty(thisform.txtbox8.value)\n    IF this.value &lt; thisform.txtbox7.value\n        Messagebox(\"Invalid Date !\", 16, \"System Message!\")\n        this.value = {//}\n    ENDIF\nENDIF\nRETURN .T.\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#gotfocus-event-control","title":"GotFocus Event (Control)","text":"<p>Purpose: Handle control focus</p> <p>Common Patterns: <pre><code>PROCEDURE GotFocus\nIF Empty(this.value)\n    this.value = date()\nENDIF\nENDPROC\n</code></pre></p> <p>Typical Operations: - Set default values - Change visual appearance (forecolor) - Enable/disable related controls</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#click-event-button","title":"Click Event (Button)","text":"<p>Purpose: Handle button clicks</p> <p>Common Patterns:</p> <p>Add Record: <pre><code>PROCEDURE Click\nIF empty(alltrim(thisform.txtbox1.value))\n    messagebox(\"Oe No Can not Empty!\", 16, \"System Message!\")\n    thisform.txtbox1.setfocus\n    return .f.\nENDIF\n\nIF empty(thisform.TXTBOX2.value)\n    Messagebox(\"Invalid Client Code!\", 16, \"System Message!\")\n    thisform.txtbox2.setfocus\nELSE\n    DO FORM ioe2 WITH alltrim(w_oe_prefix) + alltrim(thisform.txtbox1.value), \"\", alltrim(thisform.txtbox2.value)\n    check_change = 1\nENDIF\nENDPROC\n</code></pre></p> <p>Delete Record: <pre><code>PROCEDURE Click\nIF MESSAGEBOX(\"Delete All Record ?\", 4+64, \"System Message\") = 6\n    SELECT moe\n    SET FILTER TO alltrim(moe.oe_no) == alltrim(w_oe_prefix) + alltrim(thisform.txtbox1.value)\n    DELETE ALL\n    SET FILTER TO\n\n    thisformset.requeryGrid(strOeNo)\n    thisform.txtbox1.value = \"\"\n    thisform.refresh\nENDIF\nENDPROC\n</code></pre></p> <p>Save Record: <pre><code>PROCEDURE Click\nSELECT moe\nLOCATE FOR alltrim(oe_no) == alltrim(thisform.txtbox1.value)\nIF !found()\n    MESSAGEBOX(\"OE Must Have Items\", 16, \"Error\")\n    RETURN .F.\nENDIF\n\nSELECT moehd\nLOCATE FOR alltrim(oe_no) == alltrim(thisform.txtbox1.value)\nIF found()\n    REPLACE mod_date WITH DATE()\n    REPLACE mod_user WITH sysUserId\nENDIF\n\nthisformset.release\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#validation-patterns","title":"Validation Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#field-level-validation","title":"Field-Level Validation","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#required-field","title":"Required Field","text":"<ul> <li>Check if field is empty</li> <li>Show error message</li> <li>Return .F. to prevent leaving control</li> <li>Set focus back to field</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#format-validation","title":"Format Validation","text":"<ul> <li>Check length (e.g., max 10 characters)</li> <li>Check format (e.g., numeric, date)</li> <li>Check pattern (e.g., specific format)</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#range-validation","title":"Range Validation","text":"<ul> <li>Check numeric ranges</li> <li>Check date ranges</li> <li>Check value constraints</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#cross-field-validation","title":"Cross-Field Validation","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#date-range-validation","title":"Date Range Validation","text":"<ul> <li>Both dates must be empty or both filled</li> <li>To date must be &gt;= From date</li> <li>Validate date relationships</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#dependency-validation","title":"Dependency Validation","text":"<ul> <li>Field B required if Field A has value</li> <li>Field C must match Field A</li> <li>Related fields must be consistent</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#database-validation","title":"Database Validation","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#existence-check","title":"Existence Check","text":"<ul> <li>Check if record exists in lookup table</li> <li>Validate foreign key relationships</li> <li>Check master data existence</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#uniqueness-check","title":"Uniqueness Check","text":"<ul> <li>Check if value already exists</li> <li>Prevent duplicate records</li> <li>Validate primary key constraints</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#business-rule-validation","title":"Business Rule Validation","text":"<ul> <li>Check business-specific rules</li> <li>Validate status transitions</li> <li>Check workflow constraints</li> </ul>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#data-operation-patterns","title":"Data Operation Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#grid-population","title":"Grid Population","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#simple-grid","title":"Simple Grid","text":"<pre><code>SELECT * FROM mitem INTO CURSOR Gridsource_cursor ORDER BY item_no\nthisform.grid1.recordsource = \"Gridsource_cursor\"\nthisform.grid1.column1.controlsource = \"Gridsource_cursor.item_no\"\nthisform.grid1.column2.controlsource = \"Gridsource_cursor.short_name\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#grid-with-joins","title":"Grid with Joins","text":"<pre><code>SELECT Mitem.item_no, Mitem.short_name, mitem.std_code,;\n       nvl(Zstdcode.std_desp,\"\");\nFROM baitin!mitem LEFT OUTER JOIN baitin!zstdcode;\n     ON Mitem.std_code = Zstdcode.std_code;\nINTO CURSOR Gridsource_cursor;\nORDER BY 1\n\nthisform.grid1.recordsource = \"Gridsource_cursor\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#grid-with-aggregations","title":"Grid with Aggregations","text":"<pre><code>SELECT oe_no, item_no, sum(qty) as BrkQty;\nFROM mqtybrk;\nWHERE oe_no = strOENo;\nGROUP BY 1,2;\nINTO CURSOR voebrk\n\nSELECT a.*, nvl(b.BrkQty,000000) as brkQty;\nFROM voe3 a LEFT OUTER JOIN voebrk b;\n     ON a.oe_no = b.oe_no AND a.item_no = b.item_no;\nINTO CURSOR voe1\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#dynamic-grid-with-calculations","title":"Dynamic Grid with Calculations","text":"<pre><code>SELECT a.*, round(a.qty/a.ctn*a.price,2) as ctncost,;\n       nvl(b.BrkQty,000000) as brkQty;\nFROM voe3 a LEFT OUTER JOIN voebrk b;\n     ON a.oe_no = b.oe_no AND a.item_no = b.item_no;\nINTO CURSOR voe1\n\nthisformset.form1.grid1.column5.controlsource =;\n    \"iif(voe1.cost &lt;=0,100,round(((voe1.price *getExRate('US$'))-;\n     (voe1.cost * getExRate(cur_code))) / (voe1.cost * getExRate(cur_code))* 100,2))\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#grid-with-conditional-formatting","title":"Grid with Conditional Formatting","text":"<pre><code>thisformset.form1.grid1.column2.dynamicbackcolor =;\n    \"iif(qty # brkQty AND BrkQty &gt; 0, RGB(255,221,221), RGB(255,255,255))\"\n\nthisformset.form1.grid1.column2.dynamicforecolor =;\n    \"iif(qty # brkQty AND BrkQty &gt; 0, RGB(255,0,0), RGB(0,0,0))\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#data-binding-patterns","title":"Data Binding Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#direct-binding","title":"Direct Binding","text":"<pre><code>thisform.txtbox1.controlsource = \"mitem.item_no\"\nthisform.txtbox2.controlsource = \"mitem.short_name\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#calculated-binding","title":"Calculated Binding","text":"<pre><code>thisform.txtbox3.controlsource = \"round(qty * price, 2)\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#conditional-binding","title":"Conditional Binding","text":"<pre><code>thisform.txtbox4.controlsource = \"iif(mitem.suspend_flag = 'Y', 'Suspended', 'Active')\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#save-operations","title":"Save Operations","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#append-new-record","title":"Append New Record","text":"<pre><code>SELECT mitem\nAPPEND BLANK\nREPLACE item_no WITH thisform.txtbox1.value\nREPLACE short_name WITH thisform.txtbox2.value\nREPLACE cre_date WITH DATE()\nREPLACE cre_user WITH sysUserId\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#update-existing-record","title":"Update Existing Record","text":"<pre><code>SELECT mitem\nLOCATE FOR alltrim(item_no) == alltrim(thisform.txtbox1.value)\nIF found()\n    REPLACE short_name WITH thisform.txtbox2.value\n    REPLACE mod_date WITH DATE()\n    REPLACE mod_user WITH sysUserId\nENDIF\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#save-with-validation","title":"Save with Validation","text":"<pre><code>IF empty(thisform.txtbox1.value)\n    MESSAGEBOX(\"Item No Cannot Be Empty!\", 16, \"Error\")\n    RETURN .F.\nENDIF\n\nSELECT mitem\nLOCATE FOR alltrim(item_no) == alltrim(thisform.txtbox1.value)\nIF found() AND w_mode = \"A\"\n    MESSAGEBOX(\"Item Already Exists!\", 16, \"Error\")\n    RETURN .F.\nENDIF\n\nIF w_mode = \"A\"\n    APPEND BLANK\nENDIF\n\nREPLACE item_no WITH thisform.txtbox1.value\nREPLACE short_name WITH thisform.txtbox2.value\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#delete-operations","title":"Delete Operations","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#single-record-delete","title":"Single Record Delete","text":"<pre><code>IF MESSAGEBOX(\"Delete This Record?\", 4+64, \"Confirm\") = 6\n    SELECT mitem\n    DELETE\n    PACK\n    thisform.refresh\nENDIF\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#multiple-record-delete","title":"Multiple Record Delete","text":"<pre><code>IF MESSAGEBOX(\"Delete All Record ?\", 4+64, \"System Message\") = 6\n    SELECT moe\n    SET FILTER TO alltrim(moe.oe_no) == alltrim(w_oe_prefix) + alltrim(thisform.txtbox1.value)\n    DELETE ALL\n    SET FILTER TO\n\n    SELECT mqtybrk\n    SET FILTER TO alltrim(mqtybrk.oe_no) == alltrim(w_oe_prefix) + alltrim(thisform.txtbox1.value)\n    DELETE ALL\n    SET FILTER TO\nENDIF\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#form-navigation-patterns","title":"Form Navigation Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#opening-child-forms","title":"Opening Child Forms","text":"<pre><code>DO FORM ioe2 WITH alltrim(w_oe_prefix) + alltrim(thisform.txtbox1.value),;\n                  \"\",;\n                  alltrim(thisform.txtbox2.value),;\n                  alltrim(thisform.txtbox4.value),;\n                  0,;\n                  THISFORM.TXTBOX10.VALUE,;\n                  THISFORM.TXTBOX11.VALUE,;\n                  \"\"\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#form-return-values","title":"Form Return Values","text":"<pre><code>* In calling form:\nDO FORM ioe2 WITH parameters\nIF check_change = 1\n    thisformset.requeryGrid(strOeNo)\nENDIF\n\n* In called form:\nPUBLIC check_change\ncheck_change = 1\nthisformset.release\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#form-visibility-control","title":"Form Visibility Control","text":"<pre><code>thisformset.form2.visible = .T.\nthisformset.form2.show\nthisform.hide\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#common-methods","title":"Common Methods","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#requery-grid-method","title":"Requery Grid Method","text":"<pre><code>PROCEDURE requerygrid\nPARAMETER strOENo\n\nSET EXACT ON\nthisformset.form1.grid1.recordsource = \"\"\n\nSELECT * FROM moe INTO CURSOR voe3;\n    WHERE oe_no = strOENo;\n    ORDER BY item_no\n\nSELECT oe_no, item_no, sum(qty) as BrkQty;\n    FROM mqtybrk;\n    WHERE oe_no = strOENo;\n    GROUP BY 1,2;\n    INTO CURSOR voebrk\n\nSELECT a.*, round(a.qty/a.ctn*a.price,2) as ctncost,;\n       nvl(b.BrkQty,000000) as brkQty;\n    FROM voe3 a LEFT OUTER JOIN voebrk b;\n         ON a.oe_no = b.oe_no AND a.item_no = b.item_no;\n    INTO CURSOR voe1\n\nthisformset.form1.grid1.recordsource = \"voe1\"\nthisformset.form1.grid1.column1.controlsource = \"voe1.item_no\"\nthisformset.form1.grid1.column2.controlsource = \"voe1.qty\"\n* ... set other columns\n\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#update-method","title":"Update Method","text":"<pre><code>PROCEDURE update_winvdt\nSELECT winvdtgrid\nGO TOP\nDO WHILE !EOF()\n    SELECT minvdt\n    LOCATE FOR alltrim(minvdt.inv_no) == alltrim(winvdtgrid.inv_no) AND;\n               alltrim(minvdt.item_no) == alltrim(winvdtgrid.item_no)\n    IF !found()\n        APPEND BLANK\n    ENDIF\n    REPLACE inv_no WITH winvdtgrid.inv_no\n    REPLACE item_no WITH winvdtgrid.item_no\n    REPLACE qty WITH winvdtgrid.qty\n    * ... replace other fields\n    SELECT winvdtgrid\n    SKIP\nENDDO\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#error-handling-patterns","title":"Error Handling Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#validation-error-messages","title":"Validation Error Messages","text":"<pre><code>MESSAGEBOX(\"Error Message Text\", 16, \"Error Title\")\nRETURN .F.\n</code></pre> <p>Message Box Types: - <code>16</code> - Stop icon (error) - <code>32</code> - Question icon (confirmation) - <code>48</code> - Exclamation icon (warning) - <code>64</code> - Information icon</p>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#user-confirmation","title":"User Confirmation","text":"<pre><code>IF MESSAGEBOX(\"Delete This Record?\", 4+32, \"Confirm\") = 6\n    * User clicked Yes\n    DELETE\nELSE\n    * User clicked No\n    RETURN\nENDIF\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#try-catch-pattern-error-handling","title":"Try-Catch Pattern (Error Handling)","text":"<pre><code>ON ERROR DO error_handler\n\nPROCEDURE error_handler\nMESSAGEBOX(\"Error: \" + MESSAGE(), 16, \"System Error\")\nRETURN\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#state-management-patterns","title":"State Management Patterns","text":""},{"location":"source/04-forms-and-screens/form-logic-patterns/#mode-variables","title":"Mode Variables","text":"<pre><code>PUBLIC w_mode\nw_mode = \"\"  * Normal mode\nw_mode = \"A\" * Add mode\nw_mode = \"M\" * Modify mode\n\nIF w_mode = \"A\" OR w_mode = \"M\"\n    thisform.txtbox1.enabled = .T.\n    thisform.txtbox2.enabled = .T.\nELSE\n    thisform.txtbox1.enabled = .F.\n    thisform.txtbox2.enabled = .F.\nENDIF\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#change-tracking","title":"Change Tracking","text":"<pre><code>PUBLIC check_change\ncheck_change = 0  * No changes\ncheck_change = 1  * Changes made\n\nPROCEDURE GotFocus\nIF check_change &lt;&gt; 0\n    thisformset.requeryGrid(strOeNo)\n    check_change = 0\nENDIF\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#record-point-tracking","title":"Record Point Tracking","text":"<pre><code>PUBLIC record_point\nrecord_point = \"\"\n\n* Save current position\nrecord_point = alltrim(mitem.item_no)\n\n* Restore position\nSELECT voe1\nLOCATE FOR alltrim(item_no) == alltrim(record_point)\nIF !found()\n    GO TOP\nENDIF\n</code></pre>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#best-practices","title":"Best Practices","text":"<ol> <li>Always validate before saving - Check all required fields and business rules</li> <li>Use meaningful error messages - Tell user exactly what's wrong</li> <li>Track changes - Use flags to know when to refresh data</li> <li>Clean up resources - Close cursors and release variables in Unload</li> <li>Use consistent naming - Follow form naming conventions</li> <li>Handle edge cases - Check for empty values, EOF conditions</li> <li>Provide user feedback - Show \"Please Wait\" messages for long operations</li> <li>Enable/disable controls - Based on form state and user permissions</li> <li>Use transactions - For multi-table updates when possible</li> <li>Document complex logic - Add comments for non-obvious code</li> </ol>"},{"location":"source/04-forms-and-screens/form-logic-patterns/#summary","title":"Summary","text":"<p>Forms in the system follow consistent patterns for: - Event handling (Load, Init, GotFocus, Valid, Click, Refresh, Unload) - Validation (field-level, cross-field, database, business rules) - Data operations (grid population, data binding, save, delete) - Form navigation (opening child forms, passing parameters) - State management (mode tracking, change tracking)</p> <p>Understanding these patterns helps in: - Analyzing existing forms - Creating new forms - Debugging form issues - Maintaining consistency across the system</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/","title":"Form-to-Business-Process Mapping","text":""},{"location":"source/04-forms-and-screens/form-process-mapping/#overview","title":"Overview","text":"<p>This document maps forms to business processes and shows dependencies between forms. Understanding these relationships is crucial for system maintenance and workflow comprehension.</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#business-process-flow","title":"Business Process Flow","text":"<pre><code>Order Enquiry \u2192 Order Confirmation \u2192 Contract \u2192 Shipping Order \u2192 Delivery Note \u2192 Invoice\n</code></pre>"},{"location":"source/04-forms-and-screens/form-process-mapping/#form-dependencies-by-process","title":"Form Dependencies by Process","text":""},{"location":"source/04-forms-and-screens/form-process-mapping/#1-order-enquiry-process","title":"1. Order Enquiry Process","text":"<p>Primary Forms: - <code>ioe1@</code> - Input Order Enquiry (main entry) - <code>ioectrl</code> - OE Control - <code>iqtybrk2</code> - Quantity Breakdown Entry - <code>uoexls</code> - Export OE to Excel - <code>poe</code> - Print OE</p> <p>Dependencies: - Requires: <code>iitem</code> (item master), <code>icustom</code> (customer master) - Called by: <code>upostoe</code> (Post OE to OC) - Calls: <code>iqtybrk2</code> (quantity breakdown)</p> <p>Data Flow: - Input: <code>moe</code>, <code>moehd</code> - Output: Used by <code>upostoe</code> to create OC</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#2-order-confirmation-process","title":"2. Order Confirmation Process","text":"<p>Primary Forms: - <code>upostoe</code> - Post OE to OC (automated posting) - <code>iordhd</code> - Input Order Confirmation (manual entry) - <code>iorddt1</code>, <code>iorddt2</code> - OC Detail Entry - <code>pconfirm</code> - Print OC - <code>pocbrk</code> - Print OC Qty Breakdown</p> <p>Dependencies: - Requires: <code>ioe1@</code> (OE source), <code>iitem</code>, <code>icustom</code> - Called by: <code>isetcont@@_2018</code> (Contract creation) - Calls: <code>iorddt1</code>, <code>iorddt2</code> (detail entry)</p> <p>Data Flow: - Input: <code>moe</code>, <code>moehd</code> (from OE) - Output: <code>mordhd</code>, <code>morddt</code> (OC data) - Used by: Contract forms</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#3-contract-process","title":"3. Contract Process","text":"<p>Primary Forms: - <code>isetcont@@_2018</code> - Input Contract 2018 Fast - <code>iconthd_2018</code> - Contract Header Entry - <code>icontdt_2018</code> - Contract Detail Entry - <code>pcontract@_2018</code> - Print Contract 2018 - <code>pcontbrk</code> - Print Contract Qty Breakdown - <code>pcontamdrmk</code> - Print Contract Amendment</p> <p>Dependencies: - Requires: <code>iordhd</code> (OC source), <code>ivendor</code> (vendor master) - Called by: <code>isetso</code> (SO creation) - Calls: <code>icontdt_2018</code> (detail entry)</p> <p>Data Flow: - Input: <code>mordhd</code>, <code>morddt</code> (from OC) - Output: <code>mconthd</code>, <code>mcontdt</code> (Contract data) - Used by: Shipping Order forms</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#4-shipping-order-process","title":"4. Shipping Order Process","text":"<p>Primary Forms: - <code>isetso</code> - Input Shipping Order - <code>isetsodt</code> - SO Detail Entry - <code>pso</code> - Print Shipping Order - <code>isoformat</code> - Input SO Format</p> <p>Dependencies: - Requires: <code>iconthd_2018</code> (Contract source) - Called by: <code>idn</code> (DN creation) - Calls: <code>isetsodt</code> (detail entry)</p> <p>Data Flow: - Input: <code>mconthd</code>, <code>mcontdt</code> (from Contract) - Output: <code>mso</code> (SO data) - Used by: Delivery Note forms</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#5-delivery-note-process","title":"5. Delivery Note Process","text":"<p>Primary Forms: - <code>idn</code> - Input D/N - <code>idnbrk</code> - DN Breakdown Entry - <code>iload</code> - Input Loading Master - <code>isetla</code> - Input Loading Advice - <code>pla</code> - Print Loading Advice - <code>pdnorg</code> - Print D/N Original List - <code>pdn_xls</code> - Create D/N Excel File</p> <p>Dependencies: - Requires: <code>isetso</code> (SO source) - Called by: <code>iinvdt2@</code> (Invoice creation) - Calls: <code>idnbrk</code> (breakdown entry)</p> <p>Data Flow: - Input: <code>mso</code> (from SO) - Output: <code>mdnhd</code>, <code>mdndt</code> (DN data), <code>mload</code> (loading data) - Used by: Invoice forms</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#6-invoice-process","title":"6. Invoice Process","text":"<p>Primary Forms: - <code>iinvhd@</code> - Input Invoice Header New - <code>iinvdt2@</code> - Input Invoice Detail New (complex) - <code>pinv@</code> - Print Invoice New - <code>ppacklist_new</code> - Print Packing List New - <code>ppacklist_xls</code> - Print Packing List to XLS - <code>ppacklist_xls_spencer</code> - Packing List Spencer Format - <code>pinv_xls</code> - Print Invoice to XLS - <code>pshadvice</code> - Print Shipment Advice - <code>pdebitnote</code> - Print Debit Note</p> <p>Dependencies: - Requires: <code>idn</code> (DN source), <code>iload</code> (container data) - Calls: <code>iinvdtmftr</code> (item manufacturer form)</p> <p>Data Flow: - Input: <code>mdnhd</code>, <code>mdndt</code>, <code>mload</code> (from DN) - Output: <code>minvhd</code>, <code>minvdt</code> (Invoice data) - Final document in workflow</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#cross-process-forms","title":"Cross-Process Forms","text":""},{"location":"source/04-forms-and-screens/form-process-mapping/#master-data-forms","title":"Master Data Forms","text":"<p>Forms: - <code>iitem</code> - Item Master - <code>icustom</code> - Customer Master - <code>ivendor</code> - Vendor Master</p> <p>Used By: - All process forms (OE, OC, Contract, SO, DN, Invoice)</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#enquiry-forms","title":"Enquiry Forms","text":"<p>Forms: - <code>enqbyitem</code> - Enquiry By Item - <code>enqbyso</code> - Enquiry By S/O - <code>eoesumry</code> - OE Summary - <code>eocsumry</code> - OC Summary - <code>econtsumry</code> - Contract Summary - <code>einvsumry</code> - Invoice Summary</p> <p>Dependencies: - Read-only access to all process tables - No dependencies on other forms</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#report-forms","title":"Report Forms","text":"<p>Forms: - <code>pocqty</code> - OC Qty &amp; Pricing Report - <code>pordbyitem</code> - Order Report By Item - <code>psabycust</code> - Sales Report By Customer - <code>pitem</code> - Item Detail Report</p> <p>Dependencies: - Read-only access to process tables - May aggregate data across processes</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#utility-forms","title":"Utility Forms","text":"<p>Forms: - <code>zdel_data</code> - Delete Data - <code>zvencon</code> - Vendor Code Conversion - <code>zchange_item</code> - Change Item No. - <code>uimport_item</code> - Import Item</p> <p>Dependencies: - May modify data across all processes - Requires careful validation</p>"},{"location":"source/04-forms-and-screens/form-process-mapping/#form-dependency-matrix","title":"Form Dependency Matrix","text":"Form Requires Called By Calls <code>ioe1@</code> <code>iitem</code>, <code>icustom</code> <code>upostoe</code> <code>iqtybrk2</code> <code>upostoe</code> <code>ioe1@</code> <code>iordhd</code> - <code>iordhd</code> <code>upostoe</code>, <code>iitem</code>, <code>icustom</code> <code>isetcont@@_2018</code> <code>iorddt1</code>, <code>iorddt2</code> <code>isetcont@@_2018</code> <code>iordhd</code>, <code>ivendor</code> <code>isetso</code> <code>icontdt_2018</code> <code>isetso</code> <code>iconthd_2018</code> <code>idn</code> <code>isetsodt</code> <code>idn</code> <code>isetso</code> <code>iinvdt2@</code> <code>idnbrk</code>, <code>iload</code> <code>iinvdt2@</code> <code>idn</code>, <code>iload</code> - <code>iinvdtmftr</code> <code>iitem</code> - All process forms - <code>icustom</code> - All process forms - <code>ivendor</code> - Contract, SO forms -"},{"location":"source/04-forms-and-screens/form-process-mapping/#workflow-dependencies","title":"Workflow Dependencies","text":""},{"location":"source/04-forms-and-screens/form-process-mapping/#forward-dependencies-data-flow","title":"Forward Dependencies (Data Flow)","text":"<ol> <li>OE \u2192 OC: <code>upostoe</code> reads <code>moe</code>, <code>moehd</code>, creates <code>mordhd</code>, <code>morddt</code></li> <li>OC \u2192 Contract: <code>isetcont@@_2018</code> reads <code>mordhd</code>, <code>morddt</code>, creates <code>mconthd</code>, <code>mcontdt</code></li> <li>Contract \u2192 SO: <code>isetso</code> reads <code>mconthd</code>, <code>mcontdt</code>, creates <code>mso</code></li> <li>SO \u2192 DN: <code>idn</code> reads <code>mso</code>, creates <code>mdnhd</code>, <code>mdndt</code></li> <li>DN \u2192 Invoice: <code>iinvdt2@</code> reads <code>mdnhd</code>, <code>mdndt</code>, <code>mload</code>, creates <code>minvhd</code>, <code>minvdt</code></li> </ol>"},{"location":"source/04-forms-and-screens/form-process-mapping/#backward-dependencies-validation","title":"Backward Dependencies (Validation)","text":"<ul> <li>OC validates against OE quantities</li> <li>Contract validates against OC items</li> <li>SO validates against Contract quantities</li> <li>DN validates against SO quantities</li> <li>Invoice validates against DN quantities and cartons</li> </ul>"},{"location":"source/04-forms-and-screens/form-process-mapping/#summary","title":"Summary","text":"<p>Forms are organized in a linear workflow: 1. Master Data \u2192 Foundation for all processes 2. Order Enquiry \u2192 Customer order entry 3. Order Confirmation \u2192 Confirmed orders 4. Contract \u2192 Vendor commitments 5. Shipping Order \u2192 Shipping plans 6. Delivery Note \u2192 Actual shipments 7. Invoice \u2192 Final billing</p> <p>Each process depends on the previous process's data, creating a clear dependency chain. Enquiry, Report, and Utility forms provide cross-cutting functionality across all processes.</p>"},{"location":"source/04-forms-and-screens/invoice-forms/","title":"Invoice Forms","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#overview","title":"Overview","text":"<p>Invoice forms handle the creation and management of invoices from delivery notes. Invoices are the final documents in the order-to-invoice workflow and include container logic, quantity validation, and carton validation.</p>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-iinvdt2-input-invoice-detail-new-complex-form","title":"Form: iinvdt2@ (Input Invoice Detail New) - COMPLEX FORM","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>iinvdt2@</code></li> <li>File: <code>source/iinvdt2@.scx</code> / <code>source/iinvdt2@.SCT</code></li> <li>Type: Formset with multiple forms (Form1, Form2)</li> <li>Lines of Code: 2182+ lines in .SCT file</li> <li>Purpose: Invoice detail entry by container number</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-layout","title":"Form Layout","text":"<p>Structure: - Formset: <code>Formset2</code> with 2 forms   - Form1: Container selection and item grid   - Form2: Item detail entry form</p> <p>Form1 Key Controls: - <code>Txtbox1</code> - Invoice Number (display only) - <code>Txtbox2</code> - Customer Number (display only) - <code>Txtbox3</code> - Customer Name (display only) - <code>Txtbox4</code> - Invoice Date From (inv_dt_fr_date) - <code>Txtbox5</code> - Invoice Date To (inv_dt_to_date) - <code>Txtbox6</code> - Container Number (w_cntr_no) - <code>Combofield1</code> - Container selection dropdown - <code>Grid1</code> - Invoice items grid (winvdtgrid) - <code>Grid2</code> - Available items grid (vinvdt) - <code>Command1</code> - Select All button - <code>Command3</code> - Reset button - <code>Command4</code> - Item Mftr button (calls iinvdtmftr) - <code>OptionGroup1</code> - Filter option (1=Head items only, 2=All items)</p> <p>Form2 Key Controls: - <code>Txtbox1</code> - Invoice Number - <code>Txtbox4</code> - Carton (ctn) - <code>Txtbox5</code> - Quantity (qty) - <code>Txtbox6</code> - Price - <code>Txtbox7</code> - Amount (calculated) - <code>Edboxdesp3</code> - Description memo - <code>Command1</code> - Save button - <code>Command2</code> - Cancel button</p>"},{"location":"source/04-forms-and-screens/invoice-forms/#detailed-process-flow-with-validation","title":"Detailed Process Flow with Validation","text":"<pre><code>flowchart TD\n    Start([Open Invoice Detail Form]) --&gt; Load[\"Form Load Event&lt;br/&gt;Create winvdtgrid table&lt;br/&gt;FREE TABLE&lt;br/&gt;Index on ship_no and item_no&lt;br/&gt;Index on item_no&lt;br/&gt;Index on vendor_no\"]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables&lt;br/&gt;w_show_subitem = .F.&lt;br/&gt;Load minvbd&lt;br/&gt;Call update_winvqty&lt;br/&gt;Call getcntrno&lt;br/&gt;Call update_winvdt]\n\n    Init --&gt; LoadInvoiceData[Load Invoice Data&lt;br/&gt;SELECT minvbd&lt;br/&gt;WHERE cust_no&lt;br/&gt;Load invoice breakdown]\n    LoadInvoiceData --&gt; GetContainers[Call getcntrno Method&lt;br/&gt;Get Available Containers]\n\n    GetContainers --&gt; BuildContainerList[SELECT vinvqty, mdndt&lt;br/&gt;JOIN with mload&lt;br/&gt;Get container numbers&lt;br/&gt;Populate Combofield1]\n    BuildContainerList --&gt; Display[Display Form1&lt;br/&gt;Container Selection]\n\n    Display --&gt; UserSelectsContainer[User Selects Container&lt;br/&gt;Txtbox6 or Combofield1]\n    UserSelectsContainer --&gt; ValidateContainer[Txtbox6.Valid Event]\n\n    ValidateContainer --&gt; CheckContainerEmpty{Container&lt;br/&gt;Empty?}\n    CheckContainerEmpty --&gt;|Yes| Display\n    CheckContainerEmpty --&gt;|No| GetItems[Call getitemno Method&lt;br/&gt;Get Items for Container]\n\n    GetItems --&gt; SelectContainerItems[\"Select Container Items&lt;br/&gt;WHERE cntr_no matches&lt;br/&gt;AND ref_no matches&lt;br/&gt;INTO CURSOR cursor_loop\"]\n\n    SelectContainerItems --&gt; LoopItems[\"Loop Through cursor_loop&lt;br/&gt;For Each Item\"]\n\n    LoopItems --&gt; FindSOItem[\"Find SO Item&lt;br/&gt;SELECT mso&lt;br/&gt;SEEK by cust_no, conf_no, item_no\"]\n\n    FindSOItem --&gt; CheckItemExists{Item Already&lt;br/&gt;in winvdtgrid?}\n    CheckItemExists --&gt;|Yes| SkipItem[Skip Item&lt;br/&gt;Already Added]\n    CheckItemExists --&gt;|No| AddToGrid[APPEND BLANK to winvdtgrid&lt;br/&gt;REPLACE conf_no, item_no&lt;br/&gt;ctn, qty, wt, cube&lt;br/&gt;ship_mark, ship_no&lt;br/&gt;po_no, cntr_no, ref_no]\n\n    AddToGrid --&gt; GetVendor[Get Vendor from mconthd&lt;br/&gt;SEEK cont_no&lt;br/&gt;REPLACE vendor_no]\n    GetVendor --&gt; GetNetWeight[Get Net Weight from mitem&lt;br/&gt;SEEK item_no&lt;br/&gt;REPLACE net]\n    GetNetWeight --&gt; NextItem{More&lt;br/&gt;Items?}\n\n    NextItem --&gt;|Yes| LoopItems\n    NextItem --&gt;|No| DisplayGrid1[Display Grid1&lt;br/&gt;winvdtgrid&lt;br/&gt;Show Available Items]\n\n    SkipItem --&gt; NextItem\n\n    DisplayGrid1 --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Select Items| SelectItems[User Selects Items&lt;br/&gt;Check Select checkbox&lt;br/&gt;in Grid1]\n    UserAction --&gt;|Edit Item| EditItem[Click Item in Grid1&lt;br/&gt;or Right Click]\n    UserAction --&gt;|Add Item| AddItem[Click Add Button]\n    UserAction --&gt;|Delete All| DeleteAll[Click Delete All Button]\n    UserAction --&gt;|Save| SaveInvoice[Click &gt;&gt; &gt;&gt; Button&lt;br/&gt;Command4.Click]\n\n    SelectItems --&gt; ToggleSelect[Toggle Select Flag&lt;br/&gt;REPLACE winvdtgrid.select&lt;br/&gt;Refresh Grid]\n    ToggleSelect --&gt; DisplayGrid1\n\n    EditItem --&gt; OpenEditForm[DO FORM iinvdtmftr&lt;br/&gt;WITH Item Details&lt;br/&gt;Edit Mode]\n    OpenEditForm --&gt; ValidateQty[Validate Quantity&lt;br/&gt;Txtbox5.Valid Event]\n\n    ValidateQty --&gt; CheckQtyChanged{Qty&lt;br/&gt;Changed?}\n    CheckQtyChanged --&gt;|No| ValidateCarton\n    CheckQtyChanged --&gt;|Yes| CheckQtyMatch{\"Invoice Qty&lt;br/&gt;equals SO Qty?\"}\n\n    CheckQtyMatch --&gt;|No| ShowQtyWarning[MessageBox&lt;br/&gt;Qty. not Match With&lt;br/&gt;Shipping Order Qty.!&lt;br/&gt;Continue?]\n    CheckQtyMatch --&gt;|Yes| ValidateCarton\n\n    ShowQtyWarning --&gt; UserConfirmQty{User&lt;br/&gt;Confirms?}\n    UserConfirmQty --&gt;|No| ReturnFalse[Return .F.&lt;br/&gt;Prevent Save]\n    UserConfirmQty --&gt;|Yes| ValidateCarton[Validate Carton&lt;br/&gt;Txtbox4.Valid Event]\n\n    ValidateCarton --&gt; CheckCartonChanged{Carton&lt;br/&gt;Changed?}\n    CheckCartonChanged --&gt;|No| CalculateAmount\n    CheckCartonChanged --&gt;|Yes| CheckCartonMatch{\"Carton&lt;br/&gt;equals SO Carton?\"}\n\n    CheckCartonMatch --&gt;|No| ShowCartonWarning[MessageBox&lt;br/&gt;Carton no not Match With&lt;br/&gt;Shipping Order Carton no.!&lt;br/&gt;Continue?]\n    CheckCartonMatch --&gt;|Yes| CalculateAmount[\"Calculate Amount&lt;br/&gt;Txtbox7.value =&lt;br/&gt;round qty times price, 2\"]\n\n    ShowCartonWarning --&gt; UserConfirmCarton{User&lt;br/&gt;Confirms?}\n    UserConfirmCarton --&gt;|No| ReturnFalse\n    UserConfirmCarton --&gt;|Yes| CalculateAmount\n\n    CalculateAmount --&gt; SaveItem[\"Save Item Changes&lt;br/&gt;TABLEUPDATE True\"]\n    SaveItem --&gt; RefreshGrid[\"Refresh Grid1&lt;br/&gt;Refresh Grid2\"]\n\n    AddItem --&gt; OpenAddForm[\"DO FORM iinvdtmftr&lt;br/&gt;Add Mode\"]\n    OpenAddForm --&gt; AddComplete[\"Item Added&lt;br/&gt;Refresh Grid\"]\n    AddComplete --&gt; DisplayGrid1\n\n    DeleteAll --&gt; ConfirmDelete{\"Confirm&lt;br/&gt;Delete All&lt;br/&gt;Item?\"}\n    ConfirmDelete --&gt;|No| DisplayGrid1\n    ConfirmDelete --&gt;|Yes| DeleteAllItems[\"DELETE FROM winvdtgrid&lt;br/&gt;WHERE inv_no matches&lt;br/&gt;DELETE FROM vinvdt&lt;br/&gt;DELETE FROM vinvjoin&lt;br/&gt;DELETE FROM vinvqty\"]\n    DeleteAllItems --&gt; RefreshGrid\n\n    SaveInvoice --&gt; ValidateHasItems{Has Selected&lt;br/&gt;Items?}\n    ValidateHasItems --&gt;|No| ShowError1[Show Error&lt;br/&gt;No Items Selected]\n    ValidateHasItems --&gt;|Yes| ValidateDateRange[Validate Date Range&lt;br/&gt;Txtbox5.Valid Event]\n\n    ValidateDateRange --&gt; CheckBothEmpty{Both Dates&lt;br/&gt;Empty?}\n    CheckBothEmpty --&gt;|Yes| ValidEmpty[Valid: Both Empty]\n    CheckBothEmpty --&gt;|No| CheckBothFilled{Both Dates&lt;br/&gt;Filled?}\n\n    CheckBothFilled --&gt;|No| ShowDateError[MessageBox&lt;br/&gt;Invalid Date!&lt;br/&gt;Both must be empty&lt;br/&gt;or both filled]\n    ShowDateError --&gt; SaveInvoice\n    CheckBothFilled --&gt;|Yes| CheckDateRange{\"To Date&lt;br/&gt;greater than or equal&lt;br/&gt;From Date?\"}\n\n    CheckDateRange --&gt;|No| ShowDateRangeError[MessageBox&lt;br/&gt;Invalid Date!&lt;br/&gt;To Date &lt; From Date]\n    ShowDateRangeError --&gt; SaveInvoice\n    CheckDateRange --&gt;|Yes| ValidDates[Valid: Date Range OK]\n\n    ValidEmpty --&gt; ProcessItems\n    ValidDates --&gt; ProcessItems[Process Selected Items&lt;br/&gt;Command4.Click]\n\n    ProcessItems --&gt; LoopSelectedItems[\"Loop Through winvdtgrid&lt;br/&gt;WHERE select = True&lt;br/&gt;ORDER BY cntr_no, ref_no, item_no\"]\n\n    LoopSelectedItems --&gt; DeleteOldInvoiceItem[\"Delete Old Invoice Item&lt;br/&gt;SELECT minvdt&lt;br/&gt;SEEK by inv_no, item_no, po_no, ship_no&lt;br/&gt;DELETE&lt;br/&gt;DELETE sub-items\"]\n\n    DeleteOldInvoiceItem --&gt; CreateInvoiceItem[\"APPEND BLANK to minvdt&lt;br/&gt;REPLACE inv_no, item_no&lt;br/&gt;ctn, qty, price&lt;br/&gt;ship_no, wt, cube, net&lt;br/&gt;conf_no, ship_mark, disc&lt;br/&gt;po_no, cntr_no, ref_no&lt;br/&gt;head_item, head = True\"]\n\n    CreateInvoiceItem --&gt; GetItemData[\"Get Item Data&lt;br/&gt;SELECT mitem&lt;br/&gt;SEEK item_no&lt;br/&gt;REPLACE mftr_code\"]\n\n    GetItemData --&gt; GetSKNData[\"Get SKN Data&lt;br/&gt;SELECT moe&lt;br/&gt;SEEK by conf_no, item_no&lt;br/&gt;Get skn_no, no_desc\"]\n\n    GetSKNData --&gt; SetItemDescription[\"Set Item Description&lt;br/&gt;item_desp = Item No plus item_no&lt;br/&gt;plus no_desc plus skn_no\"]\n\n    SetItemDescription --&gt; GetOCData[\"Get OC Data&lt;br/&gt;SELECT morddt&lt;br/&gt;SEEK by conf_no, item_no&lt;br/&gt;Get price, desc_memo\"]\n\n    GetOCData --&gt; SetOCData[\"Set OC Data&lt;br/&gt;REPLACE price = morddt.price&lt;br/&gt;REPLACE desp_memo = morddt.desc_memo\"]\n\n    SetOCData --&gt; CheckBOM{\"Item Has&lt;br/&gt;BOM?\"}\n    CheckBOM --&gt;|Yes| ProcessBOM[\"Process BOM Sub-items&lt;br/&gt;SELECT morddt&lt;br/&gt;Loop through sub-items&lt;br/&gt;Calculate sub-item qty\"]\n    CheckBOM --&gt;|No| NextSelectedItem\n\n    ProcessBOM --&gt; CalculateSubQty[\"Calculate Sub-item Qty&lt;br/&gt;sub_qty = temp_qty divided by qty_rate&lt;br/&gt;sub_ctn = sub_qty divided by ctn_per_item\"]\n    CalculateSubQty --&gt; CreateSubItem[\"APPEND BLANK to minvdt&lt;br/&gt;REPLACE item_no = sub_item&lt;br/&gt;REPLACE qty = sub_qty&lt;br/&gt;REPLACE ctn = sub_ctn&lt;br/&gt;REPLACE head = False\"]\n    CreateSubItem --&gt; NextBOMSub{More&lt;br/&gt;Sub-items?}\n\n    NextBOMSub --&gt;|Yes| ProcessBOM\n    NextBOMSub --&gt;|No| NextSelectedItem\n\n    NextSelectedItem{More&lt;br/&gt;Selected Items?}\n    NextSelectedItem --&gt;|Yes| LoopSelectedItems\n    NextSelectedItem --&gt;|No| UpdateLineNumbers[\"Update Line Numbers&lt;br/&gt;SET FILTER TO inv_no&lt;br/&gt;Loop through minvdt&lt;br/&gt;REPLACE line_no = i&lt;br/&gt;i = i plus 1\"]\n\n    UpdateLineNumbers --&gt; UpdateAudit[\"Update Audit Fields&lt;br/&gt;REPLACE minvhd.user_id&lt;br/&gt;REPLACE minvhd.l_mod_date&lt;br/&gt;REPLACE minvhd.l_mod_time\"]\n\n    UpdateAudit --&gt; RefreshViews[\"Refresh Views&lt;br/&gt;Call update_winvdt&lt;br/&gt;REQUERY vinvdt\"]\n\n    RefreshViews --&gt; ClearSelection[\"Clear Selection&lt;br/&gt;REPLACE ALL winvdtgrid.select = False\"]\n    ClearSelection --&gt; RefreshGrids[Refresh Grids&lt;br/&gt;Grid1.refresh&lt;br/&gt;Grid2.refresh]\n\n    RefreshGrids --&gt; ShowSuccess[Show Success Message]\n    ShowSuccess --&gt; DisplayGrid1\n\n    ReturnFalse --&gt; DisplayGrid1\n    RefreshGrid --&gt; DisplayGrid1</code></pre>"},{"location":"source/04-forms-and-screens/invoice-forms/#validation-rules","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#quantity-validation-txtbox5valid","title":"Quantity Validation (Txtbox5.Valid)","text":"<p>Rules: 1. SO Quantity Match:    - Invoice quantity should match SO quantity    - Check: <code>vinvdtform2.qty == mso.qty</code>    - Warning: \"Qty. not Match With Shipping Order Qty.! Continue?\"    - User can override with confirmation</p> <ol> <li>Auto-calculation:</li> <li>Amount auto-calculated: <code>Txtbox7.value = round(qty * price, 2)</code></li> </ol> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF in_qty &lt;&gt; this.value\n    SELECT mso\n    LOCATE FOR alltrim(mso.conf_no) == alltrim(vinvdtform2.conf_no);\n        AND alltrim(mso.item_no) == alltrim(vinvdtform2.item_no)\n    IF found()\n        IF mso.qty &lt;&gt; this.value\n            IF messagebox(\"Qty. not Match With Shipping Order Qty.!\" +;\n                chr(10) + \"Continue?\", 64+4, \"System Message!\") = 6\n                * User confirmed, allow override\n            ELSE\n                return .f.\n            ENDIF\n        ENDIF\n    ENDIF\nENDIF\nthisform.txtbox7.value = round(this.value * thisform.txtbox6.value, 2)\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/invoice-forms/#carton-validation-txtbox4valid","title":"Carton Validation (Txtbox4.Valid)","text":"<p>Rules: 1. SO Carton Match:    - Invoice carton should match SO carton    - Check: <code>vinvdtform2.ctn == mso.ctn</code>    - Warning: \"Carton no not Match With Shipping Order Carton no.! Continue?\"    - User can override with confirmation</p> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF in_ctn &lt;&gt; this.value\n    SELECT mso\n    LOCATE FOR alltrim(mso.conf_no) == alltrim(vinvdtform2.conf_no);\n        AND alltrim(mso.item_no) == alltrim(vinvdtform2.item_no)\n    IF found()\n        IF mso.ctn &lt;&gt; this.value\n            IF messagebox(\"Carton no not Match With Shipping Order Carton no.!\" +;\n                chr(10) + \"Continue?\", 64+4, \"System Message!\") = 6\n                * User confirmed, allow override\n            ELSE\n                return .f.\n            ENDIF\n        ENDIF\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/invoice-forms/#date-range-validation-txtbox5valid-for-dates","title":"Date Range Validation (Txtbox5.Valid for Dates)","text":"<p>Rules: 1. Both Empty or Both Filled:    - If <code>inv_dt_fr_date</code> empty, <code>inv_dt_to_date</code> must be empty    - If <code>inv_dt_fr_date</code> filled, <code>inv_dt_to_date</code> must be filled    - Error: \"Invalid Date !\" if mismatch</p> <ol> <li>Date Range:</li> <li><code>inv_dt_to_date</code> must be &gt;= <code>inv_dt_fr_date</code></li> <li>Error: \"Invalid Date !\" if To Date &lt; From Date</li> </ol> <p>Validation Code: <pre><code>PROCEDURE Txtbox5.Valid\nIF empty(thisform.txtbox4.value) AND !empty(thisform.txtbox5.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox4.value) AND empty(thisform.txtbox5.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox4.value) OR !empty(thisform.txtbox5.value)\n    IF this.value &lt; thisform.txtbox4.value\n        Messagebox(\"Invalid Date !\", 16, \"System Message!\")\n        this.value = {//}\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/invoice-forms/#getcntrno-method","title":"getcntrno Method","text":"<p>Purpose: Get available container numbers for selection</p> <p>Process: 1. Select from <code>vinvqty</code> and <code>mdndt</code> 2. Join with <code>mload</code> to get container info 3. Populate <code>Combofield1</code> with container list</p> <p>Code: <pre><code>PROCEDURE getcntrno\nSELECT vinvqty.conf_no, mdndt.oc_no, mdndt.cntr_no, mdndt.item_no, mdndt.po_no;\n    FROM vinvqty INNER JOIN mdndt;\n    ON alltrim(vinvqty.conf_no) == alltrim(mdndt.oc_no);\n    INTO CURSOR cntr_cursor\n\nSELECT cntr_cursor.*, ref_no;\n    FROM cntr_cursor INNER JOIN mload;\n    ON alltrim(cntr_cursor.cntr_no) + alltrim(cntr_cursor.item_no);\n    == alltrim(mload.cntr_no) + alltrim(mload.item_no);\n    INTO CURSOR cntr_cursor;\n    ORDER BY mload.cntr_no, mload.item_no\n\nthisformset.form1.Combofield1.rowsource = \";\n    SELECT cntr_no, ref_no FROM cntr_cursor;\n    ORDER BY cntr_no, ref_no;\n    INTO CURSOR temp;\n    GROUP BY cntr_no, ref_no\"\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/invoice-forms/#getitemno-method","title":"getitemno Method","text":"<p>Purpose: Get items for selected container</p> <p>Process: 1. Select items from <code>cntr_cursor</code> matching container and ref_no 2. For each item, find SO item in <code>mso</code> 3. Add to <code>winvdtgrid</code> if not already exists 4. Get vendor from <code>mconthd</code> 5. Get net weight from <code>mitem</code></p>"},{"location":"source/04-forms-and-screens/invoice-forms/#update_winvdt-method","title":"update_winvdt Method","text":"<p>Purpose: Update invoice detail view</p> <p>Process: 1. Refresh <code>vinvdt</code> view 2. Update Grid2 recordsource</p>"},{"location":"source/04-forms-and-screens/invoice-forms/#update_winvqty-method","title":"update_winvqty Method","text":"<p>Purpose: Update invoice quantity view</p> <p>Process: 1. Refresh <code>vinvqty</code> view 2. Calculate invoice quantities</p>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-iinvhd-input-invoice-header-new","title":"Form: iinvhd@ (Input Invoice Header New)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>iinvhd@</code></li> <li>File: <code>source/iinvhd@.scx</code> / <code>source/iinvhd@.SCT</code></li> <li>Purpose: Invoice header entry and management</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Invoice Header Form]) --&gt; Load[Form Load Event]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables]\n    Init --&gt; Display[Display Form&lt;br/&gt;Invoice Header Entry]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Enter Invoice| EnterInvoice[User Enters Invoice No]\n    UserAction --&gt;|Enter Customer| EnterCustomer[User Enters Customer]\n    UserAction --&gt;|Enter Dates| EnterDates[User Enters Dates]\n    UserAction --&gt;|Open Detail| OpenDetail[Click Open Detail Button]\n\n    EnterInvoice --&gt; ValidateInvoice{Invoice&lt;br/&gt;Exists?}\n    ValidateInvoice --&gt;|Yes| LoadInvoice[Load Invoice Header&lt;br/&gt;Load Customer, Dates]\n    ValidateInvoice --&gt;|No| CreateNewInvoice[Create New Invoice&lt;br/&gt;Enable Fields]\n\n    EnterCustomer --&gt; ValidateCustomer{Customer&lt;br/&gt;Exists?}\n    ValidateCustomer --&gt;|No| ShowError[Show Error&lt;br/&gt;Customer Not Found]\n    ValidateCustomer --&gt;|Yes| LoadCustomer[Load Customer Info&lt;br/&gt;Display Name]\n\n    EnterDates --&gt; ValidateDates[\"Validate Date Range&lt;br/&gt;Both Empty or Both Filled&lt;br/&gt;To Date greater than or equal From Date\"]\n\n    OpenDetail --&gt; OpenDetailForm[DO FORM iinvdt2@&lt;br/&gt;WITH Parameters:&lt;br/&gt;inv_no, cust_no&lt;br/&gt;inv_dt_fr_date, inv_dt_to_date]\n    OpenDetailForm --&gt; DetailComplete[Detail Entry Complete&lt;br/&gt;Return to Header]\n    DetailComplete --&gt; RefreshForm[Refresh Form]\n\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-pinv-print-invoice-new","title":"Form: pinv@ (Print Invoice New)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>pinv@</code></li> <li>Purpose: Print invoice document (new format)</li> <li>Process: Generate report from <code>minvhd</code> and <code>minvdt</code></li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-ppacklist_new-print-packing-list-new","title":"Form: ppacklist_new (Print Packing List New)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>ppacklist_new</code></li> <li>Purpose: Print packing list (new format)</li> <li>Process: Generate packing list report</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-ppacklist_xls-print-packing-list-to-xls","title":"Form: ppacklist_xls (Print Packing List to XLS)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>ppacklist_xls</code></li> <li>Purpose: Export packing list to Excel</li> <li>Process: Generate Excel file from packing list data</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-ppacklist_xls_spencer-packing-list-spencer-format","title":"Form: ppacklist_xls_spencer (Packing List Spencer Format)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_5","title":"Form Details","text":"<ul> <li>Form Name: <code>ppacklist_xls_spencer</code></li> <li>Purpose: Export packing list in Spencer-specific format</li> <li>Process: Custom Excel format for Spencer customer</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-pinv_xls-print-invoice-to-xls","title":"Form: pinv_xls (Print Invoice to XLS)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_6","title":"Form Details","text":"<ul> <li>Form Name: <code>pinv_xls</code></li> <li>Purpose: Export invoice to Excel</li> <li>Process: Generate Excel file from invoice data</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-pshadvice-print-shipment-advice","title":"Form: pshadvice (Print Shipment Advice)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_7","title":"Form Details","text":"<ul> <li>Form Name: <code>pshadvice</code></li> <li>Purpose: Print shipment advice document</li> <li>Process: Generate shipment advice report</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-pdebitnote-print-debit-note","title":"Form: pdebitnote (Print Debit Note)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_8","title":"Form Details","text":"<ul> <li>Form Name: <code>pdebitnote</code></li> <li>Purpose: Print debit note document</li> <li>Process: Generate debit note report</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-einvoice-enquiry-by-invoice","title":"Form: einvoice (Enquiry By Invoice)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_9","title":"Form Details","text":"<ul> <li>Form Name: <code>einvoice</code></li> <li>Purpose: Search and view invoices</li> <li>Process: Query and display invoice information</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#form-ppacklist-print-packing-list-legacy","title":"Form: PPACKLIST (Print Packing List Legacy)","text":""},{"location":"source/04-forms-and-screens/invoice-forms/#form-details_10","title":"Form Details","text":"<ul> <li>Form Name: <code>PPACKLIST</code></li> <li>Purpose: Print packing list (legacy format)</li> <li>Process: Generate legacy packing list report</li> </ul>"},{"location":"source/04-forms-and-screens/invoice-forms/#summary","title":"Summary","text":"<p>Invoice forms provide: - iinvhd@ - Invoice header management - iinvdt2@ - Invoice detail entry by container (complex) - pinv@ - Invoice document printing - ppacklist_new - Packing list printing (new format) - ppacklist_xls - Packing list Excel export - ppacklist_xls_spencer - Packing list Spencer format - pinv_xls - Invoice Excel export - pshadvice - Shipment advice printing - pdebitnote - Debit note printing - einvoice - Invoice enquiry</p> <p>The forms include extensive container logic, quantity/carton validation, BOM processing, and integration with the complete order-to-invoice workflow.</p>"},{"location":"source/04-forms-and-screens/master-data-forms/","title":"Master Data Forms","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#overview","title":"Overview","text":"<p>Master data forms handle the creation and maintenance of foundational business data: items, customers, vendors, and supporting reference data. These forms provide the data foundation for all transaction processing.</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-iitem-input-item","title":"Form: iitem (Input Item)","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>iitem</code></li> <li>File: <code>source/iitem.scx</code> / <code>source/iitem.SCT</code></li> <li>Type: Formset with Pageframe (2 pages)</li> <li>Purpose: Create and maintain item master data</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-layout","title":"Form Layout","text":"<p>Structure: - Formset: <code>fmsmall2</code> (Smallform2) - Pageframe with 2 pages:   - Page1: \"Input Data\" - Item entry form   - Page2: \"Multi-Item Search\" - Search/browse grid</p> <p>Key Controls: - <code>Text1</code> - Item No. (ControlSource: mitem.item_no) - <code>Txtbox3</code> - Short Name (ControlSource: mitem.short_name) - <code>Txtbox2</code> - Date (ControlSource: mitem.date) - <code>edbox3</code> - Standard Code (readonly, validated) - <code>edbox4</code> - Origin (readonly, validated) - <code>edbox5</code> - Item Group (readonly) - <code>edbox6</code> - Material (readonly) - <code>edbox9</code> - TTR Group (readonly) - <code>Txtbox4</code> - Weight (ControlSource: mitem.wt) - <code>Txtbox5</code> - Net (ControlSource: mitem.net) - <code>Txtbox6</code> - Cube (ControlSource: mitem.cube) - <code>Txtbox7</code> - Duty (ControlSource: mitem.duty) - <code>Txtbox9</code> - Price (ControlSource: mitem.price) - <code>Image1</code> - Item photo display - <code>Command1</code> - Copy button (calls zcopyitem) - <code>Command2</code> - Item-Vendor button (calls iitemven)</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#detailed-process-flow-with-validation","title":"Detailed Process Flow with Validation","text":"<pre><code>flowchart TD\n    Start([Open Item Form]) --&gt; Load[Form Load Event&lt;br/&gt;SET TALK OFF&lt;br/&gt;SET CENTURY ON&lt;br/&gt;SET DELETE ON&lt;br/&gt;SET DATE MDY&lt;br/&gt;Public Variables]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Public w_mode, w_ttr_group1, w_ttr_group2&lt;br/&gt;w_mode = \"\"&lt;br/&gt;SELECT mitem&lt;br/&gt;SET ORDER TO item_no&lt;br/&gt;GO TOP]\n    Init --&gt; Display[Display Form&lt;br/&gt;Pageframe with 2 Pages&lt;br/&gt;Page1: Input Data&lt;br/&gt;Page2: Multi-Item Search]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Add| AddMode[Click Add Button&lt;br/&gt;cmdAdd.Click]\n    UserAction --&gt;|Edit| EditMode[Click Edit Button&lt;br/&gt;cmdEdit.Click]\n    UserAction --&gt;|Delete| DeleteMode[Click Delete Button&lt;br/&gt;cmdDelete.Click]\n    UserAction --&gt;|Search| SearchMode[Click Page 2&lt;br/&gt;Multi-Item Search]\n    UserAction --&gt;|Copy| CopyMode[Click Copy Button&lt;br/&gt;Command1.Click]\n    UserAction --&gt;|Item-Vendor| VendorMode[Click Item-Vendor Button&lt;br/&gt;Command2.Click]\n\n    AddMode --&gt; CheckMode{Check&lt;br/&gt;w_mode?}\n    CheckMode --&gt;|Empty| SetAddMode[\"w_mode = A&lt;br/&gt;Enable Fields&lt;br/&gt;edbox3, edbox4, edbox5, edbox6, edbox9&lt;br/&gt;Set ReadOnly = False\"]\n    CheckMode --&gt;|A or M| ValidateStdCode{\"Standard Code&lt;br/&gt;Empty?\"}\n\n    ValidateStdCode --&gt;|Yes| ShowStdCodeError[\"MessageBox&lt;br/&gt;Standard Code cannot be empty!&lt;br/&gt;Return\"]\n    ShowStdCodeError --&gt; AddMode\n    ValidateStdCode --&gt;|No| SaveAddMode[\"w_mode = empty&lt;br/&gt;Disable Fields&lt;br/&gt;Set ReadOnly = True\"]\n\n    SetAddMode --&gt; ValidateItemNo{Item No&lt;br/&gt;Entered?}\n    ValidateItemNo --&gt;|No| ShowError1[MessageBox&lt;br/&gt;Item No. Cannot Empty!&lt;br/&gt;SetFocus to Text1&lt;br/&gt;Return .F.]\n    ShowError1 --&gt; AddMode\n    ValidateItemNo --&gt;|Yes| CheckItemExists[\"SELECT FROM mitem&lt;br/&gt;WHERE item_no equals Text1.value&lt;br/&gt;INTO CURSOR item_cursor\"]\n\n    CheckItemExists --&gt; ItemExists{\"Item&lt;br/&gt;Exists?\"}\n    ItemExists --&gt;|Yes| ShowError2[\"MessageBox&lt;br/&gt;Item Already Exists!&lt;br/&gt;Clear Text1\"]\n    ShowError2 --&gt; AddMode\n    ItemExists --&gt;|No| EnableFields[\"Enable Fields for Entry&lt;br/&gt;Set DateCheck = 0&lt;br/&gt;Enable/Disable Commands\"]\n\n    EnableFields --&gt; EnterItemDetails[\"User Enters Item Details&lt;br/&gt;Short Name, Standard Code, etc.\"]\n    EnterItemDetails --&gt; ValidateItemNoField[\"Text1.Valid Event\"]\n\n    ValidateItemNoField --&gt; CheckDateCheck{\"DateCheck&lt;br/&gt;equals 1?\"}\n    CheckDateCheck --&gt;|Yes| SkipValidation[\"Skip Validation&lt;br/&gt;In Edit Mode\"]\n    CheckDateCheck --&gt;|No| ValidateLength{\"Length&lt;br/&gt;greater than 10?\"}\n\n    ValidateLength --&gt;|Yes| ShowError3[\"MessageBox&lt;br/&gt;Length of Item number greater than 10\"]\n    ShowError3 --&gt; EnterItemDetails\n    ValidateLength --&gt;|No| CheckDuplicate[\"SELECT FROM mitem&lt;br/&gt;WHERE item_no equals Text1.value&lt;br/&gt;INTO CURSOR item_cursor\"]\n\n    CheckDuplicate --&gt; DuplicateFound{Item&lt;br/&gt;Exists?}\n    DuplicateFound --&gt;|Yes| ShowError4[MessageBox&lt;br/&gt;Item number had been existed!]\n    ShowError4 --&gt; EnterItemDetails\n    DuplicateFound --&gt;|No| ValidateShortName[Txtbox3.Valid Event]\n\n    ValidateShortName --&gt; CheckShortName{Short Name&lt;br/&gt;Entered and&lt;br/&gt;edbox3 Empty?}\n    CheckShortName --&gt;|Yes| AutoFill[\"Set edbox3.value&lt;br/&gt;= Txtbox3.value&lt;br/&gt;Auto-fill Description\"]\n    CheckShortName --&gt;|No| ValidateOrigin[\"Validate Origin Code&lt;br/&gt;in zorigin table\"]\n\n    AutoFill --&gt; ValidateOrigin\n    ValidateOrigin --&gt; ValidateStdCodeField{\"Standard Code&lt;br/&gt;Valid?\"}\n    ValidateStdCodeField --&gt;|No| ShowStdCodeError2[\"Show Error\"]\n    ShowStdCodeError2 --&gt; EnterItemDetails\n    ValidateStdCodeField --&gt;|Yes| SaveItem[\"APPEND BLANK to mitem&lt;br/&gt;REPLACE all fields&lt;br/&gt;REPLACE cre_date = DATE&lt;br/&gt;REPLACE cre_user = sysUserId\"]\n\n    SaveItem --&gt; SaveAddMode\n    SaveAddMode --&gt; DisableFields[\"Disable Fields&lt;br/&gt;Set ReadOnly = True\"]\n    DisableFields --&gt; RefreshForm[Refresh Form&lt;br/&gt;Update Display]\n\n    EditMode --&gt; CheckEditMode{Check&lt;br/&gt;w_mode?}\n    CheckEditMode --&gt;|Empty| SetEditMode[\"w_mode = M&lt;br/&gt;Enable Fields&lt;br/&gt;edbox3, edbox4, edbox5, edbox6, edbox9&lt;br/&gt;Set ReadOnly = False&lt;br/&gt;DateCheck = 1\"]\n    CheckEditMode --&gt;|A or M| SaveEditMode[\"w_mode = empty&lt;br/&gt;Disable Fields&lt;br/&gt;Set ReadOnly = True\"]\n\n    SetEditMode --&gt; LoadRecord[\"Load Current Record&lt;br/&gt;Display in Form\"]\n    LoadRecord --&gt; ModifyDetails[\"User Modifies Details\"]\n    ModifyDetails --&gt; ValidateChanges{\"Changes&lt;br/&gt;Valid?\"}\n    ValidateChanges --&gt;|No| ShowError5[\"Show Validation Error\"]\n    ShowError5 --&gt; ModifyDetails\n    ValidateChanges --&gt;|Yes| UpdateRecord[\"REPLACE fields&lt;br/&gt;REPLACE mod_date = DATE&lt;br/&gt;REPLACE mod_user = sysUserId\"]\n    UpdateRecord --&gt; SaveEditMode\n    SaveEditMode --&gt; DisableEdit[\"Disable Fields&lt;br/&gt;Text1.enabled = False\"]\n    DisableEdit --&gt; RefreshForm\n\n    DeleteMode --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete?}\n    ConfirmDelete --&gt;|No| Display\n    ConfirmDelete --&gt;|Yes| DeleteRecord[DELETE Record&lt;br/&gt;PACK&lt;br/&gt;SET NEAR ON&lt;br/&gt;SEEK temp_item_no]\n    DeleteRecord --&gt; RefreshForm\n\n    SearchMode --&gt; BuildQuery[\"Build SELECT Query&lt;br/&gt;SELECT item_no, short_name, std_code&lt;br/&gt;FROM mitem&lt;br/&gt;LEFT OUTER JOIN zstdcode&lt;br/&gt;ON std_code matches&lt;br/&gt;INTO CURSOR Gridsource_cursor&lt;br/&gt;ORDER BY columns\"]\n    BuildQuery --&gt; DisplayGrid[\"Display in Grid&lt;br/&gt;Gridsource_cursor\"]\n    DisplayGrid --&gt; SelectItem[\"User Selects Item&lt;br/&gt;from Grid\"]\n    SelectItem --&gt; LoadSelected[\"LOCATE in mitem&lt;br/&gt;WHERE item_no equals Gridsource_cursor.item_no\"]\n    LoadSelected --&gt; DisplayPage1[Display in Page 1&lt;br/&gt;Refresh Form]\n\n    CopyMode --&gt; OpenCopyForm[DO FORM zcopyitem&lt;br/&gt;WITH Text1.value]\n    OpenCopyForm --&gt; CheckNewItem{New Item&lt;br/&gt;Created?}\n    CheckNewItem --&gt;|Yes| LoadNewItem[\"SELECT mitem&lt;br/&gt;LOCATE FOR item_no equals w_new_item\"]\n    CheckNewItem --&gt;|No| RefreshForm\n    LoadNewItem --&gt; RefreshForm\n\n    VendorMode --&gt; OpenVendorForm[DO FORM iitemven&lt;br/&gt;WITH mitem.item_no, mitem.short_name]\n    OpenVendorForm --&gt; RefreshForm\n\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#validation-rules","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#item-number-validation-text1valid","title":"Item Number Validation (Text1.Valid)","text":"<p>Rules: 1. Length Validation:    - Maximum length: 10 characters    - Error: \"Length of Item number &gt; 10\"</p> <ol> <li>Uniqueness Validation:</li> <li>Must not already exist in <code>mitem</code> table</li> <li>Check: <code>SELECT * FROM mitem WHERE item_no == Text1.value</code></li> <li> <p>Error: \"Item number had been existed!\"</p> </li> <li> <p>Edit Mode Exception:</p> </li> <li>If <code>DateCheck = 1</code> (edit mode), skip validation</li> <li>Allows editing existing items</li> </ol> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF Datecheck &lt;&gt; 1\n    IF !empty(this.value)\n        IF len(alltrim(this.value)) &gt; 10\n            messagebox(\"Length of Item number &gt; 10\", 16, \"Error Message!\")\n            return .f.\n        ENDIF\n        SELECT * FROM mitem WHERE item_no == alltrim(this.parent.text1.value) INTO CURSOR item_cursor\n        IF !eof()\n            messagebox(\"Item number had been existed!\", 16, \"Error Message!\")\n            return .f.\n        ENDIF\n    ENDIF\nENDIF\nRETURN .T.\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#short-name-validation-txtbox3valid","title":"Short Name Validation (Txtbox3.Valid)","text":"<p>Rules: - If short name entered and description (edbox3) empty, auto-fill description - Logic: <code>IF !empty(this.value) AND empty(this.parent.edbox3.value) THEN edbox3.value = this.value</code></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#standard-code-validation","title":"Standard Code Validation","text":"<p>Rules: - Standard Code cannot be empty when saving - Validated against <code>zstdcode</code> table - Error: \"Standard Code cannot be empty!\"</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#origin-code-validation","title":"Origin Code Validation","text":"<p>Rules: - Must exist in <code>zorigin</code> table - Validated when origin code entered</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#add-mode-validation-cmdaddclick","title":"Add Mode Validation (cmdAdd.Click)","text":"<p>Rules: 1. Item Number Required:    - Cannot be empty when adding    - Error: \"Item No. Cannot Empty!\"</p> <ol> <li>Standard Code Required:</li> <li>Cannot be empty when saving</li> <li> <p>Error: \"Standard Code cannot be empty!\"</p> </li> <li> <p>Item Existence Check:</p> </li> <li>Check if item already exists</li> <li>Only when <code>Text1.enabled = .T.</code> and not in edit mode</li> </ol> <p>Validation Code: <pre><code>PROCEDURE cmdAdd.Click\nDO CASE\n    CASE empty(w_mode)\n        w_mode = \"A\"\n        thisform.pageframe1.page1.edbox3.readonly = .f.\n        thisform.pageframe1.page1.edbox4.readonly = .f.\n        thisform.pageframe1.page1.edbox5.readonly = .f.\n        thisform.pageframe1.page1.edbox6.readonly = .f.\n        thisform.pageframe1.page1.edbox9.readonly = .f.\n    CASE w_mode = \"A\" OR w_mode = \"M\"\n        IF empty(mitem.std_code)\n            messagebox(\"Standard Code cannot be empty!\", 0+16, \"System Message\")\n            return\n        ENDIF\n        w_mode = \"\"\n        thisform.pageframe1.page1.edbox3.readonly = .t.\n        thisform.pageframe1.page1.edbox4.readonly = .t.\n        thisform.pageframe1.page1.edbox5.readonly = .t.\n        thisform.pageframe1.page1.edbox6.readonly = .t.\n        thisform.pageframe1.page1.edbox9.readonly = .t.\nENDCASE\n\nIF EMPTY(thisform.pageframe1.page1.text1.VALUE) AND thisform.pageframe1.page1.text1.enabled = .t.\n    MESSAGEBOX(\"Item No. Cannot Empty!\", 16, \"Error\")\n    ThisForm.PageFrame1.Page1.Text1.SetFocus\n    Return .F.\nELSE\n    SELECT * FROM mitem WHERE alltrim(item_no) == alltrim(thisform.pageframe1.page1.text1.value) AND !empty(item_no) INTO CURSOR item_cursor\n    IF eof() OR DateCheck &lt;&gt; 0 OR thisform.pageframe1.page1.text1.enabled = .f.\n        SELECT mitem\n        Datecheck = 0\n        * Enable/disable commands based on state\n    ENDIF\nENDIF\nDodefault()\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-events","title":"Form Events","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#load-event","title":"Load Event","text":"<pre><code>PROCEDURE Load\nSET TALK OFF\nSET HOUR TO 24\nSET SAFETY OFF\nSET CENTURY ON\nSET DELETE ON\nSET DATE MDY\n\nPUBLIC w_ttr_group1, w_ttr_group2, w_mode\nw_mode = \"\"\nw_ttr_group1 = \"\"\nw_ttr_group2 = \"\"\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#init-event","title":"Init Event","text":"<pre><code>PROCEDURE Init\nPUBLIC DateCheck, grid_click_value, w_new_item\nDateCheck = 0\ngrid_click_value = \"\"\nw_new_item = \"\"\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#page1refresh-event","title":"Page1.Refresh Event","text":"<pre><code>PROCEDURE Page1.Refresh\nLOCAL FileName\nFileName = curdir() + \"photo\\\" + alltrim(mitem.item_no) + \".jpg\"\nthisform.pageframe1.page1.image1.Picture = filename\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#page2click-event-search-grid","title":"Page2.Click Event (Search Grid)","text":"<pre><code>PROCEDURE Page2.Click\nthis.grid1.recordsource = ';\n    SELECT Mitem.item_no, Mitem.short_name, mitem.std_code,;\n           nvl(Zstdcode.std_desp,\"\");\n    FROM baitin!mitem LEFT OUTER JOIN baitin!zstdcode;\n         ON Mitem.std_code = Zstdcode.std_code;\n    INTO CURSOR Gridsource_cursor;\n    ORDER BY 1'\n\nSELECT Gridsource_cursor\nLOCATE FOR alltrim(Gridsource_cursor.item_no) == alltrim(mitem.item_no)\nthisform.refresh\nthis.grid1.setfocus\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#related-forms","title":"Related Forms","text":"<ul> <li>zcopyitem - Copy item form (called from Command1)</li> <li>iitemven - Item-Vendor relationship form (called from Command2)</li> <li>zphotoview - Photo viewer (called from Image1.Click)</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#related-tables","title":"Related Tables","text":"<ul> <li>mitem - Item master table</li> <li>zstdcode - Standard code lookup</li> <li>zorigin - Origin code lookup</li> <li>zttrgp - TTR group lookup</li> <li>zcountry - Country lookup</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-icustom-input-customer","title":"Form: icustom (Input Customer)","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>icustom</code></li> <li>File: <code>source/icustom.scx</code> / <code>source/icustom.SCT</code></li> <li>Type: Formset with Pageframe (3 pages)</li> <li>Purpose: Create and maintain customer master data</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-layout_1","title":"Form Layout","text":"<p>Structure: - Formset: <code>fmsmall2</code> (Smallform2) - Pageframe with 3 pages:   - Page1: \"Input Data\" - Customer entry form   - Page2: \"Browse\" - Customer search   - Page3: \"Multi-Item Search\" - Multi-customer search grid</p> <p>Key Controls: - <code>Text1</code> - Customer No. (ControlSource: mcustom.cust_no) - <code>Txtbox3</code> - English Name (ControlSource: mcustom.ename) - <code>Txtbox4</code> - Chinese Name (ControlSource: mcustom.cname) - <code>Txtbox5</code> - Short Name (ControlSource: mcustom.sname) - <code>Txtbox6-8</code> - Address lines (ControlSource: mcustom.addr1-3) - <code>Txtbox17</code> - Country Code - <code>Txtbox18</code> - Country Name (display only) - <code>Combo1</code> - Country selection - <code>Combo2</code> - Currency code - <code>Combo3</code> - Payment terms - <code>Combo4</code> - FOB terms - <code>Check1-3</code> - Testing/Inspection/Sample checkboxes - <code>Command1</code> - Copy button (calls zcopycust) - <code>Command2</code> - Cost Breakdown button (calls icustcostbrk) - <code>Command3</code> - Invoice Breakdown button (calls iinvbd)</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#detailed-process-flow-with-validation_1","title":"Detailed Process Flow with Validation","text":"<pre><code>flowchart TD\n    Start([Open Customer Form]) --&gt; Load[Form Load Event&lt;br/&gt;DO set_form_default]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Public i = 0&lt;br/&gt;Initialize Comboboxes&lt;br/&gt;Country, Currency, Payment, FOB]\n    Init --&gt; Display[Display Form&lt;br/&gt;Pageframe with 3 Pages]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Add| AddMode[Click Add Button&lt;br/&gt;cmdAdd.Click]\n    UserAction --&gt;|Edit| EditMode[Click Edit Button&lt;br/&gt;cmdEdit.Click]\n    UserAction --&gt;|Delete| DeleteMode[Click Delete Button&lt;br/&gt;cmdDelete.Click]\n    UserAction --&gt;|Search| SearchMode[Click Page 3&lt;br/&gt;Multi-Customer Search]\n    UserAction --&gt;|Copy| CopyMode[Click Copy Button]\n    UserAction --&gt;|Cost Breakdown| CostMode[Click Cost Breakdown Button]\n    UserAction --&gt;|Invoice Breakdown| InvMode[Click Invoice Breakdown Button]\n\n    AddMode --&gt; CheckMode{Check&lt;br/&gt;i != 1?}\n    CheckMode --&gt;|Yes| ValidateCustNo{Customer No&lt;br/&gt;Entered?}\n    CheckMode --&gt;|No| SaveMode[Save Mode&lt;br/&gt;Set Audit Fields]\n\n    ValidateCustNo --&gt;|No| ShowError1[MessageBox&lt;br/&gt;Custom No Cannot Empty!]\n    ShowError1 --&gt; AddMode\n    ValidateCustNo --&gt;|Yes| CheckEnabled{Text1&lt;br/&gt;Enabled?}\n\n    CheckEnabled --&gt;|Yes| CheckDuplicate[SELECT * FROM mcustom&lt;br/&gt;INTO CURSOR mcustom_cursor&lt;br/&gt;Loop through records]\n    CheckEnabled --&gt;|No| SaveMode\n\n    CheckDuplicate --&gt; DuplicateFound{Customer&lt;br/&gt;Exists?}\n    DuplicateFound --&gt;|Yes| ShowError2[MessageBox&lt;br/&gt;Custom number had been existed!&lt;br/&gt;Clear Text1]\n    ShowError2 --&gt; AddMode\n    DuplicateFound --&gt;|No| SetAuditFields[Set Audit Fields&lt;br/&gt;Text2.value = userid&lt;br/&gt;Text3.value = Date&lt;br/&gt;Text4.value = Time]\n\n    SetAuditFields --&gt; SaveMode[Save Mode&lt;br/&gt;APPEND BLANK&lt;br/&gt;DO DEFAULT]\n    SaveMode --&gt; RefreshForm[Refresh Form]\n\n    EditMode --&gt; SetEditFlag[i = 1&lt;br/&gt;SELECT mcustom&lt;br/&gt;DO DEFAULT]\n    SetEditFlag --&gt; DisableFields[\"Disable Fields&lt;br/&gt;Text1.enabled = False&lt;br/&gt;Txtbox2.enabled = False\"]\n    DisableFields --&gt; ModifyDetails[User Modifies Details]\n    ModifyDetails --&gt; ValidateEname[Txtbox3.Valid Event]\n\n    ValidateEname --&gt; UpdateAudit[REPLACE ename_bk WITH ename&lt;br/&gt;REPLACE mod_date WITH DATE&lt;br/&gt;REPLACE mod_time WITH TIME]\n    UpdateAudit --&gt; RefreshForm\n\n    DeleteMode --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete?}\n    ConfirmDelete --&gt;|No| Display\n    ConfirmDelete --&gt;|Yes| DeleteRecord[DELETE Record&lt;br/&gt;DO DEFAULT]\n    DeleteRecord --&gt; RefreshForm\n\n    SearchMode --&gt; BuildQuery[Build SELECT Query&lt;br/&gt;Display in Grid]\n    BuildQuery --&gt; SelectCustomer[User Selects Customer]\n    SelectCustomer --&gt; LoadCustomer[LOCATE in mcustom&lt;br/&gt;Display in Page 1]\n    LoadCustomer --&gt; Display\n\n    CopyMode --&gt; OpenCopyForm[DO FORM zcopycust&lt;br/&gt;WITH Text1.value]\n    OpenCopyForm --&gt; CheckNewCust{New Customer&lt;br/&gt;Created?}\n    CheckNewCust --&gt;|Yes| LoadNewCust[\"LOCATE FOR cust_no equals w_new_cust_no\"]\n    CheckNewCust --&gt;|No| RefreshForm\n    LoadNewCust --&gt; RefreshForm\n\n    CostMode --&gt; OpenCostForm[DO FORM icustcostbrk&lt;br/&gt;WITH cust_no, ename]\n    OpenCostForm --&gt; RefreshForm\n\n    InvMode --&gt; OpenInvForm[DO FORM iinvbd&lt;br/&gt;WITH cust_no, ename]\n    OpenInvForm --&gt; RefreshForm\n\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#validation-rules_1","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#customer-number-validation-text1lostfocus","title":"Customer Number Validation (Text1.LostFocus)","text":"<p>Rules: 1. Required Field:    - Cannot be empty    - Error: \"Custom No Cannot Empty!\"</p> <ol> <li>Uniqueness Check:</li> <li>Must not already exist in <code>mcustom</code> table</li> <li>Check: Loop through <code>mcustom_cursor</code> comparing <code>cust_no</code></li> <li> <p>Error: \"Custom number had been existed!\"</p> </li> <li> <p>Edit Mode Exception:</p> </li> <li>If <code>i = 1</code> (edit mode), skip validation</li> <li>If <code>Text1.enabled = .F.</code>, skip validation</li> </ol> <p>Validation Code: <pre><code>PROCEDURE LostFocus\nPRIVATE x\nx = 0\nSELECT * FROM mcustom INTO CURSOR mcustom_cursor\n\nIF i != 1\n    IF thisform.pageframe1.page1.text1.enabled = .t.\n        IF empty(thisform.pageframe1.page1.text1.value) != .T.\n            DO WHILE !eof() AND x = 0\n                IF Thisform.pageframe1.page1.text1.value == mcustom_cursor.cust_no\n                    messagebox(\"Custom number had been existed!\", 16, \"Error Message!\")\n                    x = 1\n                ELSE\n                    SKIP\n                ENDIF\n            ENDDO\n\n            IF Thisform.pageframe1.page1.text1.value != mcustom_cursor.cust_no\n                SELECT mcustom\n                dodefault()\n            ELSE\n                Thisform.pageframe1.page1.text1.value = \"\"\n            ENDIF\n        ELSE\n            messagebox(\"Custom No Cannot Empty!\", 16, \"Input Error!!\")\n        ENDIF\n    ELSE\n        SELECT mcustom\n        dodefault()\n    ENDIF\nELSE\n    SELECT mcustom\n    dodefault()\nENDIF\nx = 0\ni = 0\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#english-name-validation-txtbox3valid","title":"English Name Validation (Txtbox3.Valid)","text":"<p>Rules: - Auto-update audit fields when name changes - Update: <code>ename_bk</code>, <code>mod_date</code>, <code>mod_time</code></p> <p>Validation Code: <pre><code>PROCEDURE Valid\nREPLACE mcustom.ename_bk WITH mcustom.ename\nREPLACE mcustom.mod_date WITH DATE()\nREPLACE mcustom.mod_time WITH TIME()\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#country-code-lookup-page1refresh","title":"Country Code Lookup (Page1.Refresh)","text":"<p>Rules: - When country code (txtbox17) entered, lookup country name - Display in txtbox18 (read-only) - Query: <code>SELECT zcoun_cursor WHERE coun_co == txtbox17.value</code></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-events_1","title":"Form Events","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#page1init-event","title":"Page1.Init Event","text":"<pre><code>PROCEDURE Page1.Init\nthis.combo1.rowsource = \";\n    SELECT * FROM zcountry ORDER BY coun_name;\n    INTO CURSOR zcoun_cursor\"\n\nthis.combo2.rowsource = \";\n    SELECT cur_code FROM zcurcode INTO CURSOR cur_cursor\"\n\nthis.combo4.rowsource = \";\n    SELECT fob_code, fob_terms FROM zfobterm INTO CURSOR fob_cursor\"\n\nthis.combo3.rowsource = \";\n    SELECT pay_code, pay_term FROM zpayterm INTO CURSOR pay_cursor\"\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#page1refresh-event_1","title":"Page1.Refresh Event","text":"<pre><code>PROCEDURE Page1.Refresh\ndodefault()\nthisform.pageframe1.page1.txtbox18.value = \"\"\nIF !empty(thisform.pageframe1.page1.txtbox17.value)\n    SELECT zcoun_cursor\n    LOCATE FOR alltrim(zcoun_cursor.coun_co) == alltrim(thisform.pageframe1.page1.txtbox17.value)\n    thisform.pageframe1.page1.txtbox18.value = zcoun_cursor.coun_name\nENDIF\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#related-forms_1","title":"Related Forms","text":"<ul> <li>zcopycust - Copy customer form</li> <li>icustcostbrk - Customer cost breakdown form</li> <li>iinvbd - Invoice breakdown form</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#related-tables_1","title":"Related Tables","text":"<ul> <li>mcustom - Customer master table</li> <li>zcountry - Country lookup</li> <li>zcurcode - Currency code lookup</li> <li>zpayterm - Payment terms lookup</li> <li>zfobterm - FOB terms lookup</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-ivendor-input-vendor","title":"Form: ivendor (Input Vendor)","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>ivendor</code></li> <li>File: <code>source/ivendor.scx</code> / <code>source/ivendor.SCT</code></li> <li>Type: Formset with Pageframe (3 pages)</li> <li>Purpose: Create and maintain vendor/maker master data</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#form-layout_2","title":"Form Layout","text":"<p>Structure: - Formset: <code>fmsmall2</code> (Smallform2) - Pageframe with 3 pages:   - Page1: \"Input Data\" - Vendor entry form   - Page2: \"Browse\" - Vendor search   - Page3: \"Address 2\" - Additional address</p> <p>Key Controls: - <code>Text1</code> - Vendor No. (ControlSource: mvendor.vendor_no) - <code>Txtbox2</code> - Date (ControlSource: mvendor.date) - <code>Txtbox3</code> - English Name (ControlSource: mvendor.ename) - <code>Txtbox6-9</code> - Address lines (ControlSource: mvendor.addr1-4) - <code>Txtbox10-11</code> - Contact name, telephone - <code>Txtbox12-13</code> - Fax numbers - Type field (1=Vendor, 2=Maker)</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Vendor Form]) --&gt; Load[Form Load Event&lt;br/&gt;DO set_form_default]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Public i = 0]\n    Init --&gt; Display[Display Form&lt;br/&gt;Pageframe with 3 Pages]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Add| AddMode[Click Add Button]\n    UserAction --&gt;|Edit| EditMode[Click Edit Button]\n    UserAction --&gt;|Delete| DeleteMode[Click Delete Button]\n\n    AddMode --&gt; ValidateVendorNo{Vendor No&lt;br/&gt;Entered?}\n    ValidateVendorNo --&gt;|No| ShowError1[MessageBox&lt;br/&gt;Vendor No Cannot Empty!]\n    ShowError1 --&gt; AddMode\n    ValidateVendorNo --&gt;|Yes| CheckDuplicate[SELECT * FROM mvendor&lt;br/&gt;INTO CURSOR mvendor_cursor&lt;br/&gt;Check for duplicates]\n\n    CheckDuplicate --&gt; DuplicateFound{Vendor&lt;br/&gt;Exists?}\n    DuplicateFound --&gt;|Yes| ShowError2[MessageBox&lt;br/&gt;Custom number had been existed!]\n    ShowError2 --&gt; AddMode\n    DuplicateFound --&gt;|No| SaveVendor[APPEND BLANK&lt;br/&gt;DO DEFAULT]\n\n    SaveVendor --&gt; RefreshForm[Refresh Form]\n\n    EditMode --&gt; SetEditFlag[i = 1&lt;br/&gt;Disable Text1&lt;br/&gt;Disable Txtbox2]\n    SetEditFlag --&gt; ModifyDetails[User Modifies Details]\n    ModifyDetails --&gt; SaveChanges[REPLACE fields&lt;br/&gt;DO DEFAULT]\n    SaveChanges --&gt; RefreshForm\n\n    DeleteMode --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete?}\n    ConfirmDelete --&gt;|Yes| DeleteRecord[DELETE Record&lt;br/&gt;DO DEFAULT]\n    DeleteRecord --&gt; RefreshForm\n\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/master-data-forms/#validation-rules_2","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#vendor-number-validation-text1lostfocus","title":"Vendor Number Validation (Text1.LostFocus)","text":"<p>Rules: 1. Required Field:    - Cannot be empty    - Error: \"Vendor No Cannot Empty!\"</p> <ol> <li>Uniqueness Check:</li> <li>Must not already exist in <code>mvendor</code> table</li> <li>Error: \"Custom number had been existed!\" (note: uses \"Custom\" in error message)</li> </ol> <p>Validation Code: <pre><code>PROCEDURE LostFocus\nSELECT * FROM mvendor INTO CURSOR mvendor_cursor\n\nIF i != 1\n    IF thisform.pageframe1.page1.text1.enabled = .t.\n        IF empty(thisform.pageframe1.page1.text1.value) != .T.\n            DO WHILE !eof() AND x = 0\n                IF Thisform.pageframe1.page1.text1.value == mvendor_cursor.vendor_no\n                    messagebox(\"Custom number had been existed!\", 16, \"Error Message!\")\n                ENDIF\n                SKIP\n            ENDDO\n        ENDIF\n    ENDIF\nENDIF\n\nIF i != 1\n    IF thisform.pageframe1.page1.text1.enabled = .t.\n        IF empty(thisform.pageframe1.page1.text1.value) = .T.\n            messagebox(\"Vendor No Cannot Empty!\", 16, \"Input Error!!\")\n        ENDIF\n    ELSE\n        dodefault()\n    ENDIF\nELSE\n    dodefault()\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/master-data-forms/#related-tables_2","title":"Related Tables","text":"<ul> <li>mvendor - Vendor master table</li> <li>mitemven - Item-Vendor relationship table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#other-master-data-forms","title":"Other Master Data Forms","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#supporting-forms","title":"Supporting Forms","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#izstdcode-standard-code","title":"izstdcode (Standard Code)","text":"<ul> <li>Purpose: Maintain standard code master data</li> <li>Table: <code>zstdcode</code></li> <li>Usage: Referenced by items for categorization</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#izorigin-country-of-origin","title":"izorigin (Country of Origin)","text":"<ul> <li>Purpose: Maintain origin code master data</li> <li>Table: <code>zorigin</code></li> <li>Usage: Referenced by items for origin tracking</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#iprodbom-product-bom","title":"iprodbom (Product BOM)","text":"<ul> <li>Purpose: Define Bill of Materials for items</li> <li>Table: <code>mprodbom</code></li> <li>Process: Link parent items to sub-items with quantities</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ipurunit-purchase-unit","title":"ipurunit (Purchase Unit)","text":"<ul> <li>Purpose: Define purchase units</li> <li>Table: Purchase unit reference table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#iskn-skn-no","title":"iskn (SKN No.)","text":"<ul> <li>Purpose: Maintain SKN numbers for customers</li> <li>Table: <code>mskn</code></li> <li>Usage: Customer-specific item numbering</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ishipmark-ship-mark","title":"ishipmark (Ship Mark)","text":"<ul> <li>Purpose: Maintain shipping marks</li> <li>Table: Ship mark reference table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ipayterm-payment-terms","title":"ipayterm (Payment Terms)","text":"<ul> <li>Purpose: Maintain payment terms</li> <li>Table: <code>zpayterm</code></li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ifobport-fob-port","title":"ifobport (FOB Port)","text":"<ul> <li>Purpose: Maintain FOB port codes</li> <li>Table: FOB port reference table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ifobterm-fob-terms","title":"ifobterm (FOB Terms)","text":"<ul> <li>Purpose: Maintain FOB terms</li> <li>Table: <code>zfobterm</code></li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ittrgp-ttr-group","title":"ittrgp (TTR Group)","text":"<ul> <li>Purpose: Maintain TTR group codes</li> <li>Table: <code>zttrgp</code></li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#itest-testinginspectionsample-approval","title":"itest (Testing/Inspection/Sample Approval)","text":"<ul> <li>Purpose: Maintain testing/inspection requirements</li> <li>Table: Testing reference table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ishippara-customer-shipment-parameter","title":"ishippara (Customer Shipment Parameter)","text":"<ul> <li>Purpose: Maintain customer-specific shipment parameters</li> <li>Table: Customer shipment parameter table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#icustinv-customer-invoice-parameter","title":"icustinv (Customer Invoice Parameter)","text":"<ul> <li>Purpose: Maintain customer invoice parameters</li> <li>Table: Customer invoice parameter table</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#imftr-input-manufacturer","title":"imftr (Input Manufacturer)","text":"<ul> <li>Purpose: Maintain manufacturer master data</li> <li>Table: <code>zmftr</code></li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#iuser-input-user-account","title":"iuser (Input User Account)","text":"<ul> <li>Purpose: Maintain user accounts</li> <li>Table: <code>user</code></li> <li>Related: <code>rights</code> table for user permissions</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#ipara2-input-company-info","title":"ipara2 (Input Company Info)","text":"<ul> <li>Purpose: Maintain company information</li> <li>Table: <code>zpara</code></li> <li>Usage: Company code, name, and settings</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#isuspended_item-input-suspended-item","title":"isuspended_item (Input Suspended Item)","text":"<ul> <li>Purpose: Mark items as suspended</li> <li>Table: <code>mitem</code> (suspend_flag field)</li> <li>Usage: Prevent use of suspended items in transactions</li> </ul>"},{"location":"source/04-forms-and-screens/master-data-forms/#common-patterns-across-master-data-forms","title":"Common Patterns Across Master Data Forms","text":""},{"location":"source/04-forms-and-screens/master-data-forms/#addeditdelete-pattern","title":"Add/Edit/Delete Pattern","text":"<p>All master data forms follow similar patterns:</p> <ol> <li>Add Mode:</li> <li>Enable fields for entry</li> <li>Validate required fields</li> <li>Check for duplicates</li> <li>Set audit fields (cre_date, cre_user)</li> <li> <p>Save record</p> </li> <li> <p>Edit Mode:</p> </li> <li>Load existing record</li> <li>Enable fields for modification</li> <li>Validate changes</li> <li>Update audit fields (mod_date, mod_user)</li> <li> <p>Save changes</p> </li> <li> <p>Delete Mode:</p> </li> <li>Confirm deletion</li> <li>Delete record</li> <li>Refresh display</li> </ol>"},{"location":"source/04-forms-and-screens/master-data-forms/#validation-patterns","title":"Validation Patterns","text":"<ol> <li>Primary Key Validation:</li> <li>Required field check</li> <li>Uniqueness check</li> <li> <p>Length/format validation</p> </li> <li> <p>Foreign Key Validation:</p> </li> <li>Lookup table existence</li> <li> <p>Reference integrity</p> </li> <li> <p>Business Rule Validation:</p> </li> <li>Required fields</li> <li>Format validation</li> <li>Range validation</li> </ol>"},{"location":"source/04-forms-and-screens/master-data-forms/#audit-trail","title":"Audit Trail","text":"<p>All master data forms maintain audit trails: - <code>cre_date</code> - Creation date - <code>cre_user</code> - Creation user - <code>mod_date</code> - Modification date - <code>mod_user</code> - Modification user - <code>user_id</code> - User ID</p>"},{"location":"source/04-forms-and-screens/master-data-forms/#summary","title":"Summary","text":"<p>Master data forms provide comprehensive data management with: - Add/Edit/Delete functionality - Validation rules (required, uniqueness, format) - Foreign key validation - Audit trail maintenance - Search and browse capabilities - Related form integration</p> <p>These forms establish the data foundation for all transaction processing in the system.</p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/","title":"Order Confirmation Forms","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#overview","title":"Overview","text":"<p>Order Confirmation (OC) forms handle the posting of Order Enquiries to Order Confirmations, manual OC entry, and OC management. OCs serve as confirmed customer orders and are the basis for contract generation.</p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-upostoe-post-oepost-oc","title":"Form: upostoe (Post OE/Post OC)","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>upostoe</code></li> <li>File: <code>source/upostoe.scx</code> / <code>source/upostoe.SCT</code></li> <li>Type: Single form with grid</li> <li>Purpose: Post Order Enquiries to Order Confirmations</li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-layout","title":"Form Layout","text":"<p>Key Controls: - <code>OptionGroup1</code> - Status selection (1=Unposted, 2=Posted) - <code>OptionGroup2</code> - User filter (1=Current User, 2=All Users) - <code>Txtbox1</code> - User ID filter - <code>Txtbox2</code> - From Date - <code>Txtbox3</code> - To Date - <code>Grid1</code> - OE selection grid (wupostoegrid cursor) - <code>Command1</code> - Post button - <code>Command2</code> - Exit button</p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#detailed-process-flow-with-validation","title":"Detailed Process Flow with Validation","text":"<pre><code>flowchart TD\n    Start([Open Post OE Form]) --&gt; Load[Form Load Event&lt;br/&gt;Initialize Variables]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Set Default Dates&lt;br/&gt;w_fr_date = DATE&lt;br/&gt;w_to_date = DATE]\n    Init --&gt; Display[Display Form&lt;br/&gt;OE Selection Grid]\n\n    Display --&gt; UserSelectsFilter[User Selects Filters&lt;br/&gt;OptionGroup1: Status&lt;br/&gt;OptionGroup2: User Filter&lt;br/&gt;Txtbox1: User ID&lt;br/&gt;Txtbox2: From Date&lt;br/&gt;Txtbox3: To Date]\n\n    UserSelectsFilter --&gt; BuildGrid[Call ugrid Method&lt;br/&gt;Build OE List]\n\n    BuildGrid --&gt; BuildQuery[Build SELECT Query&lt;br/&gt;Based on Filters]\n\n    BuildQuery --&gt; QueryCase{Filter&lt;br/&gt;Combination?}\n\n    QueryCase --&gt;|\"Unposted + Current User\"| Query1[\"Query OEs: Unposted&lt;br/&gt;Current User Filter&lt;br/&gt;Date Range&lt;br/&gt;Status = 0\"]\n\n    QueryCase --&gt;|\"Unposted + All Users\"| Query2[\"Query OEs: Unposted&lt;br/&gt;All Users&lt;br/&gt;Date Range&lt;br/&gt;Status = 0\"]\n\n    QueryCase --&gt;|\"Posted + Current User\"| Query3[\"Query OEs: Posted&lt;br/&gt;Current User Filter&lt;br/&gt;Date Range&lt;br/&gt;Status = 1\"]\n\n    QueryCase --&gt;|\"Posted + All Users\"| Query4[\"Query OEs: Posted&lt;br/&gt;All Users&lt;br/&gt;Date Range&lt;br/&gt;Status = 1\"]\n\n    Query1 --&gt; PopulateGrid\n    Query2 --&gt; PopulateGrid\n    Query3 --&gt; PopulateGrid\n    Query4 --&gt; PopulateGrid\n\n    PopulateGrid[Populate wupostoegrid&lt;br/&gt;ZAP wupostoegrid&lt;br/&gt;Loop through Temp&lt;br/&gt;APPEND BLANK&lt;br/&gt;REPLACE oe_no, cust_no&lt;br/&gt;REPLACE Select = IIF status = 0, .T., .F.]\n    PopulateGrid --&gt; DisplayGrid[Display Grid1&lt;br/&gt;Recordsource = wupostoegrid]\n\n    DisplayGrid --&gt; UserSelectsOE[User Selects OEs&lt;br/&gt;Check Select checkbox&lt;br/&gt;in Grid]\n\n    UserSelectsOE --&gt; ClickPost[User Clicks Post Button&lt;br/&gt;Command1.Click]\n\n    ClickPost --&gt; ValidateSelection{Has Selected&lt;br/&gt;OEs?}\n    ValidateSelection --&gt;|No| ShowError1[MessageBox&lt;br/&gt;No OEs Selected]\n    ShowError1 --&gt; DisplayGrid\n    ValidateSelection --&gt;|Yes| LoopSelectedOEs[\"Loop Through Selected OEs&lt;br/&gt;SELECT wupostoegrid&lt;br/&gt;WHERE Select = True\"]\n\n    LoopSelectedOEs --&gt; CheckOEStatus{Check&lt;br/&gt;OE Status&lt;br/&gt;Already Posted?}\n    CheckOEStatus --&gt;|Yes| ShowError2[MessageBox&lt;br/&gt;OE Already Posted&lt;br/&gt;Skip This OE]\n    ShowError2 --&gt; NextOE\n    CheckOEStatus --&gt;|No| ValidateOE{Validate&lt;br/&gt;OE Has Items?}\n\n    ValidateOE --&gt;|No| ShowError3[MessageBox&lt;br/&gt;OE Has No Items&lt;br/&gt;Skip This OE]\n    ShowError3 --&gt; NextOE\n    ValidateOE --&gt;|Yes| CreateOCHeader[Call umordhd Method&lt;br/&gt;Create OC Header]\n\n    CreateOCHeader --&gt; BuildOCNo[\"Build OC Number&lt;br/&gt;Based on Company Code&lt;br/&gt;HT: HT-OC/prefix&lt;br/&gt;BAT: BTL-prefix&lt;br/&gt;HFW: HFW-OC/prefix&lt;br/&gt;INSP: IN-OC/prefix\"]\n\n    BuildOCNo --&gt; CheckOCExists{OC Header&lt;br/&gt;Exists?}\n    CheckOCExists --&gt;|Yes| UpdateOCHeader[UPDATE mordhd&lt;br/&gt;REPLACE fields]\n    CheckOCExists --&gt;|No| CreateOCHeaderRecord[APPEND BLANK to mordhd&lt;br/&gt;REPLACE conf_no, oe_no&lt;br/&gt;date, cust_no&lt;br/&gt;req_date_fr, req_date_to]\n\n    UpdateOCHeader --&gt; CopyOEItems\n    CreateOCHeaderRecord --&gt; CopyOEItems[Call umorddt Method&lt;br/&gt;Copy OE Items to OC]\n\n    CopyOEItems --&gt; SelectOEItems[\"Select OE Items&lt;br/&gt;FROM moe table&lt;br/&gt;WHERE oe_no matches&lt;br/&gt;INTO CURSOR Tempor\"]\n\n    SelectOEItems --&gt; LoopItems[Loop Through Tempor&lt;br/&gt;For Each Item]\n\n    LoopItems --&gt; CheckOCItemExists{OC Item&lt;br/&gt;Exists?}\n    CheckOCItemExists --&gt;|Yes| UpdateOCItem[UPDATE morddt&lt;br/&gt;REPLACE qty, ctn, price&lt;br/&gt;po_no, dates]\n    CheckOCItemExists --&gt;|No| CreateOCItem[APPEND BLANK to morddt&lt;br/&gt;REPLACE conf_no, oe_no&lt;br/&gt;item_no, qty, ctn&lt;br/&gt;price, po_no, dates]\n\n    UpdateOCItem --&gt; CheckBOM{Item Has&lt;br/&gt;BOM?}\n    CreateOCItem --&gt; CheckBOM\n\n    CheckBOM --&gt;|Yes| ProcessBOM[Process BOM Items&lt;br/&gt;SELECT mprodbom&lt;br/&gt;Calculate sub-item quantities&lt;br/&gt;Create sub-item records]\n    CheckBOM --&gt;|No| NextItem\n\n    ProcessBOM --&gt; SetHeadItem[\"Set Head Item Variables&lt;br/&gt;w_head_item = item_no&lt;br/&gt;w_head_qty = qty&lt;br/&gt;Set head = True\"]\n    SetHeadItem --&gt; CalculateTotalBOM[\"Calculate Total BOM Qty&lt;br/&gt;SUM qty from mprodbom&lt;br/&gt;WHERE item_no matches&lt;br/&gt;INTO CURSOR sum_qty\"]\n\n    CalculateTotalBOM --&gt; LoopBOMSubs[\"Loop Through BOM Sub-items&lt;br/&gt;SELECT mprodbom&lt;br/&gt;LOCATE FOR item_no\"]\n\n    LoopBOMSubs --&gt; CalculateSubQty[\"Calculate Sub-item Qty&lt;br/&gt;sub_qty = head_qty times&lt;br/&gt;bom_qty divided by total_qty\"]\n    CalculateSubQty --&gt; CreateSubItem[\"APPEND BLANK to morddt&lt;br/&gt;REPLACE item_no = sub_item&lt;br/&gt;REPLACE qty = sub_qty&lt;br/&gt;REPLACE head = False\"]\n    CreateSubItem --&gt; NextBOMSub{More&lt;br/&gt;Sub-items?}\n\n    NextBOMSub --&gt;|Yes| LoopBOMSubs\n    NextBOMSub --&gt;|No| NextItem\n\n    NextItem{More&lt;br/&gt;Items?}\n    NextItem --&gt;|Yes| LoopItems\n    NextItem --&gt;|No| UpdateOEStatus[UPDATE moehd&lt;br/&gt;REPLACE status = 1&lt;br/&gt;Mark as Posted]\n\n    UpdateOEStatus --&gt; NextOE{More&lt;br/&gt;Selected OEs?}\n    NextOE --&gt;|Yes| LoopSelectedOEs\n    NextOE --&gt;|No| RefreshGrid[Refresh Grid&lt;br/&gt;Call ugrid Method]\n\n    RefreshGrid --&gt; ShowSuccess[Show Success Message&lt;br/&gt;Posting Complete]\n    ShowSuccess --&gt; DisplayGrid</code></pre>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#validation-rules","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#pre-posting-validation","title":"Pre-Posting Validation","text":"<ol> <li>OE Selection:</li> <li>At least one OE must be selected</li> <li> <p>Error: \"No OEs Selected\" if none selected</p> </li> <li> <p>OE Status:</p> </li> <li>OE must not already be posted (status = 0)</li> <li> <p>Error: \"OE Already Posted\" if status = 1</p> </li> <li> <p>OE Has Items:</p> </li> <li>OE must have items in <code>moe</code> table</li> <li> <p>Error: \"OE Has No Items\" if empty</p> </li> <li> <p>Date Range:</p> </li> <li>From Date must be &lt;= To Date</li> <li>Dates used to filter OEs for posting</li> </ol>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#post-posting-validation","title":"Post-Posting Validation","text":"<ol> <li>OC Created:</li> <li>OC header exists in <code>mordhd</code></li> <li> <p>OC details created in <code>morddt</code></p> </li> <li> <p>BOM Calculated:</p> </li> <li>BOM quantities calculated correctly</li> <li>Sub-items created with proper quantities</li> </ol>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#umordhd-method-create-oc-header","title":"umordhd Method (Create OC Header)","text":"<p>Purpose: Create or update OC header record</p> <p>Process: 1. Select OE header data from <code>moe</code> 2. Select customer data from <code>mcustom</code> 3. Build OC number based on company 4. Check if OC header exists 5. Create or update <code>mordhd</code> record</p> <p>Code: <pre><code>PROCEDURE umordhd\nSELECT DISTINCT oe_no, date, from_date, to_date, cust_no, cur_code;\n    FROM moe;\n    INTO CURSOR Temporhd;\n    WHERE alltrim(oe_no) == alltrim(woeno);\n    AND alltrim(comp_code) == w_password\n\nSELECT ename, pay_term, fob_terms, conf_remark, addr1, addr2, addr3, addr4, cur_code;\n    FROM mcustom;\n    INTO CURSOR Tempcust;\n    WHERE alltrim(cust_no) == alltrim(wcustno)\n\nDO CASE\n    CASE alltrim(w_password) = \"HT\"\n        w_conf_no = \"HT-OC/\" + woeno\n    CASE alltrim(w_password) = \"BAT\"\n        w_conf_no = \"BTL-\" + woeno\n    CASE alltrim(w_password) = \"HFW\"\n        w_conf_no = \"HFW-OC/\" + ALLTRIM(STRTRAN(woeno, \"HFW\", \"   \"))\n    CASE alltrim(w_password) = \"INSP\"\n        w_conf_no = \"IN-OC/\" + woeno\nENDCASE\n\nSELECT mordhd\nLOCATE FOR alltrim(mordhd.conf_no) == w_conf_no\n\nIF !found()\n    APPEND BLANK\n    REPLACE mordhd.conf_no WITH w_conf_no\nENDIF\n\nREPLACE mordhd.oe_no WITH woeno\nREPLACE mordhd.date WITH Temporhd.date\nREPLACE mordhd.cust_no WITH Temporhd.cust_no\nREPLACE mordhd.req_date_fr WITH Temporhd.from_date\nREPLACE mordhd.req_date_to WITH Temporhd.to_date\n* ... replace other fields ...\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#umorddt-method-copy-oe-items-to-oc","title":"umorddt Method (Copy OE Items to OC)","text":"<p>Purpose: Copy OE items to OC detail table</p> <p>Process: 1. Select OE items from <code>moe</code> 2. For each item:    - Check if OC item exists    - Create or update <code>morddt</code> record    - Process BOM if item has BOM</p> <p>Code: <pre><code>PROCEDURE umorddt\nSELECT * FROM moe;\n    INTO CURSOR Tempor;\n    WHERE alltrim(oe_no) == alltrim(woeno);\n    AND alltrim(comp_code) == w_password\n\nSELECT Tempor\nGO TOP\nDO WHILE !eof()\n    SELECT morddt\n    LOCATE FOR alltrim(conf_no) == alltrim(w_conf_no);\n        AND alltrim(item_no) == alltrim(Tempor.item_no)\n\n    IF !found()\n        APPEND BLANK\n        REPLACE morddt.conf_no WITH w_conf_no\n        REPLACE morddt.item_no WITH Tempor.item_no\n    ENDIF\n\n    REPLACE morddt.qty WITH Tempor.qty\n    REPLACE morddt.ctn WITH Tempor.ctn\n    REPLACE morddt.price WITH Tempor.price\n    REPLACE morddt.po_no WITH Tempor.po_no\n    * ... replace other fields ...\n\n    * Check for BOM\n    SELECT SUM(qty) as total_qty;\n        FROM mprodbom;\n        WHERE item_no == Tempor.item_no;\n        INTO CURSOR sum_qty\n\n    IF sum_qty.total_qty &gt; 0\n        * Process BOM sub-items\n        w_head_item = Tempor.item_no\n        w_head_qty = Tempor.qty\n        REPLACE morddt.head WITH .T.\n\n        * Create sub-items\n        SELECT mprodbom\n        LOCATE FOR item_no == w_head_item\n        DO WHILE !eof() AND item_no == w_head_item\n            sub_qty = w_head_qty * mprodbom.qty / sum_qty.total_qty\n\n            SELECT morddt\n            APPEND BLANK\n            REPLACE morddt.conf_no WITH w_conf_no\n            REPLACE morddt.item_no WITH mprodbom.sub_item\n            REPLACE morddt.qty WITH sub_qty\n            REPLACE morddt.head WITH .F.\n\n            SELECT mprodbom\n            SKIP\n        ENDDO\n    ENDIF\n\n    SELECT Tempor\n    SKIP\nENDDO\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#ugrid-method-build-oe-grid","title":"ugrid Method (Build OE Grid)","text":"<p>Purpose: Populate grid with OEs based on filters</p> <p>Process: 1. Build SELECT query based on filter options 2. Query <code>moehd</code> and <code>moe</code> tables 3. Populate <code>wupostoegrid</code> cursor 4. Display in grid</p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-iordhd-input-order-confirmation","title":"Form: iordhd (Input Order Confirmation)","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>iordhd</code></li> <li>File: <code>source/iordhd.scx</code> / <code>source/iordhd.SCT</code></li> <li>Type: Formset with multiple forms</li> <li>Purpose: Manual OC entry and editing</li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-layout_1","title":"Form Layout","text":"<p>Structure: - Formset: <code>Formset1</code> - Form1: OC header entry form - Form2: OC detail entry form (iorddt1, iorddt2)</p> <p>Form1 Key Controls: - <code>Txtbox1</code> - OC Number - <code>Txtbox13</code> - Company prefix (HT, HFW, IN) - <code>Txtbox14</code> - OC prefix - <code>Combofield1</code> - Customer selection - <code>Txtbox2</code> - Customer name (display) - <code>Datespinner1</code> - OC Date - <code>Ser</code> - Search button - <code>Grid1</code> - OC items grid</p>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open OC Form]) --&gt; Load[Form Load Event&lt;br/&gt;Create wiorddt table&lt;br/&gt;FREE TABLE]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables&lt;br/&gt;Set Company-specific&lt;br/&gt;Input Masks]\n    Init --&gt; Display[Display Form&lt;br/&gt;OC Entry Form]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Enter OC| EnterOC[User Enters OC Number&lt;br/&gt;Txtbox1]\n    UserAction --&gt;|Search| SearchOC[Click Search Button&lt;br/&gt;Ser.Click]\n    UserAction --&gt;|Add Item| AddItem[Click Add Item Button]\n    UserAction --&gt;|Edit Item| EditItem[Click Edit Item Button]\n    UserAction --&gt;|Delete Item| DeleteItem[Click Delete Item Button]\n\n    EnterOC --&gt; ValidateOC[Txtbox1.Valid Event]\n    ValidateOC --&gt; CheckOCExists{OC&lt;br/&gt;Exists?}\n    CheckOCExists --&gt;|Yes| LoadOC[Load OC Header&lt;br/&gt;SELECT mordhd&lt;br/&gt;LOCATE FOR conf_no&lt;br/&gt;Load customer, dates]\n    CheckOCExists --&gt;|No| CreateNewOC[Create New OC&lt;br/&gt;w_conf_no = \"\"&lt;br/&gt;Enable fields]\n\n    LoadOC --&gt; LoadOCItems[Load OC Items&lt;br/&gt;SELECT * FROM morddt&lt;br/&gt;WHERE conf_no&lt;br/&gt;INTO CURSOR viorddt]\n    LoadOCItems --&gt; DisplayGrid[Display Grid&lt;br/&gt;OC Items]\n\n    CreateNewOC --&gt; EnterCustomer[User Enters Customer]\n    EnterCustomer --&gt; ValidateCustomer{Customer&lt;br/&gt;Exists?}\n    ValidateCustomer --&gt;|No| ShowError[Show Error&lt;br/&gt;Customer Not Found]\n    ValidateCustomer --&gt;|Yes| SetCustomer[Set Customer Info&lt;br/&gt;Load address, terms]\n\n    AddItem --&gt; OpenItemForm[DO FORM iorddt1&lt;br/&gt;or iorddt2&lt;br/&gt;WITH Parameters]\n    OpenItemForm --&gt; ItemAdded[Item Added&lt;br/&gt;Refresh Grid]\n    ItemAdded --&gt; DisplayGrid\n\n    EditItem --&gt; OpenEditForm[DO FORM iorddt1&lt;br/&gt;or iorddt2&lt;br/&gt;Edit Mode]\n    OpenEditForm --&gt; ItemUpdated[Item Updated&lt;br/&gt;Refresh Grid]\n    ItemUpdated --&gt; DisplayGrid\n\n    DeleteItem --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete?}\n    ConfirmDelete --&gt;|Yes| DeleteOCItem[DELETE FROM morddt&lt;br/&gt;WHERE conf_no AND item_no]\n    DeleteOCItem --&gt; DisplayGrid\n\n    SearchOC --&gt; OpenSearchForm[DO FORM zserconf&lt;br/&gt;OC Search Form]\n    OpenSearchForm --&gt; SelectOC[User Selects OC]\n    SelectOC --&gt; LoadOC\n\n    DisplayGrid --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#validation-rules_1","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#oc-number-validation","title":"OC Number Validation","text":"<p>Rules: 1. Format Validation:    - HT: \"HT-OC/\" + 10 characters    - BAT: \"BTL-\" + 12 characters    - HFW: \"HFW-OC/\" + 12 characters    - INSP: \"IN-OC/\" + 10 characters</p> <ol> <li>Uniqueness:</li> <li>OC number must be unique in <code>mordhd</code> table</li> <li>Check before creating new OC</li> </ol>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#customer-validation","title":"Customer Validation","text":"<p>Rules: 1. Required Field:    - Customer must be selected    - Must exist in <code>mcustom</code> table</p> <ol> <li>Auto-fill:</li> <li>Load customer address</li> <li>Load payment terms</li> <li>Load FOB terms</li> </ol>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#related-forms","title":"Related Forms","text":"<ul> <li>iorddt1 - OC Detail entry form (Page 1)</li> <li>iorddt2 - OC Detail entry form (Page 2)</li> <li>zserconf - OC search form</li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#related-tables","title":"Related Tables","text":"<ul> <li>mordhd - OC header table</li> <li>morddt - OC detail table</li> <li>moe - OE items table (source)</li> <li>moehd - OE header table</li> <li>mprodbom - Product BOM table</li> <li>mcustom - Customer master table</li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-iorddt1-iorddt2-oc-detail-entry","title":"Form: iorddt1 / iorddt2 (OC Detail Entry)","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Names: <code>iorddt1</code>, <code>iorddt2</code></li> <li>Purpose: Enter and edit OC detail items</li> <li>Called From: <code>iordhd</code> form</li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#process-flow_1","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open OC Detail Form]) --&gt; Load[Form Load Event&lt;br/&gt;Initialize Variables]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Load Item Data&lt;br/&gt;if Edit Mode]\n    Init --&gt; Display[Display Form&lt;br/&gt;Item Entry Fields]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Enter Item| EnterItem[User Enters Item No]\n    UserAction --&gt;|Save| SaveItem[Click Save Button]\n    UserAction --&gt;|Cancel| CancelForm[Click Cancel Button]\n\n    EnterItem --&gt; ValidateItem[Validate Item No&lt;br/&gt;SELECT mitem&lt;br/&gt;SEEK item_no]\n    ValidateItem --&gt; ItemExists{Item&lt;br/&gt;Exists?}\n    ItemExists --&gt;|No| ShowError[Show Error&lt;br/&gt;Item Not Found]\n    ItemExists --&gt;|Yes| LoadItemData[Load Item Data&lt;br/&gt;Display description&lt;br/&gt;price, cost, etc.]\n\n    LoadItemData --&gt; EnterDetails[User Enters Details&lt;br/&gt;Quantity, Price&lt;br/&gt;Carton, PO No&lt;br/&gt;Dates]\n\n    EnterDetails --&gt; ValidateQty{Quantity&lt;br/&gt;&gt; 0?}\n    ValidateQty --&gt;|No| ShowQtyError[Show Error&lt;br/&gt;Quantity Must &gt; 0]\n    ValidateQty --&gt;|Yes| ValidatePrice{Price&lt;br/&gt;Valid?}\n\n    ValidatePrice --&gt;|No| ShowPriceError[Show Error]\n    ValidatePrice --&gt;|Yes| SaveItem\n\n    SaveItem --&gt; CheckEditMode{Edit&lt;br/&gt;Mode?}\n    CheckEditMode --&gt;|Yes| UpdateOCItem[UPDATE morddt&lt;br/&gt;REPLACE fields]\n    CheckEditMode --&gt;|No| CreateOCItem[APPEND BLANK to morddt&lt;br/&gt;REPLACE fields]\n\n    UpdateOCItem --&gt; CheckBOM{Item Has&lt;br/&gt;BOM?}\n    CreateOCItem --&gt; CheckBOM\n\n    CheckBOM --&gt;|Yes| ProcessBOM[Process BOM Items&lt;br/&gt;Create sub-items]\n    CheckBOM --&gt;|No| CloseForm[Close Form&lt;br/&gt;Return to iordhd]\n\n    ProcessBOM --&gt; CloseForm\n\n    CancelForm --&gt; CloseForm\n    CloseForm --&gt; End([Form Closed])</code></pre>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#validation-rules_2","title":"Validation Rules","text":"<ol> <li>Item Number:</li> <li>Must exist in <code>mitem</code> table</li> <li> <p>Error: \"Item Not Found\" if not exists</p> </li> <li> <p>Quantity:</p> </li> <li>Must be &gt; 0</li> <li> <p>Error: \"Quantity Must &gt; 0\"</p> </li> <li> <p>Price:</p> </li> <li>Must be valid numeric value</li> <li> <p>Can be zero or positive</p> </li> <li> <p>Carton:</p> </li> <li>Must be positive integer</li> <li>Used for packing calculations</li> </ol>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-pconfirm-print-order-confirmation","title":"Form: pconfirm (Print Order Confirmation)","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>pconfirm</code></li> <li>Purpose: Print OC document</li> <li>Process: Generate report from <code>mordhd</code> and <code>morddt</code></li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-pocbrk-print-oc-qty-breakdown","title":"Form: pocbrk (Print OC Qty Breakdown)","text":""},{"location":"source/04-forms-and-screens/order-confirmation-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>pocbrk</code></li> <li>Purpose: Print OC quantity breakdown report</li> <li>Process: Aggregate and format OC quantity breakdowns</li> </ul>"},{"location":"source/04-forms-and-screens/order-confirmation-forms/#summary","title":"Summary","text":"<p>Order Confirmation forms provide: - upostoe - Post OE to OC with BOM processing - iordhd - Manual OC entry and editing - iorddt1/iorddt2 - OC detail item entry - pconfirm - OC document printing - pocbrk - OC quantity breakdown printing</p> <p>The forms include extensive validation, BOM processing, and integration with the contract generation workflow.</p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/","title":"Order Enquiry Forms","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#overview","title":"Overview","text":"<p>Order Enquiry (OE) forms handle the creation, import, validation, and management of customer order enquiries. These forms are the entry point for all orders in the system.</p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-ioe1-input-oe-new-most-complex-form","title":"Form: ioe1@ (Input OE New) - MOST COMPLEX FORM","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>ioe1@</code></li> <li>File: <code>source/ioe1@.scx</code> / <code>source/ioe1@.SCT</code></li> <li>Type: Formset with multiple forms (Form1, Form2, Form3, Form4, Form5)</li> <li>Lines of Code: 2885+ lines in .SCT file</li> <li>Purpose: Main OE entry and management form</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-layout","title":"Form Layout","text":"<p>Structure: - Formset: <code>Formset1</code> with 5 forms   - Form1: Main OE entry form with grid   - Form2: Copy OE form   - Form3: FW Comment form   - Form4: OE Comment form   - Form5: Cancel item form</p> <p>Form1 Key Controls: - <code>Txtbox1</code> - OE Number input - <code>Txtbox2</code> - Customer Number (disabled after OE loaded) - <code>Txtbox4</code> - Customer Name (display only) - <code>Txtbox5</code> - OE Date - <code>Txtbox10</code> - From Date (visible = .F.) - <code>Txtbox11</code> - To Date (visible = .F.) - <code>Grid1</code> - OE items grid (21 columns) - <code>Command1</code> - Add Item button - <code>Command2</code> - Exit button - <code>Command3</code> - Copy OE button - <code>Command4</code> - Delete All button - <code>Command5</code> - Update OC/Contract Details button - <code>Ser</code> - Search button (calls zseroe) - <code>Label4</code> - Status label (\"Please Wait...............\")</p> <p>Grid1 Columns: 1. Item No 2. Qty (with dynamic color for mismatches) 3. Price 4. Ctn 5. Margin % (calculated) 6. Vendor 7. SKN No 8. Remark 9. Cost 10. (empty) 11. PO No 12. Maker 13. FOB Port 14. Maker S From 15. Maker S To 16. Cust S From 17. Cust S To 18. (Cancel button) 19. Cxl Reason 20. LCL 21. Chester</p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#detailed-process-flow-with-validation","title":"Detailed Process Flow with Validation","text":"<pre><code>flowchart TD\n    Start([Open OE Form]) --&gt; Load[Form Load Event&lt;br/&gt;SET TALK OFF&lt;br/&gt;SET CENTURY ON&lt;br/&gt;SET DELETE ON&lt;br/&gt;SET DATE MDY&lt;br/&gt;Public Variables&lt;br/&gt;use_mcustom, temp_oe_no&lt;br/&gt;temp_cust_no, w_oe_no&lt;br/&gt;p_oe_no, w_oe_prefix]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Public Variables&lt;br/&gt;check_change, record_point&lt;br/&gt;w_cust_no, wnewoe, w_oe_no&lt;br/&gt;default_del_date, default_po_no&lt;br/&gt;default_oc_no&lt;br/&gt;w_oe_fr_date, w_oe_to_date&lt;br/&gt;click_ser, w_ser_oe_no&lt;br/&gt;w_fw_ref, w_cust_first_sd&lt;br/&gt;w_cust_last_sd&lt;br/&gt;w_fw_comment, w_oe_comment]\n\n    Init --&gt; CheckINSP{Check&lt;br/&gt;w_password&lt;br/&gt;= INSP?}\n    CheckINSP --&gt;|Yes| SetPrefix[\"w_oe_prefix = IN-&lt;br/&gt;Auto-prefix for INSP\"]\n    CheckINSP --&gt;|No| SetPrefixEmpty[\"w_oe_prefix = empty\"]\n\n    SetPrefix --&gt; InitializeVars\n    SetPrefixEmpty --&gt; InitializeVars[\"Initialize Variables&lt;br/&gt;wnewoe = False&lt;br/&gt;click_ser = False&lt;br/&gt;w_oe_date = empty&lt;br/&gt;w_oe_fr_date = empty&lt;br/&gt;w_oe_to_date = empty&lt;br/&gt;check_change = 0&lt;br/&gt;record_point = empty\"]\n\n    InitializeVars --&gt; HideForms[Hide Form3, Form4, Form5&lt;br/&gt;Show Form1 Only]\n    HideForms --&gt; LoadCurrency[Load Currency Codes&lt;br/&gt;SELECT * FROM zcurcode&lt;br/&gt;INTO CURSOR temp_vendor]\n    LoadCurrency --&gt; Display[Display Form1&lt;br/&gt;OE Entry Form]\n\n    Display --&gt; UserEntersOE[User Enters OE Number&lt;br/&gt;Txtbox1]\n\n    UserEntersOE --&gt; ValidateOE[Txtbox1.Valid Event]\n\n    ValidateOE --&gt; CheckExact{Check if&lt;br/&gt;OE Changed&lt;br/&gt;w_exact = .t.?}\n    CheckExact --&gt;|No Change| SkipRequery[Skip Requery&lt;br/&gt;Just Refresh]\n    CheckExact --&gt;|Changed| ResetDefaults[Reset Default Values&lt;br/&gt;default_del_date = {//}&lt;br/&gt;default_del_po_no = \"\"&lt;br/&gt;default_del_oc_no = \"\"]\n\n    ResetDefaults --&gt; ShowWait[\"Set Label4.caption&lt;br/&gt;= Please Wait\"]\n    ShowWait --&gt; BuildOENo[\"strOeNo = w_oe_prefix plus Txtbox1.value&lt;br/&gt;w_oe_no = strOeNo\"]\n    BuildOENo --&gt; RequeryGrid[Call requeryGrid Method&lt;br/&gt;Build voe1 cursor&lt;br/&gt;JOIN with mqtybrk]\n\n    RequeryGrid --&gt; CheckHasData{Check&lt;br/&gt;voe1.oe_no&lt;br/&gt;Empty?}\n    CheckHasData --&gt;|No| LoadExistingOE[Load Existing OE Data&lt;br/&gt;wnewoe = .F.&lt;br/&gt;Load dates, customer&lt;br/&gt;Load moehd record]\n    CheckHasData --&gt;|Yes| CheckOECtrl[Check OE Control&lt;br/&gt;SELECT moectrl&lt;br/&gt;SEEK oe_no]\n\n    LoadExistingOE --&gt; LoadCustomer[Load Customer Info&lt;br/&gt;SELECT mcustom&lt;br/&gt;LOCATE FOR cust_no&lt;br/&gt;Display ename in Txtbox4]\n    LoadCustomer --&gt; LoadMOEHD[Load moehd Record&lt;br/&gt;Get fw_ref, dates&lt;br/&gt;fw_comment, oe_comment]\n    LoadMOEHD --&gt; DisableFields[\"Disable Fields&lt;br/&gt;Txtbox2.enabled = False&lt;br/&gt;Txtbox10.enabled = False&lt;br/&gt;Txtbox11.enabled = False\"]\n    DisableFields --&gt; DisplayForm\n\n    CheckOECtrl --&gt; OECtrlExists{OE Control&lt;br/&gt;Exists and&lt;br/&gt;status_flag != 2?}\n    OECtrlExists --&gt;|No| ShowError1[MessageBox&lt;br/&gt;Invalid OE No.!&lt;br/&gt;Return .F.]\n    ShowError1 --&gt; UserEntersOE\n    OECtrlExists --&gt;|Yes| CreateNewOE[wnewoe = .T.&lt;br/&gt;Load from moectrl&lt;br/&gt;w_oe_date = moectrl.oe_date&lt;br/&gt;w_cust_no = moectrl.cust_no]\n\n    CreateNewOE --&gt; CreateMOEHD[Check/Create moehd&lt;br/&gt;SELECT moehd&lt;br/&gt;SEEK oe_no]\n    CreateMOEHD --&gt; MOEHDExists{MOEHD&lt;br/&gt;Exists?}\n    MOEHDExists --&gt;|No| AppendMOEHD[APPEND BLANK&lt;br/&gt;REPLACE oe_no&lt;br/&gt;REPLACE oe_date&lt;br/&gt;REPLACE cre_date = DATE&lt;br/&gt;REPLACE cre_user = sysUserId]\n    MOEHDExists --&gt;|Yes| UpdateMOEHD[Update moehd&lt;br/&gt;REPLACE fw_comment&lt;br/&gt;REPLACE oe_comment]\n\n    AppendMOEHD --&gt; LoadCustomer\n    UpdateMOEHD --&gt; LoadCustomer\n\n    DisplayForm[Display Form&lt;br/&gt;Enable/Disable Fields&lt;br/&gt;Based on OE State] --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Add Item| AddItem[Click Add Item Button&lt;br/&gt;Command1.Click]\n    UserAction --&gt;|Copy OE| CopyOE[Click Copy OE Button&lt;br/&gt;Command3.Click]\n    UserAction --&gt;|Delete All| DeleteAll[Click Delete All Button&lt;br/&gt;Command4.Click]\n    UserAction --&gt;|Update OC/Contract| UpdateOC[Click Update OC/Contract&lt;br/&gt;Command5.Click]\n    UserAction --&gt;|Search OE| SearchOE[Click Search Button&lt;br/&gt;Ser.Click]\n    UserAction --&gt;|Delete Item| DeleteItem[Click Delete in Grid&lt;br/&gt;Column10.Command1.Click]\n    UserAction --&gt;|Cancel Item| CancelItem[Click Cancel in Grid&lt;br/&gt;Column18.Command1.Click]\n    UserAction --&gt;|Exit| ExitForm[Click Exit Button&lt;br/&gt;Command2.Click]\n\n    AddItem --&gt; ValidateOEForAdd{OE No&lt;br/&gt;Entered?}\n    ValidateOEForAdd --&gt;|No| ShowError2[MessageBox&lt;br/&gt;Oe No Can not Empty!&lt;br/&gt;SetFocus to Txtbox1&lt;br/&gt;Return .F.]\n    ShowError2 --&gt; DisplayForm\n    ValidateOEForAdd --&gt;|Yes| ValidateCust{Customer&lt;br/&gt;Entered?}\n    ValidateCust --&gt;|No| ShowError3[MessageBox&lt;br/&gt;Invalid Client Code!&lt;br/&gt;SetFocus to Txtbox2&lt;br/&gt;Return .F.]\n    ShowError3 --&gt; DisplayForm\n    ValidateCust --&gt;|Yes| OpenIOE2[\"DO FORM ioe2&lt;br/&gt;WITH Parameters:&lt;br/&gt;oe_no = w_oe_prefix plus Txtbox1.value&lt;br/&gt;item_no = empty&lt;br/&gt;cust_no = Txtbox2.value&lt;br/&gt;ename = Txtbox4.value&lt;br/&gt;mode = 0&lt;br/&gt;from_date = Txtbox10.value&lt;br/&gt;to_date = Txtbox11.value&lt;br/&gt;po_no = empty\"]\n    OpenIOE2 --&gt; ItemAdded[Item Added&lt;br/&gt;check_change = 1]\n    ItemAdded --&gt; GotFocus[Form GotFocus Event]\n\n    CopyOE --&gt; OpenCopyForm[Show Form2&lt;br/&gt;Copy OE Form]\n    OpenCopyForm --&gt; EnterFromOE[User Enters From OE&lt;br/&gt;Txtbox1 in Form2]\n    EnterFromOE --&gt; ValidateFromOE{From OE&lt;br/&gt;Valid?}\n    ValidateFromOE --&gt;|No| ShowError4[MessageBox&lt;br/&gt;Invalid OE No.!]\n    ShowError4 --&gt; OpenCopyForm\n    ValidateFromOE --&gt;|Yes| EnterToOE[User Enters To OE&lt;br/&gt;Txtbox2 in Form2]\n    EnterToOE --&gt; ValidateToOE{To OE&lt;br/&gt;Valid?}\n    ValidateToOE --&gt;|No| ShowError5[MessageBox&lt;br/&gt;Invalid OE No.!]\n    ShowError5 --&gt; EnterToOE\n    ValidateToOE --&gt;|Yes| CopyOEItems[Copy OE Items&lt;br/&gt;SELECT * FROM moe&lt;br/&gt;WHERE oe_no = w_oe1&lt;br/&gt;INTO CURSOR oe_cursor&lt;br/&gt;Loop through items]\n\n    CopyOEItems --&gt; ProcessEachItem[\"For Each Item in oe_cursor&lt;br/&gt;Check mitemven for vendor&lt;br/&gt;Update vendor_no, maker&lt;br/&gt;Set OC number based on company&lt;br/&gt;REPLACE all fields\"]\n    ProcessEachItem --&gt; CopyQtyBrk[\"Copy Qty Breakdown&lt;br/&gt;SELECT FROM mqtybrk&lt;br/&gt;WHERE oe_no equals w_oe1&lt;br/&gt;Copy to w_oe2\"]\n    CopyQtyBrk --&gt; CopyOERmk[\"Copy OE Remarks&lt;br/&gt;SELECT FROM moermk&lt;br/&gt;WHERE oe_no equals w_oe1&lt;br/&gt;Copy to w_oe2\"]\n    CopyOERmk --&gt; CopyMOEHD[\"Copy moehd Record&lt;br/&gt;SCATTER TO array&lt;br/&gt;GATHER FROM array&lt;br/&gt;Update oe_no\"]\n    CopyMOEHD --&gt; RefreshAfterCopy[Refresh Form1&lt;br/&gt;Display New OE]\n\n    DeleteAll --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete All&lt;br/&gt;Record?}\n    ConfirmDelete --&gt;|No| DisplayForm\n    ConfirmDelete --&gt;|Yes| DeleteMOE[DELETE FROM moe&lt;br/&gt;WHERE oe_no = strOeNo&lt;br/&gt;SET FILTER&lt;br/&gt;DELETE ALL]\n    DeleteMOE --&gt; DeleteMQTYBRK[DELETE FROM mqtybrk&lt;br/&gt;WHERE oe_no = strOeNo&lt;br/&gt;SET FILTER&lt;br/&gt;DELETE ALL]\n    DeleteMQTYBRK --&gt; DeleteMOEBOM[DELETE FROM moebom&lt;br/&gt;WHERE oe_no = strOeNo&lt;br/&gt;SET FILTER&lt;br/&gt;DELETE ALL]\n    DeleteMOEBOM --&gt; DeleteMOEHD[\"DELETE FROM moehd&lt;br/&gt;WHERE oe_no equals strOeNo\"]\n    DeleteMOEHD --&gt; DeleteMOERMK[\"DELETE FROM moermk&lt;br/&gt;WHERE oe_no equals strOeNo\"]\n    DeleteMOERMK --&gt; ClearFields[\"Clear All Fields&lt;br/&gt;Txtbox1 = empty&lt;br/&gt;Txtbox2 = empty&lt;br/&gt;Txtbox4 = empty&lt;br/&gt;Txtbox5 = empty&lt;br/&gt;Txtbox10 = empty&lt;br/&gt;Txtbox11 = empty\"]\n    ClearFields --&gt; RequeryGrid\n    RequeryGrid --&gt; SetFocus[Txtbox1.setfocus]\n    SetFocus --&gt; DisplayForm\n\n    DeleteItem --&gt; ConfirmDeleteItem{Confirm&lt;br/&gt;Delete this&lt;br/&gt;Item?}\n    ConfirmDeleteItem --&gt;|No| DisplayForm\n    ConfirmDeleteItem --&gt;|Yes| GetItemInfo[Get Item Info from Grid&lt;br/&gt;CToe_no = voe1.oe_no&lt;br/&gt;CT_item = voe1.item_no]\n    GetItemInfo --&gt; DeleteMOERecord[DELETE FROM moe&lt;br/&gt;WHERE oe_no = CToe_no&lt;br/&gt;AND item_no = CT_item&lt;br/&gt;AND po_no = voe1.po_no]\n    DeleteMOERecord --&gt; DeleteMQTYBRKItem[DELETE FROM mqtybrk&lt;br/&gt;WHERE oe_no = strOeNo&lt;br/&gt;AND item_no = CT_item]\n    DeleteMQTYBRKItem --&gt; DeleteMOEBOMItem[DELETE FROM moebom&lt;br/&gt;WHERE oe_no = strOeNo&lt;br/&gt;AND item_no = CT_item]\n    DeleteMOEBOMItem --&gt; RequeryGrid\n\n    CancelItem --&gt; OpenCancelForm[Show Form5&lt;br/&gt;Cancel Item Form]\n    OpenCancelForm --&gt; EnterCancelReason[User Enters&lt;br/&gt;Cancel Reason]\n    EnterCancelReason --&gt; SaveCancel[Update voe1.cxl_rson&lt;br/&gt;Update moe.cxl_flag = 1]\n    SaveCancel --&gt; RequeryGrid\n\n    UpdateOC --&gt; CallUpdateProgram[DO uordcont&lt;br/&gt;Update OC/Contract Details]\n    CallUpdateProgram --&gt; RefreshForm\n\n    SearchOE --&gt; OpenSearchForm[DO FORM zseroe&lt;br/&gt;OE Search Form]\n    OpenSearchForm --&gt; SelectOE[User Selects OE&lt;br/&gt;from Search]\n    SelectOE --&gt; SetSearchOE[click_ser = .T.&lt;br/&gt;w_ser_oe_no = selected_oe]\n    SetSearchOE --&gt; GotFocus\n\n    GotFocus --&gt; CheckChange{check_change&lt;br/&gt;= 0?}\n    CheckChange --&gt;|No| RequeryGrid\n    CheckChange --&gt;|Yes| RefreshOnly[Refresh Grid Only&lt;br/&gt;No Requery]\n\n    RequeryGrid --&gt; CheckQtyMatch[Check Qty vs brkQty&lt;br/&gt;Loop through voe1&lt;br/&gt;Check if qty != brkQty]\n    CheckQtyMatch --&gt; HasMismatch{Has&lt;br/&gt;Mismatch?}\n    HasMismatch --&gt;|Yes| HighlightMismatch[Set Dynamic Colors&lt;br/&gt;Red Background for Mismatch&lt;br/&gt;Show shpHadBrk Label]\n    HasMismatch --&gt;|No| NormalDisplay[Normal Display&lt;br/&gt;White Background]\n\n    HighlightMismatch --&gt; DisplayGrid\n    NormalDisplay --&gt; DisplayGrid[Display Grid1&lt;br/&gt;Set Recordsource = voe1&lt;br/&gt;Set Column Controlsources&lt;br/&gt;Set Dynamic Colors]\n\n    DisplayGrid --&gt; CheckClickSer{click_ser&lt;br/&gt;= .T.?}\n    CheckClickSer --&gt;|Yes| SetOENo[Txtbox1.value = w_ser_oe_no&lt;br/&gt;Call Txtbox1.Valid]\n    CheckClickSer --&gt;|No| DisplayForm\n\n    DisplayForm --&gt; RefreshForm[Refresh Form&lt;br/&gt;Update Display]\n    RefreshForm --&gt; Display\n\n    ExitForm --&gt; Cleanup[Close Cursors&lt;br/&gt;Close temp_vendor&lt;br/&gt;Release Form]\n    Cleanup --&gt; End([Form Closed])</code></pre>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#requerygrid-method","title":"requeryGrid Method","text":"<p>Purpose: Populate and refresh the OE items grid</p> <p>Process: 1. Clear current grid recordsource 2. Select OE items from <code>moe</code> table 3. Aggregate quantity breakdowns from <code>mqtybrk</code> 4. Join items with breakdowns 5. Calculate additional fields (ctncost, margin %) 6. Check for quantity mismatches 7. Set grid recordsource and column bindings 8. Apply dynamic formatting for mismatches</p> <p>Code: <pre><code>PROCEDURE requerygrid\nPARAMETER strOENo\n\nSET EXACT ON\nthisformset.form1.grid1.recordsource = \"\"\n\nSELECT * FROM moe INTO CURSOR voe3;\n    WHERE oe_no = strOENo;\n    ORDER BY item_no\n\nSELECT oe_no, item_no, sum(qty) as BrkQty;\n    FROM mqtybrk;\n    WHERE oe_no = strOENo;\n    GROUP BY 1,2;\n    INTO CURSOR voebrk\n\nSELECT a.*, round(a.qty/a.ctn*a.price,2) as ctncost,;\n       nvl(b.BrkQty,000000) as brkQty;\n    FROM voe3 a LEFT OUTER JOIN voebrk b;\n         ON a.oe_no = b.oe_no AND a.item_no = b.item_no;\n    INTO CURSOR voe1\n\nlHasBrk = .F.\nDO WHILE !eof()\n    IF qty # brkQty AND BrkQty &gt; 0\n        lHasBrk = .T.\n        EXIT\n    ENDIF\n    SKIP\nENDDO\n\nthisformset.form1.shpHadBrk.visible = lHasBrk\nthisformset.form1.lblHasBrk.visible = lHasBrk\nGO TOP\n\nthisformset.form1.grid1.recordsource = \"voe1\"\nthisformset.form1.grid1.column1.controlsource = \"voe1.item_no\"\nthisformset.form1.grid1.column2.controlsource = \"voe1.qty\"\nthisformset.form1.grid1.column2.dynamicbackcolor =;\n    \"iif(qty # brkQty AND BrkQty &gt; 0, RGB(255,221,221), RGB(255,255,255))\"\nthisformset.form1.grid1.column2.dynamicforecolor =;\n    \"iif(qty # brkQty AND BrkQty &gt; 0, RGB(255,0,0), RGB(0,0,0))\"\n* ... set other columns ...\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#validation-rules","title":"Validation Rules","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#oe-number-validation-txtbox1valid","title":"OE Number Validation (Txtbox1.Valid)","text":"<p>Rules: 1. OE Change Detection:    - Compare: <code>w_oe_prefix + Txtbox1.value &lt;&gt; w_oe_no</code>    - If changed, reset default values    - Set <code>w_exact = .T.</code> if different</p> <ol> <li>Existing OE:</li> <li> <p>If <code>voe1.oe_no</code> not empty:</p> <ul> <li>Load existing OE data</li> <li>Load customer information</li> <li>Load moehd record</li> <li>Disable fields (Txtbox2, Txtbox10, Txtbox11)</li> </ul> </li> <li> <p>New OE:</p> </li> <li>If <code>voe1.oe_no</code> empty:<ul> <li>Check OE Control exists in <code>moectrl</code></li> <li>Validate: <code>moectrl.status_flag != 2</code></li> <li>Error: \"Invalid OE No!\" if not found or status = 2</li> <li>Load customer from moectrl</li> <li>Create/update moehd record</li> </ul> </li> </ol> <p>Validation Code: <pre><code>PROCEDURE Valid\nPUBLIC w_exact\nw_exact = .F.\n\nIF alltrim(w_oe_prefix) + alltrim(this.value) &lt;&gt; w_oe_no\n    default_del_date = {//}\n    default_del_po_no = \"\"\n    default_del_oc_no = \"\"\nENDIF\n\nSET EXACT ON\nIF w_oe_no &lt;&gt; alltrim(w_oe_prefix) + alltrim(this.value)\n    w_exact = .T.\nENDIF\nSET EXACT OFF\n\np_oe_no = alltrim(w_oe_prefix) + this.value\n\nIF w_exact = .T. AND empty(this.value) = .F.\n    thisform.label4.caption = \"Please Wait...............\"\n    w_oe_no = alltrim(w_oe_prefix) + alltrim(this.value)\n    strOeNo = alltrim(w_oe_prefix) + thisformset.form1.txtbox1.value\n    thisformset.requeryGrid(strOeNo)\n\n    IF !empty(voe1.oe_no)\n        * Load existing OE\n        wnewoe = .F.\n        w_oe_fr_date = voe1.from_date\n        w_oe_to_date = voe1.to_date\n        w_oe_date = voe1.date\n        w_cust_no = voe1.cust_no\n        thisform.txtbox2.value = w_cust_no\n        SELECT cust_no, ename FROM mcustom;\n            WHERE alltrim(cust_no) == alltrim(w_cust_no);\n            INTO CURSOR temp\n        thisform.txtbox4.value = temp.ename\n        * Load moehd record\n    ELSE\n        * New OE - check moectrl\n        SELECT moectrl\n        SET ORDER TO oe_no\n        SEEK alltrim(w_oe_prefix) + alltrim(this.value)\n        IF eof() OR moectrl.status_flag = 2\n            messagebox(\"Invalid OE No!\", 16, \"System Message!\")\n            return .f.\n        ENDIF\n        * Create moehd if needed\n        SELECT moehd\n        SET ORDER TO oe_no\n        SEEK alltrim(w_oe_prefix) + alltrim(this.value)\n        IF eof()\n            APPEND BLANK\n            REPLACE moehd.oe_no WITH alltrim(w_oe_prefix) + alltrim(this.value)\n        ENDIF\n        * Set audit fields\n    ENDIF\nENDIF\n\nthisform.label4.caption = \"\"\nTHISFORM.TXTBOX2.ENABLED = .F.\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#customer-validation-txtbox2valid","title":"Customer Validation (Txtbox2.Valid)","text":"<p>Rules: 1. Required Field:    - If not empty, must exist in <code>mcustom</code> table    - Error: \"Invalid Client No!\" if not found</p> <ol> <li>Auto-fill:</li> <li>If found, display customer name in Txtbox4</li> <li>If not found, clear Txtbox4</li> </ol> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF !empty(this.value)\n    SELECT mcustom\n    LOCATE FOR ALLTRIM(mcustom.cust_no) == ALLTRIM(this.value)\n    IF !FOUND()\n        Messagebox(\"Invalid Client No!\", 16, \"System Message!\")\n        thisform.txtbox4.value = \"\"\n        return .f.\n    ELSE\n        thisform.txtbox4.value = mcustom.ename\n    ENDIF\nELSE\n    thisform.txtbox4.value = \"\"\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#date-validation-txtbox10-txtbox11","title":"Date Validation (Txtbox10, Txtbox11)","text":"<p>Rules: 1. From Date (Txtbox10):    - Defaults to current date on GotFocus    - Must be &lt;= To Date if both filled</p> <ol> <li>To Date (Txtbox11):</li> <li>If empty, defaults to From Date</li> <li>Must be &gt;= From Date</li> <li>Error: \"Date Error!\" if To Date &lt; From Date</li> </ol> <p>Validation Code: <pre><code>PROCEDURE Txtbox11.Valid\nIF empty(this.value)\n    this.value = thisform.txtbox10.value\nELSE\n    IF thisform.txtbox10.value &gt; thisform.txtbox11.value\n        Messagebox(\"Date Error!\", 16, \"Date!\")\n        return .f.\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#grid-display-validation","title":"Grid Display Validation","text":"<p>Rules: 1. Quantity Mismatch Detection:    - Compare: <code>qty != brkQty AND BrkQty &gt; 0</code>    - Highlight mismatched quantities in red    - Show warning label if mismatches exist</p> <ol> <li>Dynamic Formatting:</li> <li>Background: Red (RGB(255,221,221)) for mismatches</li> <li>Foreground: Red (RGB(255,0,0)) for mismatches</li> <li>Normal: White background, black text</li> </ol>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-events","title":"Form Events","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#load-event","title":"Load Event","text":"<pre><code>PROCEDURE Load\nSET TALK OFF\nPUBLIC use_mcustom, temp_oe_no, temp_cust_no, w_oe_no, p_oe_no, w_oe_prefix\nSET HOUR TO 24\nSET SAFETY OFF\nSET CENTURY ON\nSET DELETED ON\nSET DATE MDY\n\ntemp_oe_no = space(10)\ntemp_cust_no = space(10)\nuse_mcustom = .F.\nIF used(\"mcustom\")\n    use_mcustom = .T.\nENDIF\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#init-event","title":"Init Event","text":"<pre><code>PROCEDURE Init\nPUBLIC check_change, record_point, w_cust_no, wnewoe, w_oe_no\nPUBLIC default_del_date, w_oe_no_for_del_date\nPUBLIC default_po_no, w_oe_no_for_po_no\nPUBLIC default_oc_no, w_oe_no_for_oc_no\nPUBLIC w_oe_fr_date, w_oe_to_date, click_ser, w_ser_oe_no\nPUBLIC w_fw_ref, w_cust_first_sd, w_cust_last_sd, w_fw_comment, w_oe_comment\n\nIF w_password = \"INSP\"\n    w_oe_prefix = \"IN-\"\nENDIF\n\nthisformset.form3.hide\nthisformset.form4.hide\nthisformset.form5.hide\nwnewoe = .F.\nclick_ser = .F.\nw_ser_oe_no = \"\"\n* ... initialize other variables ...\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#gotfocus-event","title":"GotFocus Event","text":"<pre><code>PROCEDURE GotFocus\nIF check_change &lt;&gt; 0\n    thisform.label4.caption = \"Please Wait...............\"\n    SELECT voe1\n    strOeNo = alltrim(w_oe_prefix) + alltrim(thisformset.form1.txtbox1.value)\n    thisformset.requeryGrid(strOeNo)\n    LOCATE FOR alltrim(item_no) == alltrim(record_point)\n    IF !found()\n        GO TOP\n    ENDIF\n\n    thisform.label4.caption = \"\"\n    check_change = 0\n    SELECT voe1\n    GO TOP\n\n    IF Empty(oe_no)\n        THISFORM.TXTBOX10.ENABLED = .T.\n        THISFORM.TXTBOX11.ENABLED = .T.\n        THISFORM.TXTBOX5.ENABLED = .T.\n        THISFORM.TXTBOX2.ENABLED = .T.\n    ELSE\n        THISFORM.TXTBOX5.ENABLED = .F.\n        THISFORM.TXTBOX10.ENABLED = .F.\n        THISFORM.TXTBOX11.ENABLED = .F.\n        THISFORM.TXTBOX2.ENABLED = .F.\n    ENDIF\nELSE\n    THISFORM.GRID1.REFRESH\n    thisform.refresh\nENDIF\n\nIF click_ser = .T.\n    click_ser = .F.\n    thisform.txtbox1.value = w_ser_oe_no\n    thisform.txtbox1.valid\nENDIF\ndodefault()\nthisform.refresh\nENDPROC\n</code></pre>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#related-forms","title":"Related Forms","text":"<ul> <li>ioe2 - Item entry form (called from Add Item button)</li> <li>zseroe - OE search form (called from Search button)</li> <li>uordcont - Update OC/Contract program (called from Command5)</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#related-tables","title":"Related Tables","text":"<ul> <li>moe - OE items table</li> <li>moehd - OE header table</li> <li>moectrl - OE control table</li> <li>mqtybrk - Quantity breakdown table</li> <li>moebom - OE BOM table</li> <li>moermk - OE remarks table</li> <li>mcustom - Customer master table</li> <li>mitem - Item master table</li> <li>mitemven - Item-Vendor relationship table</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-ioectrl-input-oe-control","title":"Form: ioectrl (Input OE Control)","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>ioectrl</code></li> <li>File: <code>source/ioectrl.scx</code> / <code>source/ioectrl.SCT</code></li> <li>Purpose: Create and maintain OE Control records</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open OE Control Form]) --&gt; Load[Form Load Event]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables]\n    Init --&gt; Display[Display Form&lt;br/&gt;OE Control Entry]\n\n    Display --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Add| AddMode[Click Add Button]\n    UserAction --&gt;|Edit| EditMode[Click Edit Button]\n    UserAction --&gt;|Delete| DeleteMode[Click Delete Button]\n\n    AddMode --&gt; EnterOENo[User Enters OE Number]\n    EnterOENo --&gt; ValidateOENo{OE No&lt;br/&gt;Entered?}\n    ValidateOENo --&gt;|No| ShowError1[Show Error&lt;br/&gt;OE No Required]\n    ShowError1 --&gt; AddMode\n    ValidateOENo --&gt;|Yes| CheckDuplicate[SELECT moectrl&lt;br/&gt;SEEK oe_no]\n\n    CheckDuplicate --&gt; DuplicateFound{OE Control&lt;br/&gt;Exists?}\n    DuplicateFound --&gt;|Yes| ShowError2[Show Error&lt;br/&gt;OE Control Already Exists]\n    ShowError2 --&gt; AddMode\n    DuplicateFound --&gt;|No| EnterCustomer[User Enters Customer]\n\n    EnterCustomer --&gt; ValidateCustomer{Customer&lt;br/&gt;Exists in&lt;br/&gt;mcustom?}\n    ValidateCustomer --&gt;|No| ShowError3[Show Error&lt;br/&gt;Customer Not Found]\n    ShowError3 --&gt; EnterCustomer\n    ValidateCustomer --&gt;|Yes| EnterOEDate[User Enters OE Date]\n    EnterOEDate --&gt; SaveOECtrl[APPEND BLANK to moectrl&lt;br/&gt;REPLACE oe_no, cust_no&lt;br/&gt;oe_date, status&lt;br/&gt;cre_date, cre_user]\n    SaveOECtrl --&gt; RefreshForm\n\n    EditMode --&gt; LoadOECtrl[Load OE Control Record]\n    LoadOECtrl --&gt; ModifyFields[User Modifies Fields]\n    ModifyFields --&gt; ValidateChanges{Changes&lt;br/&gt;Valid?}\n    ValidateChanges --&gt;|No| ShowError4[Show Validation Error]\n    ShowError4 --&gt; ModifyFields\n    ValidateChanges --&gt;|Yes| UpdateOECtrl[REPLACE fields&lt;br/&gt;REPLACE mod_date, mod_user]\n    UpdateOECtrl --&gt; RefreshForm\n\n    DeleteMode --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete?}\n    ConfirmDelete --&gt;|Yes| DeleteOECtrl[DELETE Record]\n    DeleteOECtrl --&gt; RefreshForm\n\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#validation-rules_1","title":"Validation Rules","text":"<ol> <li>OE Number:</li> <li>Required field</li> <li> <p>Must be unique in <code>moectrl</code> table</p> </li> <li> <p>Customer:</p> </li> <li>Must exist in <code>mcustom</code> table</li> <li> <p>Validated before saving</p> </li> <li> <p>Status:</p> </li> <li>status_flag = 0 (Active)</li> <li>status_flag = 2 (Invalid - prevents OE creation)</li> </ol>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-iqtybrk2-input-qty-breakdown","title":"Form: iqtybrk2 (Input Qty Breakdown)","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>iqtybrk2</code></li> <li>Purpose: Enter quantity breakdowns by PO number</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#process-flow_1","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Qty Breakdown Form]) --&gt; SelectOE[User Selects OE]\n    SelectOE --&gt; ValidateOE{OE&lt;br/&gt;Exists?}\n    ValidateOE --&gt;|No| ShowError[Show Error]\n    ValidateOE --&gt;|Yes| LoadOEItems[Load OE Items&lt;br/&gt;from moe]\n    LoadOEItems --&gt; SelectItem[User Selects Item]\n    SelectItem --&gt; EnterPO[User Enters PO Number]\n    EnterPO --&gt; EnterQty[User Enters Breakdown Qty]\n    EnterQty --&gt; ValidateQty{Qty &lt;=&lt;br/&gt;Total Qty?}\n    ValidateQty --&gt;|No| ShowQtyError[Show Error&lt;br/&gt;Qty Exceeds Total]\n    ValidateQty --&gt;|Yes| SaveBreakdown[APPEND to mqtybrk&lt;br/&gt;REPLACE oe_no, item_no&lt;br/&gt;po_no, qty]\n    SaveBreakdown --&gt; RefreshForm\n    RefreshForm --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#validation-rules_2","title":"Validation Rules","text":"<ol> <li>Quantity Validation:</li> <li>Breakdown quantity must not exceed total OE quantity</li> <li> <p>Sum of breakdowns should match total quantity</p> </li> <li> <p>PO Number:</p> </li> <li>Can be empty or have value</li> <li>Used for grouping breakdowns</li> </ol>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#other-order-enquiry-forms","title":"Other Order Enquiry Forms","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#enquiry-forms","title":"Enquiry Forms","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#eoectrl-oe-control-enquiry","title":"eoectrl (OE Control Enquiry)","text":"<ul> <li>Purpose: Search and view OE Control records</li> <li>Process: Query <code>moectrl</code> table with filters</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#eoeact-oe-activity-enquiry","title":"eoeact (OE Activity Enquiry)","text":"<ul> <li>Purpose: View OE activity and status</li> <li>Process: Aggregate OE data by activity</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#eoerecord-oe-record-enquiry","title":"eoerecord (OE Record Enquiry)","text":"<ul> <li>Purpose: View OE records and details</li> <li>Process: Query and display OE information</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#eoebypo-oe-enquiry-by-po","title":"eoebypo (OE Enquiry By PO)","text":"<ul> <li>Purpose: Search OEs by PO number</li> <li>Process: Query <code>moe</code> table filtered by PO</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#import-forms","title":"Import Forms","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#uoexls-import-oe-from-excel","title":"uoexls (Import OE from Excel)","text":"<ul> <li>Purpose: Standard Excel import</li> <li>Process: Read Excel file, validate, import to <code>moe</code></li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#uoexls_2013-import-oe-2013-csv","title":"uoexls_2013 (Import OE 2013 CSV)","text":"<ul> <li>Purpose: Import 2013 CSV format</li> <li>Complexity: Most complex (1,747 lines in .prg)</li> <li>Process: Dynamic field detection, validation, import</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#uoexls_2013_xls-import-oe-2013-xls","title":"uoexls_2013_xls (Import OE 2013 XLS)","text":"<ul> <li>Purpose: Import 2013 XLS format</li> <li>Process: Similar to CSV but handles XLS structure</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#unewoexls-import-oe-new-format","title":"unewoexls (Import OE New Format)","text":"<ul> <li>Purpose: Import new Excel format</li> <li>Process: Updated import logic for new format</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#uwalxls-import-oe-walmart","title":"uwalxls (Import OE Walmart)","text":"<ul> <li>Purpose: Import Walmart-specific format</li> <li>Process: Custom format handling for Walmart</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#uoexls2-import-oe-multi-item-block","title":"uoexls2 (Import OE Multi Item Block)","text":"<ul> <li>Purpose: Import multi-item block format</li> <li>Process: Handles grouped item blocks</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#print-forms","title":"Print Forms","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#pordenq2-print-order-enquiry","title":"pordenq2 (Print Order Enquiry)","text":"<ul> <li>Purpose: Print OE document</li> <li>Process: Generate report from <code>moe</code> and <code>moehd</code></li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#poedoc-print-oe-doc","title":"poedoc (Print OE Doc)","text":"<ul> <li>Purpose: Print OE, OC, or Contract document</li> <li>Process: Multi-document printing</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#ppobrk-print-oe-qty-breakdown","title":"ppobrk (Print OE Qty Breakdown)","text":"<ul> <li>Purpose: Print quantity breakdown report</li> <li>Process: Aggregate and format <code>mqtybrk</code> data</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#utility-forms","title":"Utility Forms","text":""},{"location":"source/04-forms-and-screens/order-enquiry-forms/#zoexls_batch-export-oe-to-xls","title":"zoexls_batch (Export OE to XLS)","text":"<ul> <li>Purpose: Batch export OEs to Excel</li> <li>Process: Select OEs, export to Excel format</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#ioedeldate-input-oe-shipment-status","title":"ioedeldate (Input OE Shipment Status)","text":"<ul> <li>Purpose: Update OE shipment dates</li> <li>Process: Update delivery dates in OE records</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#ichangecustno-change-customer-no","title":"ichangecustno (Change Customer No)","text":"<ul> <li>Purpose: Change customer number across documents</li> <li>Process: Update customer in OE, OC, Contract, etc.</li> </ul>"},{"location":"source/04-forms-and-screens/order-enquiry-forms/#summary","title":"Summary","text":"<p>Order Enquiry forms provide comprehensive OE management: - ioe1@ - Main OE entry form (most complex) - ioectrl - OE Control management - iqtybrk2 - Quantity breakdown entry - Multiple import forms for various Excel formats - Enquiry forms for searching and viewing OEs - Print forms for document generation</p> <p>The forms include extensive validation, business logic, and integration with the transaction workflow.</p>"},{"location":"source/04-forms-and-screens/report-forms/","title":"Report Forms","text":""},{"location":"source/04-forms-and-screens/report-forms/#overview","title":"Overview","text":"<p>Report forms generate printed reports and Excel exports for business analysis and documentation. These forms query data, format output, and generate documents.</p>"},{"location":"source/04-forms-and-screens/report-forms/#form-pocqty-oc-qty-pricing-report","title":"Form: pocqty (OC Qty &amp; Pricing Report)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>pocqty</code></li> <li>Purpose: Generate OC quantity and pricing report</li> <li>Process: Query <code>mordhd</code> and <code>morddt</code>, format report</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-pordbyitem-order-report-by-item","title":"Form: pordbyitem (Order Report By Item)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>pordbyitem</code></li> <li>Purpose: Generate order report grouped by item</li> <li>Process: Aggregate order data by item</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-psabycust-sales-report-by-customer","title":"Form: psabycust (Sales Report By Customer)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>psabycust</code></li> <li>Purpose: Generate sales report by customer</li> <li>Process: Aggregate sales data by customer</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-pitem-item-detail-report","title":"Form: pitem (Item Detail Report)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>pitem</code></li> <li>Purpose: Generate item detail report</li> <li>Process: Query <code>mitem</code> table, format report</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-pitemsum-item-bought-excel","title":"Form: pitemsum (Item Bought Excel)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>pitemsum</code></li> <li>Purpose: Export item purchase data to Excel</li> <li>Process: Query item purchase data, export to Excel</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-pitemmeas-item-measurement-excel","title":"Form: pitemmeas (Item Measurement Excel)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_5","title":"Form Details","text":"<ul> <li>Form Name: <code>pitemmeas</code></li> <li>Purpose: Export item measurements to Excel</li> <li>Process: Query item measurement data, export to Excel</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-poe_08_10-oe-list-08-10","title":"Form: poe_08_10 (OE LIST 08-10)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_6","title":"Form Details","text":"<ul> <li>Form Name: <code>poe_08_10</code></li> <li>Purpose: Generate OE list for date range 08-10</li> <li>Process: Query OEs in date range, format report</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-pinv_08_10-inv-list-08-10","title":"Form: pinv_08_10 (INV LIST 08-10)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_7","title":"Form Details","text":"<ul> <li>Form Name: <code>pinv_08_10</code></li> <li>Purpose: Generate invoice list for date range 08-10</li> <li>Process: Query invoices in date range, format report</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-psabydt-sales-analysis-by-customer","title":"Form: psabydt (Sales Analysis By Customer)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_8","title":"Form Details","text":"<ul> <li>Form Name: <code>psabydt</code></li> <li>Purpose: Sales analysis report by customer</li> <li>Process: Aggregate and format sales data</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-psabyitem-sales-analysis-by-customer-item-no","title":"Form: psabyitem (Sales Analysis By Customer, Item No.)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_9","title":"Form Details","text":"<ul> <li>Form Name: <code>psabyitem</code></li> <li>Purpose: Sales analysis by customer and item</li> <li>Process: Aggregate sales data by customer and item</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-polbymk-order-list-by-maker","title":"Form: polbymk (Order List By Maker)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_10","title":"Form Details","text":"<ul> <li>Form Name: <code>polbymk</code></li> <li>Purpose: Generate order list grouped by maker</li> <li>Process: Query orders, group by maker/vendor</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-itemlist_by_oe-item-list-by-oe-date","title":"Form: itemlist_by_oe (Item List By OE Date)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_11","title":"Form Details","text":"<ul> <li>Form Name: <code>itemlist_by_oe</code></li> <li>Purpose: Generate item list filtered by OE date</li> <li>Process: Query items by OE date range</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-psm_to_xls-print-shipmark-to-xls","title":"Form: psm_to_xls (Print Shipmark to XLS)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_12","title":"Form Details","text":"<ul> <li>Form Name: <code>psm_to_xls</code></li> <li>Purpose: Export shipmark data to Excel</li> <li>Process: Query shipmark data, export to Excel</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#form-isetcont_test-contract-speed-check","title":"Form: isetcont@@_test (Contract Speed Check)","text":""},{"location":"source/04-forms-and-screens/report-forms/#form-details_13","title":"Form Details","text":"<ul> <li>Form Name: <code>isetcont@@_test</code></li> <li>Purpose: Contract speed check/test report</li> <li>Process: Performance testing for contract processing</li> </ul>"},{"location":"source/04-forms-and-screens/report-forms/#summary","title":"Summary","text":"<p>Report forms provide comprehensive reporting capabilities: - pocqty - OC quantity and pricing reports - pordbyitem - Order reports by item - psabycust - Sales reports by customer - pitem - Item detail reports - pitemsum, pitemmeas - Item data exports - poe_08_10, pinv_08_10 - Date range lists - psabydt, psabyitem - Sales analysis reports - polbymk - Order lists by maker - itemlist_by_oe - Item lists by OE date - psm_to_xls - Shipmark exports - isetcont@@_test - Contract testing</p> <p>The forms include query logic, data aggregation, formatting, and Excel export capabilities.</p>"},{"location":"source/04-forms-and-screens/shipping-order-forms/","title":"Shipping Order Forms","text":""},{"location":"source/04-forms-and-screens/shipping-order-forms/#overview","title":"Overview","text":"<p>Shipping Order (SO) forms handle the creation and management of shipping orders from contracts. SOs define what will be shipped and are used for delivery note and invoice generation.</p>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-isetso-input-shipping-order","title":"Form: isetso (Input Shipping Order)","text":""},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>isetso</code></li> <li>File: <code>source/isetso.scx</code> / <code>source/isetso.SCT</code></li> <li>Type: Formset with multiple forms</li> <li>Purpose: Create and manage shipping orders</li> </ul>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open SO Form]) --&gt; Load[Form Load Event&lt;br/&gt;Initialize Variables]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables&lt;br/&gt;w_conf_no = \"\"]\n    Init --&gt; Display[Display Form&lt;br/&gt;SO Entry Form]\n\n    Display --&gt; UserEntersOC[User Enters OC Number&lt;br/&gt;conf_no]\n    UserEntersOC --&gt; ValidateOC{OC&lt;br/&gt;Exists?}\n    ValidateOC --&gt;|No| ShowError[Show Error&lt;br/&gt;OC Not Found]\n    ValidateOC --&gt;|Yes| LoadOCItems[Load OC Items&lt;br/&gt;SELECT morddt&lt;br/&gt;WHERE conf_no]\n\n    LoadOCItems --&gt; LoadContractItems[Load Contract Items&lt;br/&gt;SELECT mcontdt&lt;br/&gt;WHERE conf_no]\n    LoadContractItems --&gt; LoadExistingSO[Load Existing SO&lt;br/&gt;SELECT mso&lt;br/&gt;WHERE conf_no]\n\n    LoadExistingSO --&gt; BuildGrid[Call ugrid Method&lt;br/&gt;Build SO Grid]\n\n    BuildGrid --&gt; PopulateGrid1[Populate Grid1&lt;br/&gt;Contract Items&lt;br/&gt;wsetcontgrid1]\n    PopulateGrid1 --&gt; PopulateGrid2[Populate Grid2&lt;br/&gt;SO Items&lt;br/&gt;wsetcontgrid2]\n    PopulateGrid2 --&gt; DisplayGrid[Display Grids&lt;br/&gt;Show Available vs&lt;br/&gt;Already Shipped]\n\n    DisplayGrid --&gt; UserAction{User&lt;br/&gt;Action?}\n\n    UserAction --&gt;|Select Items| SelectItems[User Selects Items&lt;br/&gt;from Grid1]\n    UserAction --&gt;|Create SO| CreateSO[Click Create SO Button]\n    UserAction --&gt;|Edit SO| EditSO[Click Edit SO Button]\n\n    SelectItems --&gt; ValidateSelection{Items&lt;br/&gt;Selected?}\n    ValidateSelection --&gt;|No| ShowError1[Show Error&lt;br/&gt;No Items Selected]\n    ValidateSelection --&gt;|Yes| CalculateQty[Calculate Quantities&lt;br/&gt;Check Available Qty]\n\n    CalculateQty --&gt; CheckAvailable{Qty&lt;br/&gt;Available?}\n    CheckAvailable --&gt;|No| ShowError2[Show Error&lt;br/&gt;Insufficient Quantity]\n    CheckAvailable --&gt;|Yes| CreateSO\n\n    CreateSO --&gt; ValidateSO{SO Number&lt;br/&gt;Entered?}\n    ValidateSO --&gt;|No| ShowError3[Show Error&lt;br/&gt;SO No Required]\n    ValidateSO --&gt;|Yes| CreateSORecords[Create SO Records&lt;br/&gt;APPEND to mso&lt;br/&gt;For Each Selected Item]\n\n    CreateSORecords --&gt; UpdateQuantities[Update Quantities&lt;br/&gt;Calculate LCL, FCL&lt;br/&gt;LOG quantities]\n    UpdateQuantities --&gt; ShowSuccess[Show Success Message]\n    ShowSuccess --&gt; RefreshGrid[Refresh Grid&lt;br/&gt;Call ugrid Method]\n\n    RefreshGrid --&gt; DisplayGrid</code></pre>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#ugrid-method","title":"ugrid Method","text":"<p>Purpose: Populate SO grids with contract and SO items</p> <p>Process: 1. Load existing SO items from <code>mso</code> 2. Load contract items from <code>mcontdt</code> 3. Calculate available quantities 4. Populate Grid1 (contract items) 5. Populate Grid2 (SO items)</p>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-isetsodt-so-detail","title":"Form: isetsodt (SO Detail)","text":""},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>isetsodt</code></li> <li>Purpose: SO detail item entry</li> <li>Called From: SO header form</li> </ul>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-pso-print-shipping-order","title":"Form: pso (Print Shipping Order)","text":""},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>pso</code></li> <li>Purpose: Print shipping order document</li> <li>Process: Generate report from <code>mso</code> table</li> </ul>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-isoformat-input-so-format","title":"Form: isoformat (Input SO Format)","text":""},{"location":"source/04-forms-and-screens/shipping-order-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>isoformat</code></li> <li>Purpose: Configure SO format settings</li> <li>Process: Maintain SO format parameters</li> </ul>"},{"location":"source/04-forms-and-screens/shipping-order-forms/#summary","title":"Summary","text":"<p>Shipping Order forms provide: - isetso - SO creation from contracts - isetsodt - SO detail item entry - pso - SO document printing - isoformat - SO format configuration</p> <p>The forms include quantity validation, LCL/FCL calculations, and integration with delivery note workflow.</p>"},{"location":"source/04-forms-and-screens/utility-forms/","title":"Utility Forms","text":""},{"location":"source/04-forms-and-screens/utility-forms/#overview","title":"Overview","text":"<p>Utility forms provide data conversion, import/export, and system maintenance functions. These forms handle data migration, cleanup, and utility operations.</p>"},{"location":"source/04-forms-and-screens/utility-forms/#form-zdel_data-delete-data","title":"Form: zdel_data (Delete Data)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details","title":"Form Details","text":"<ul> <li>Form Name: <code>zdel_data</code></li> <li>Purpose: Delete data from tables</li> <li>Process: Provide interface for data deletion with confirmation</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#process-flow","title":"Process Flow","text":"<pre><code>flowchart TD\n    Start([Open Delete Data Form]) --&gt; Load[Form Load Event]\n    Load --&gt; Init[Form Init Event&lt;br/&gt;Initialize Variables]\n    Init --&gt; Display[Display Form&lt;br/&gt;Data Selection]\n\n    Display --&gt; UserSelectsData[User Selects Data Type&lt;br/&gt;OE, OC, Contract, etc.]\n    UserSelectsData --&gt; UserSelectsRange[User Selects Date Range&lt;br/&gt;or Other Criteria]\n    UserSelectsRange --&gt; ConfirmDelete{Confirm&lt;br/&gt;Delete?}\n\n    ConfirmDelete --&gt;|No| Display\n    ConfirmDelete --&gt;|Yes| DeleteData[DELETE FROM table&lt;br/&gt;WHERE criteria&lt;br/&gt;PACK]\n\n    DeleteData --&gt; ShowSuccess[Show Success Message]\n    ShowSuccess --&gt; Display</code></pre>"},{"location":"source/04-forms-and-screens/utility-forms/#form-zvencon-vendor-code-conversion","title":"Form: zvencon (Vendor Code Conversion)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_1","title":"Form Details","text":"<ul> <li>Form Name: <code>zvencon</code></li> <li>Purpose: Convert vendor codes</li> <li>Process: Update vendor codes across all documents</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-zdr_so_conv-data-conv-dr-so","title":"Form: zdr_so_conv (Data Conv - DR SO)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_2","title":"Form Details","text":"<ul> <li>Form Name: <code>zdr_so_conv</code></li> <li>Purpose: Data conversion for DR SO</li> <li>Process: Convert SO data format</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-zdr_dn_conv-data-conv-dr-dn","title":"Form: zdr_dn_conv (Data Conv - DR DN)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_3","title":"Form Details","text":"<ul> <li>Form Name: <code>zdr_dn_conv</code></li> <li>Purpose: Data conversion for DR DN</li> <li>Process: Convert DN data format</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-zchange_item-data-conv-change-item-no","title":"Form: zchange_item (Data Conv - Change Item No.)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_4","title":"Form Details","text":"<ul> <li>Form Name: <code>zchange_item</code></li> <li>Purpose: Change item numbers across all documents</li> <li>Process: Update item numbers in OE, OC, Contract, SO, DN, Invoice</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-uimport_item-import-item","title":"Form: uimport_item (Import Item)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_5","title":"Form Details","text":"<ul> <li>Form Name: <code>uimport_item</code></li> <li>Purpose: Import items from external source</li> <li>Process: Read source file, validate, import to <code>mitem</code></li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-uimport_hts-import-hts","title":"Form: uimport_HTS (Import HTS)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_6","title":"Form Details","text":"<ul> <li>Form Name: <code>uimport_HTS</code></li> <li>Purpose: Import HTS codes</li> <li>Process: Read HTS file, import to item records</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-uimport_upc-import-upc","title":"Form: uimport_upc (Import UPC)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_7","title":"Form Details","text":"<ul> <li>Form Name: <code>uimport_upc</code></li> <li>Purpose: Import UPC codes</li> <li>Process: Read UPC file, import to item records</li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-uqty_breakdown-import-qty-breakdown-csv","title":"Form: uqty_breakdown (Import Qty Breakdown CSV)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_8","title":"Form Details","text":"<ul> <li>Form Name: <code>uqty_breakdown</code></li> <li>Purpose: Import quantity breakdowns from CSV</li> <li>Process: Read CSV file, validate, import to <code>mqtybrk</code></li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#form-uqty_breakdown_xls-import-qty-breakdown-xls","title":"Form: uqty_breakdown_xls (Import Qty Breakdown XLS)","text":""},{"location":"source/04-forms-and-screens/utility-forms/#form-details_9","title":"Form Details","text":"<ul> <li>Form Name: <code>uqty_breakdown_xls</code></li> <li>Purpose: Import quantity breakdowns from Excel</li> <li>Process: Read Excel file, validate, import to <code>mqtybrk</code></li> </ul>"},{"location":"source/04-forms-and-screens/utility-forms/#summary","title":"Summary","text":"<p>Utility forms provide system maintenance and data conversion: - zdel_data - Data deletion - zvencon - Vendor code conversion - zdr_so_conv, zdr_dn_conv - Data format conversion - zchange_item - Item number change - uimport_item - Item import - uimport_HTS, uimport_upc - Code imports - uqty_breakdown, uqty_breakdown_xls - Quantity breakdown imports</p> <p>The forms include validation, error handling, and data integrity checks.</p>"},{"location":"source/04-forms-and-screens/validation-catalog/","title":"Validation Rules Catalog","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#overview","title":"Overview","text":"<p>This document catalogs all validation rules found in form <code>Valid</code> event handlers across the system. Validation ensures data integrity and business rule compliance.</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#validation-types","title":"Validation Types","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#1-field-level-validation","title":"1. Field-Level Validation","text":"<p>Validates individual field values against rules.</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#2-cross-field-validation","title":"2. Cross-Field Validation","text":"<p>Validates relationships between multiple fields.</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#3-database-validation","title":"3. Database Validation","text":"<p>Validates against existing database records.</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#4-business-rule-validation","title":"4. Business Rule Validation","text":"<p>Validates business logic and workflow rules.</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#validation-rules-by-form","title":"Validation Rules by Form","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#authentication-forms","title":"Authentication Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#ilogon-login-form","title":"ilogon (Login Form)","text":"<p>Field: Password - Rule: Password must match encrypted value in <code>muser</code> - Error: \"Invalid Password\" - Location: <code>check</code> method</p> <p>Field: Company Selection - Rule: Company code must exist in <code>mcomp</code> - Error: \"Invalid Company\"</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#master-data-forms","title":"Master Data Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#iitem-input-item-detail","title":"iitem (Input Item Detail)","text":"<p>Field: Item Number - Rule: Must be unique in <code>mitem</code> table - Error: \"Item Number Already Exists\" - Location: <code>Txtbox1.Valid</code></p> <p>Field: Price - Rule: Must be &gt;= 0 - Error: \"Price Must Be Positive\"</p> <p>Field: Cost - Rule: Must be &gt;= 0 - Error: \"Cost Must Be Positive\"</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#icustom-input-customer","title":"icustom (Input Customer)","text":"<p>Field: Customer Number - Rule: Must be unique in <code>mcustom</code> table - Error: \"Customer Number Already Exists\" - Location: <code>Txtbox1.Valid</code></p> <p>Field: Customer Name - Rule: Must not be empty - Error: \"Customer Name Required\"</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#ivendor-input-vendor","title":"ivendor (Input Vendor)","text":"<p>Field: Vendor Number - Rule: Must be unique in <code>mvendor</code> table - Error: \"Vendor Number Already Exists\" - Location: <code>Txtbox1.Valid</code></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#order-enquiry-forms","title":"Order Enquiry Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#ioe1-input-order-enquiry","title":"ioe1@ (Input Order Enquiry)","text":"<p>Field: OE Number - Rule: Must be unique in <code>moehd</code> table - Error: \"OE Number Already Exists\" - Location: <code>Txtbox1.Valid</code></p> <p>Field: Customer - Rule: Must exist in <code>mcustom</code> table - Error: \"Customer Not Found\" - Location: <code>Combofield1.Valid</code></p> <p>Field: Item Number - Rule: Must exist in <code>mitem</code> table - Error: \"Item Not Found\" - Location: Item entry form</p> <p>Field: Quantity - Rule: Must be &gt; 0 - Error: \"Quantity Must Be Greater Than Zero\" - Location: <code>Txtbox5.Valid</code></p> <p>Field: Price - Rule: Must be &gt;= 0 - Error: \"Price Must Be Positive\"</p> <p>Cross-Field: Date Range - Rule: <code>to_date</code> must be &gt;= <code>from_date</code> - Error: \"To Date Must Be &gt;= From Date\" - Location: <code>Txtbox3.Valid</code> (to_date)</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#order-confirmation-forms","title":"Order Confirmation Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#upostoe-post-oepost-oc","title":"upostoe (Post OE/Post OC)","text":"<p>Pre-Posting Validation: - Rule: At least one OE must be selected - Error: \"No OEs Selected\" - Location: <code>Command1.Click</code></p> <ul> <li>Rule: OE must not already be posted (status = 0)</li> <li>Error: \"OE Already Posted\"</li> <li> <p>Location: Posting loop</p> </li> <li> <p>Rule: OE must have items in <code>moe</code> table</p> </li> <li>Error: \"OE Has No Items\"</li> <li>Location: Posting loop</li> </ul>"},{"location":"source/04-forms-and-screens/validation-catalog/#iordhd-input-order-confirmation","title":"iordhd (Input Order Confirmation)","text":"<p>Field: OC Number - Rule: Format validation based on company:   - HT: \"HT-OC/\" + 10 characters   - BAT: \"BTL-\" + 12 characters   - HFW: \"HFW-OC/\" + 12 characters   - INSP: \"IN-OC/\" + 10 characters - Error: \"Invalid OC Number Format\" - Location: <code>Txtbox1.Valid</code></p> <p>Field: Customer - Rule: Must exist in <code>mcustom</code> table - Error: \"Customer Not Found\" - Location: <code>Combofield1.Valid</code></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#contract-forms","title":"Contract Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#iconthd_2018-contract-header","title":"iconthd_2018 (Contract Header)","text":"<p>Cross-Field: Date Range - Rule: Both <code>req_date_f</code> and <code>req_date_t</code> must be empty, or both must be filled - Error: \"Invalid Date !\" (if one empty, other filled) - Location: <code>Txtbox8.Valid</code></p> <ul> <li>Rule: <code>req_date_t</code> must be &gt;= <code>req_date_f</code></li> <li>Error: \"Invalid Date !\" (if To Date &lt; From Date)</li> <li>Location: <code>Txtbox8.Valid</code></li> </ul> <p>Validation Code: <pre><code>PROCEDURE Txtbox8.Valid\nIF empty(thisform.txtbox7.value) AND !empty(thisform.txtbox8.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox7.value) AND empty(thisform.txtbox8.value)\n    Messagebox(\"Invalid Date !\", 16, \"Error!\")\n    return .f.\nENDIF\n\nIF !empty(thisform.txtbox7.value) OR !empty(thisform.txtbox8.value)\n    IF this.value &lt; thisform.txtbox7.value\n        Messagebox(\"Invalid Date !\", 16, \"System Message!\")\n        this.value = {//}\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#isetcont_2018-input-contract-2018-fast","title":"isetcont@@_2018 (Input Contract 2018 Fast)","text":"<p>Field: Contract Number - Rule: Format validation based on company:   - HT/HFW/INSP: <code>w_po_head1 + Txtbox1.value</code>   - BAT: <code>w_po_head1 + \"-\" + Txtbox1.value</code> - Error: \"Invalid Contract Number Format\"</p> <p>Field: OC Number - Rule: Must exist in <code>mordhd</code> table - Error: \"OC Not Found\" - Location: <code>Txtbox2.Valid</code></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#shipping-order-forms","title":"Shipping Order Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#isetso-input-shipping-order","title":"isetso (Input Shipping Order)","text":"<p>Field: SO Number - Rule: Must be unique in <code>mso</code> table - Error: \"SO Number Already Exists\"</p> <p>Field: OC Number - Rule: Must exist in <code>mordhd</code> table - Error: \"OC Not Found\"</p> <p>Cross-Field: Quantity - Rule: SO quantity must not exceed Contract quantity - Error: \"Insufficient Contract Quantity\" - Location: SO creation logic</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#delivery-note-forms","title":"Delivery Note Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#idn-input-dn","title":"idn (Input D/N)","text":"<p>Field: DN Number - Rule: Must be unique in <code>mdnhd</code> table - Error: \"DN Number Already Exists\"</p> <p>Field: Customer - Rule: Must exist in <code>mcustom</code> table - Error: \"Customer Not Found\" - Location: <code>cboCustCode.Valid</code></p> <p>Cross-Field: Date Range - Rule: <code>txtToDate</code> must be &gt;= <code>txtFromDate</code> - Error: \"To Date Must Be &gt;= From Date\" - Location: <code>txtToDate.Valid</code></p> <p>Cross-Field: Quantity - Rule: DN quantity must not exceed SO quantity - Error: \"Insufficient SO Quantity\" - Location: DN creation logic</p>"},{"location":"source/04-forms-and-screens/validation-catalog/#invoice-forms","title":"Invoice Forms","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#iinvdt2-input-invoice-detail-new","title":"iinvdt2@ (Input Invoice Detail New)","text":"<p>Field: Invoice Number - Rule: Must exist in <code>minvhd</code> table - Error: \"Invoice Not Found\" - Location: Form Init</p> <p>Cross-Field: Date Range - Rule: Both <code>inv_dt_fr_date</code> and <code>inv_dt_to_date</code> must be empty, or both must be filled - Error: \"Invalid Date !\" (if one empty, other filled) - Location: <code>Txtbox5.Valid</code></p> <ul> <li>Rule: <code>inv_dt_to_date</code> must be &gt;= <code>inv_dt_fr_date</code></li> <li>Error: \"Invalid Date !\" (if To Date &lt; From Date)</li> <li>Location: <code>Txtbox5.Valid</code></li> </ul> <p>Field: Quantity (Txtbox5) - Rule: Invoice quantity should match SO quantity - Warning: \"Qty. not Match With Shipping Order Qty.! Continue?\" - Action: User can override with confirmation - Location: <code>Txtbox5.Valid</code></p> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF in_qty &lt;&gt; this.value\n    SELECT mso\n    LOCATE FOR alltrim(mso.conf_no) == alltrim(vinvdtform2.conf_no);\n        AND alltrim(mso.item_no) == alltrim(vinvdtform2.item_no)\n    IF found()\n        IF mso.qty &lt;&gt; this.value\n            IF messagebox(\"Qty. not Match With Shipping Order Qty.!\" +;\n                chr(10) + \"Continue?\", 64+4, \"System Message!\") = 6\n                * User confirmed, allow override\n            ELSE\n                return .f.\n            ENDIF\n        ENDIF\n    ENDIF\nENDIF\nthisform.txtbox7.value = round(this.value * thisform.txtbox6.value, 2)\nENDPROC\n</code></pre></p> <p>Field: Carton (Txtbox4) - Rule: Invoice carton should match SO carton - Warning: \"Carton no not Match With Shipping Order Carton no.! Continue?\" - Action: User can override with confirmation - Location: <code>Txtbox4.Valid</code></p> <p>Validation Code: <pre><code>PROCEDURE Valid\nIF in_ctn &lt;&gt; this.value\n    SELECT mso\n    LOCATE FOR alltrim(mso.conf_no) == alltrim(vinvdtform2.conf_no);\n        AND alltrim(mso.item_no) == alltrim(vinvdtform2.item_no)\n    IF found()\n        IF mso.ctn &lt;&gt; this.value\n            IF messagebox(\"Carton no not Match With Shipping Order Carton no.!\" +;\n                chr(10) + \"Continue?\", 64+4, \"System Message!\") = 6\n                * User confirmed, allow override\n            ELSE\n                return .f.\n            ENDIF\n        ENDIF\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p> <p>Field: Price - Rule: Must be &gt;= 0 - Error: \"Price Must Be Positive\" - Location: <code>Txtbox6.Valid</code></p> <p>Field: Amount - Rule: Auto-calculated: <code>amount = round(qty * price, 2)</code> - Location: <code>Txtbox5.Valid</code>, <code>Txtbox6.Valid</code></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#iinvhd-input-invoice-header","title":"iinvhd@ (Input Invoice Header)","text":"<p>Field: Invoice Number - Rule: Must be unique in <code>minvhd</code> table - Error: \"Invoice Number Already Exists\" - Location: <code>Txtbox1.Valid</code></p> <p>Field: Customer - Rule: Must exist in <code>mcustom</code> table - Error: \"Customer Not Found\" - Location: <code>Combofield1.Valid</code></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#common-validation-patterns","title":"Common Validation Patterns","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#1-uniqueness-validation","title":"1. Uniqueness Validation","text":"<p>Pattern: <pre><code>PROCEDURE Valid\nSELECT table\nLOCATE FOR alltrim(field) == alltrim(this.value)\nIF found() AND recno() &lt;&gt; thisform.old_recno\n    Messagebox(\"Field Already Exists\", 16, \"Error!\")\n    return .f.\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#2-existence-validation","title":"2. Existence Validation","text":"<p>Pattern: <pre><code>PROCEDURE Valid\nSELECT master_table\nSEEK this.value\nIF !found()\n    Messagebox(\"Field Not Found\", 16, \"Error!\")\n    return .f.\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#3-range-validation","title":"3. Range Validation","text":"<p>Pattern: <pre><code>PROCEDURE Valid\nIF this.value &lt; min_value OR this.value &gt; max_value\n    Messagebox(\"Value Out of Range\", 16, \"Error!\")\n    return .f.\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#4-cross-field-validation","title":"4. Cross-Field Validation","text":"<p>Pattern: <pre><code>PROCEDURE Valid\nIF !empty(thisform.field1.value) AND this.value &lt; thisform.field1.value\n    Messagebox(\"Invalid Relationship\", 16, \"Error!\")\n    return .f.\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#5-conditional-validation-with-override","title":"5. Conditional Validation with Override","text":"<p>Pattern: <pre><code>PROCEDURE Valid\nIF this.value &lt;&gt; expected_value\n    IF messagebox(\"Value Does Not Match Expected. Continue?\", 64+4, \"Warning!\") = 6\n        * User confirmed, allow override\n    ELSE\n        return .f.\n    ENDIF\nENDIF\nENDPROC\n</code></pre></p>"},{"location":"source/04-forms-and-screens/validation-catalog/#validation-summary-by-category","title":"Validation Summary by Category","text":""},{"location":"source/04-forms-and-screens/validation-catalog/#required-fields","title":"Required Fields","text":"<ul> <li>Item Number, Customer Number, Vendor Number</li> <li>OE Number, OC Number, Contract Number, SO Number, DN Number, Invoice Number</li> <li>Customer selection in all order forms</li> <li>Date fields (when one filled, both must be filled)</li> </ul>"},{"location":"source/04-forms-and-screens/validation-catalog/#format-validation","title":"Format Validation","text":"<ul> <li>Company-specific number formats (HT, BAT, HFW, INSP)</li> <li>Date formats</li> <li>Currency codes</li> </ul>"},{"location":"source/04-forms-and-screens/validation-catalog/#business-rule-validation","title":"Business Rule Validation","text":"<ul> <li>Quantity must be &gt; 0</li> <li>Price must be &gt;= 0</li> <li>Date ranges (To Date &gt;= From Date)</li> <li>Cross-document quantity validation (SO vs Contract, DN vs SO, Invoice vs SO)</li> </ul>"},{"location":"source/04-forms-and-screens/validation-catalog/#data-integrity-validation","title":"Data Integrity Validation","text":"<ul> <li>Uniqueness checks</li> <li>Existence checks (master data references)</li> <li>Referential integrity</li> </ul>"},{"location":"source/04-forms-and-screens/validation-catalog/#summary","title":"Summary","text":"<p>Validation rules ensure: 1. Data Integrity: Uniqueness, existence, referential integrity 2. Business Rules: Quantity limits, date ranges, workflow compliance 3. User Guidance: Clear error messages, warnings with override options 4. Data Quality: Format validation, range checks, cross-field validation</p> <p>The system uses a combination of strict validation (preventing invalid data) and warning-based validation (allowing overrides with user confirmation) to balance data integrity with operational flexibility.</p>"},{"location":"source/05-business-logic/core-algorithms/","title":"Core Algorithms","text":""},{"location":"source/05-business-logic/core-algorithms/#overview","title":"Overview","text":"<p>This document describes reusable core algorithms used throughout the system for BOM calculations, quantity breakdowns, and other common business logic operations.</p>"},{"location":"source/05-business-logic/core-algorithms/#bom-calculation-algorithm","title":"BOM Calculation Algorithm","text":""},{"location":"source/05-business-logic/core-algorithms/#purpose","title":"Purpose","text":"<p>Calculate sub-item quantities for Bill of Materials (BOM) items. This algorithm is reused in multiple processes: - OE to OC posting - OC to Contract generation - Contract updates - OC updates</p>"},{"location":"source/05-business-logic/core-algorithms/#algorithm-flow","title":"Algorithm Flow","text":"<pre><code>flowchart TD\n    Start([BOM Calculation Start]) --&gt; GetHeadItem[Get Head Item&lt;br/&gt;w_head_item = parent item_no&lt;br/&gt;w_head_qty = parent qty]\n    GetHeadItem --&gt; CalcTotalBOM[SELECT SUM qty as total_qty&lt;br/&gt;FROM mprodbom&lt;br/&gt;WHERE item_no == w_head_item&lt;br/&gt;INTO CURSOR sum_qty]\n\n    CalcTotalBOM --&gt; CheckHasBOM{sum_qty.total_qty&lt;br/&gt;&gt; 0?}\n    CheckHasBOM --&gt;|No| NoBOM[No BOM Processing&lt;br/&gt;Return]\n    CheckHasBOM --&gt;|Yes| SkipToSubItems[SKIP to next record&lt;br/&gt;Go to first sub-item]\n\n    SkipToSubItems --&gt; SubItemLoop{Current record&lt;br/&gt;head == .F.?}\n\n    SubItemLoop --&gt;|No| EndBOMCalc[End BOM Calculation]\n    SubItemLoop --&gt;|Yes| LocateBOMRecord[SELECT mprodbom&lt;br/&gt;LOCATE FOR&lt;br/&gt;item_no == w_head_item&lt;br/&gt;AND sub_item == current item_no]\n\n    LocateBOMRecord --&gt; CheckFound{Found&lt;br/&gt;in mprodbom?}\n    CheckFound --&gt;|No| SkipSubItem[SKIP to next record&lt;br/&gt;Continue Loop]\n    CheckFound --&gt;|Yes| CalcSubQty[Calculate Sub-item Quantity&lt;br/&gt;sub_qty = w_head_qty *&lt;br/&gt;mprodbom.qty / sum_qty.total_qty]\n\n    CalcSubQty --&gt; ReplaceSubQty[REPLACE current record.qty&lt;br/&gt;= calculated sub_qty&lt;br/&gt;REPLACE for:&lt;br/&gt;- morddt.qty OR&lt;br/&gt;- mcontdt.qty OR&lt;br/&gt;- Other detail table]\n\n    ReplaceSubQty --&gt; SkipNext[SKIP to next record&lt;br/&gt;Continue Loop]\n    SkipNext --&gt; SubItemLoop\n    SkipSubItem --&gt; SubItemLoop\n\n    NoBOM --&gt; EndBOMCalc\n    EndBOMCalc --&gt; End([Algorithm Complete])</code></pre>"},{"location":"source/05-business-logic/core-algorithms/#formula","title":"Formula","text":"<pre><code>sub_item_qty = (head_qty * bom_qty) / total_bom_qty\n</code></pre> <p>Where: - <code>head_qty</code> = Quantity of parent/head item - <code>bom_qty</code> = Quantity of sub-item per parent from <code>mprodbom.qty</code> - <code>total_bom_qty</code> = Sum of all <code>mprodbom.qty</code> for the parent item</p>"},{"location":"source/05-business-logic/core-algorithms/#usage-contexts","title":"Usage Contexts","text":"<ol> <li>OE to OC Posting (<code>uordcont.prg</code> lines 40-56)</li> <li>Applied to <code>morddt</code> records</li> <li> <p>Processes sub-items after head item is copied</p> </li> <li> <p>OC to Contract (<code>uordcont.prg</code> lines 63-79)</p> </li> <li>Applied to <code>mcontdt</code> records</li> <li> <p>Uses same logic with contract detail table</p> </li> <li> <p>Contract Updates (<code>uordcont.prg</code>)</p> </li> <li>Recalculates BOM quantities when contract items updated</li> </ol> <p>Code Reference: <code>source/uordcont.prg</code> (procedures <code>update_morddt</code>, <code>update_mcontdt</code>)</p>"},{"location":"source/05-business-logic/core-algorithms/#quantity-breakdown-algorithm","title":"Quantity Breakdown Algorithm","text":""},{"location":"source/05-business-logic/core-algorithms/#purpose_1","title":"Purpose","text":"<p>Process quantity breakdowns by size, color, style, or port. Used in: - OE Excel import - Manual quantity breakdown entry - Port-based quantity allocation</p>"},{"location":"source/05-business-logic/core-algorithms/#algorithm-flow_1","title":"Algorithm Flow","text":"<pre><code>flowchart TD\n    Start([Quantity Breakdown Start]) --&gt; DetectBreakdownField[Detect Breakdown Field&lt;br/&gt;PORT CODE, SIZE, COLOR, etc.&lt;br/&gt;Store field position]\n    DetectBreakdownField --&gt; GroupByItem[GROUP items by&lt;br/&gt;OE number and Item number&lt;br/&gt;INTO CURSOR vtempoe]\n\n    GroupByItem --&gt; ItemLoop{For Each&lt;br/&gt;Item Group}\n    ItemLoop --&gt;|No More| EndQtyBrk\n    ItemLoop --&gt;|Yes| GetItemCode[Get item_code&lt;br/&gt;from grouped items]\n\n    GetItemCode --&gt; CountBreakdowns[COUNT breakdown rows&lt;br/&gt;for this item&lt;br/&gt;FROM woexlst or source table]\n    CountBreakdowns --&gt; CheckMultipleBreakdowns{Count&lt;br/&gt;&gt; 1?}\n\n    CheckMultipleBreakdowns --&gt;|No| SkipItem[Skip Item&lt;br/&gt;No breakdown needed]\n    CheckMultipleBreakdowns --&gt;|Yes| SelectBreakdownRows[SELECT breakdown rows&lt;br/&gt;FROM source table&lt;br/&gt;WHERE oe_no = w_oe_no&lt;br/&gt;AND item_no = item_code&lt;br/&gt;INTO CURSOR temp]\n\n    SelectBreakdownRows --&gt; BreakdownLoop{More Breakdown&lt;br/&gt;Rows?}\n    BreakdownLoop --&gt;|No| SkipItem\n    BreakdownLoop --&gt;|Yes| CheckBreakdownEmpty{Breakdown Field&lt;br/&gt;Empty?}\n\n    CheckBreakdownEmpty --&gt;|Yes| SkipRow[SKIP row&lt;br/&gt;Continue Loop]\n    CheckBreakdownEmpty --&gt;|No| CreateBreakdownRecord[APPEND BLANK to mqtybrk&lt;br/&gt;Create breakdown record]\n\n    CreateBreakdownRecord --&gt; SetBreakdownFields[REPLACE mqtybrk.oe_no&lt;br/&gt;= w_oe_prefix + w_oe_no&lt;br/&gt;REPLACE mqtybrk.item_no = item_code&lt;br/&gt;REPLACE mqtybrk.port = port_code&lt;br/&gt;or size/color code]\n\n    SetBreakdownFields --&gt; SetBreakdownQty{Breakdown Type?}\n    SetBreakdownQty --&gt;|Port Qty Column| SetPortQty[REPLACE mqtybrk.qty&lt;br/&gt;= NUMVAL port_qty_field]\n    SetBreakdownQty --&gt;|Port Code Column| CalcQtyFromPort[Check if inner &gt; 0&lt;br/&gt;REPLACE mqtybrk.qty&lt;br/&gt;= port_code * master&lt;br/&gt;if inner &gt; 0]\n\n    SetPortQty --&gt; SetOtherFields\n    CalcQtyFromPort --&gt; SetOtherFields[REPLACE mqtybrk.po_no&lt;br/&gt;REPLACE mqtybrk.del_from&lt;br/&gt;REPLACE mqtybrk.del_to&lt;br/&gt;REPLACE user_id, mod_date, mod_time]\n\n    SetOtherFields --&gt; SkipRow\n    SkipRow --&gt; BreakdownLoop\n\n    SkipItem --&gt; ItemLoop\n    EndQtyBrk[End Quantity Breakdown] --&gt; End([Algorithm Complete])</code></pre>"},{"location":"source/05-business-logic/core-algorithms/#usage-contexts_1","title":"Usage Contexts","text":"<ol> <li>Excel Import (<code>uoexls_2013.prg</code>, procedure <code>update_mqtybrk</code>)</li> <li>Processes PORT CODE based breakdowns</li> <li> <p>Creates <code>mqtybrk</code> records from Excel data</p> </li> <li> <p>Port-based Breakdown (<code>uoexls_2013.prg</code>, procedure <code>process_qty_breakdown</code>)</p> </li> <li>Processes PORT columns from Excel</li> <li> <p>Handles Q-column (quantity) vs code-based breakdowns</p> </li> <li> <p>Manual Entry (Form <code>iqtybrk2</code>)</p> </li> <li>User enters breakdowns manually</li> <li>Validates totals match item quantity</li> </ol> <p>Code Reference: <code>source/uoexls_2013.prg</code> (procedures <code>update_mqtybrk</code>, <code>process_qty_breakdown</code>)</p>"},{"location":"source/05-business-logic/core-algorithms/#report-generation-flow","title":"Report Generation Flow","text":""},{"location":"source/05-business-logic/core-algorithms/#purpose_2","title":"Purpose","text":"<p>Generic pattern for report generation used across all report types in the system.</p>"},{"location":"source/05-business-logic/core-algorithms/#algorithm-flow_2","title":"Algorithm Flow","text":"<pre><code>flowchart TD\n    Start([Report Generation Start]) --&gt; UserSelect[User Selects Report&lt;br/&gt;Parameters Date Range, Customer, etc.]\n    UserSelect --&gt; ValidateParams{Validate&lt;br/&gt;Parameters}\n\n    ValidateParams --&gt;|Invalid| ShowError[Show Error Message&lt;br/&gt;Return to Selection]\n    ValidateParams --&gt;|Valid| BuildQuery[Build Query&lt;br/&gt;SELECT FROM source tables&lt;br/&gt;Apply filters WHERE conditions]\n\n    BuildQuery --&gt; ExecuteQuery[Execute Query&lt;br/&gt;INTO CURSOR temp_result&lt;br/&gt;or INTO TABLE result_table]\n    ExecuteQuery --&gt; CheckResults{Results&lt;br/&gt;Found?}\n\n    CheckResults --&gt;|No| ShowNoData[Show No Data Message&lt;br/&gt;End Report]\n    CheckResults --&gt;|Yes| FormatData[Format Data&lt;br/&gt;Calculate totals, subtotals&lt;br/&gt;Group by categories]\n\n    FormatData --&gt; PrepareReport[Prepare Report Data&lt;br/&gt;Set report variables&lt;br/&gt;Set page breaks]\n    PrepareReport --&gt; GenerateReport[DO FORM report_name&lt;br/&gt;or REPORT FORM report_name&lt;br/&gt;Generate report output]\n\n    GenerateReport --&gt; OutputFormat{Output&lt;br/&gt;Format?}\n    OutputFormat --&gt;|Print| SendToPrinter[Send to Printer]\n    OutputFormat --&gt;|Preview| ShowPreview[Display Preview]\n    OutputFormat --&gt;|Excel| ExportExcel[Export to Excel&lt;br/&gt;Generate XLS file]\n    OutputFormat --&gt;|PDF| ExportPDF[Generate PDF&lt;br/&gt;Save or Email]\n\n    SendToPrinter --&gt; EndReport\n    ShowPreview --&gt; EndReport\n    ExportExcel --&gt; EndReport\n    ExportPDF --&gt; EndReport\n    ShowNoData --&gt; EndReport\n    ShowError --&gt; EndReport\n\n    EndReport[End Report Generation] --&gt; End([Process Complete])</code></pre>"},{"location":"source/05-business-logic/core-algorithms/#usage-pattern","title":"Usage Pattern","text":"<p>This pattern is used in: - Order Enquiry reports - Order Confirmation reports - Contract reports - Invoice reports - Shipping Order reports - Analysis and summary reports</p> <p>Code Reference: Multiple report forms (.frx files) and report generation programs</p>"},{"location":"source/05-business-logic/excel-import-logic/","title":"Excel Import Logic","text":""},{"location":"source/05-business-logic/excel-import-logic/#overview","title":"Overview","text":"<p>The Excel import functionality is one of the most complex parts of the system. The primary import program <code>uoexls_2013.prg</code> contains 1,747 lines of code handling multiple Excel formats, dynamic field detection, validation, and data processing.</p>"},{"location":"source/05-business-logic/excel-import-logic/#primary-import-program","title":"Primary Import Program","text":""},{"location":"source/05-business-logic/excel-import-logic/#uoexls_2013prg","title":"uoexls_2013.prg","text":"<p>Size: 1,747 lines Purpose: Import Order Enquiry from Excel (2013 CSV format) Complexity: Most complex program in the system</p>"},{"location":"source/05-business-logic/excel-import-logic/#dynamic-field-detection","title":"Dynamic Field Detection","text":""},{"location":"source/05-business-logic/excel-import-logic/#process","title":"Process","text":"<p>The system dynamically detects column positions by searching for keywords in the Excel header row.</p>"},{"location":"source/05-business-logic/excel-import-logic/#field-detection-logic","title":"Field Detection Logic","text":"<p>Item Number: <pre><code>do while (w_field_no &lt; 50 and finished&lt;&gt; .t.)\n    field_name=\"f\"+strzero(w_field_no,2)\n    if  at(\"ITEM\",upper(&amp;field_name))&gt; 0 \n        n_item=field_name\n        n_item_no=\"woexls.f\"+strzero(w_field_no,2)\n        finished=.t.\n    endif    \n    w_field_no=w_field_no+ 1\nenddo\n</code></pre></p> <p>Quantity: <pre><code>if  at(\"TOTAL PIECE\",upper(&amp;field_name))&gt; 0 OR at(\"TOTAL QTY\",upper(&amp;field_name))&gt; 0 OR;\n     at(\"TOT PIECE\",upper(&amp;field_name))&gt; 0 OR at(\"TOT QTY\",upper(&amp;field_name))&gt; 0 \n    n_qty=field_name\n    finished=.t.\nendif\n</code></pre></p> <p>Sub SKN: <pre><code>if  at(\"SUB SKN\",upper(&amp;field_name))&gt; 0 or at(\"SUB SKU #\",upper(&amp;field_name))&gt; 0\n    n_sub_skn=field_name\n    finished=.t.\nendif\n</code></pre></p>"},{"location":"source/05-business-logic/excel-import-logic/#detected-fields","title":"Detected Fields","text":"<ul> <li>Item: \"ITEM\"</li> <li>Sub SKN: \"SUB SKN\", \"SUB SKU #\"</li> <li>SKU: \"SKU #\"</li> <li>Quantity: \"TOTAL PIECE\", \"TOTAL QTY\", \"TOT PIECE\", \"TOT QTY\"</li> <li>Ship From/To: Dynamic date field detection</li> <li>Customer Ship From/To: Dynamic date field detection</li> <li>Remark: \"COMMENT\"</li> <li>Retail 1: \"RETAIL1\", \"RETAIL PRICE 1\"</li> <li>Retail 2: \"RETAIL2\", \"RETAIL PRICE 2\"</li> </ul>"},{"location":"source/05-business-logic/excel-import-logic/#import-process-flow","title":"Import Process Flow","text":""},{"location":"source/05-business-logic/excel-import-logic/#step-1-file-loading","title":"Step 1: File Loading","text":"<ol> <li>Excel file loaded into temporary table <code>woexlst</code></li> <li>File parsed row by row</li> <li>Header row identified</li> </ol>"},{"location":"source/05-business-logic/excel-import-logic/#step-2-oe-number-extraction","title":"Step 2: OE Number Extraction","text":"<pre><code>select distinct woexlst.f01 from woexlst where recno() =&gt; w_detail_pos + 1 into cursor voeno\n</code></pre> <ul> <li>Extract distinct OE numbers from first column</li> <li>Process each OE number separately</li> </ul>"},{"location":"source/05-business-logic/excel-import-logic/#step-3-validation","title":"Step 3: Validation","text":"<p>OE Control Validation: <pre><code>IF ALLTRIM(w_password)=\"INSP\"\n    w_oe_no=\"IN-\"+ALLTRIM(w_oe_no)   \nELSE \n    select moectrl\n    set order to OE_NO\n    seek w_oe_no\n    if eof()\n        messagebox(w_oe_no+\" --- No OE Control Record\"+ chr(10)+\"Import Skipped\", 0+16, \"Syster Message\")\n        loop\n    ENDIF\nENDIF\n</code></pre></p> <p>Customer Validation: <pre><code>if alltrim(w_cust_no)&lt;&gt;alltrim(moectrl.cust_no) and !empty(w_oe_no)\n    messagebox(\"OE No.:\"+alltrim(w_oe_no) +\" --- OE Control Record Cust Code Not Match\"+ chr(10)+\"Import Skipped\", 0+16, \"Syster Message\")\n    loop\nENDIF\n</code></pre></p>"},{"location":"source/05-business-logic/excel-import-logic/#step-4-data-processing","title":"Step 4: Data Processing","text":"<p>Append to Work Table: <pre><code>select woexls\nZAP\nappend from woexlst for recno()=1\ndo append_woexls\ndo set_qty\n</code></pre></p> <p>Process Items: - Group items (handle \"SEE BELOW\" for sub-items) - Process \"SEE ABOVE\" for SKU references - Extract quantities and dates</p>"},{"location":"source/05-business-logic/excel-import-logic/#step-5-oe-creation","title":"Step 5: OE Creation","text":"<p>Create Header: <pre><code>select moehd\nset order to oe_no\nseek w_oe_no\nif eof() \n    append blank\n    replace moehd.oe_no with w_oe_no\n    replace moehd.oe_date with w_oe_date\n    replace moehd.cre_date with date()\n    replace moehd.user_id with sysuserid\n    replace moehd.cre_user with sysuserid\nendif\n</code></pre></p> <p>Create Details: <pre><code>do update_moe\ndo update_mqtybrk\nDo Process_Moe\ndo process_qty_breakdown\n</code></pre></p>"},{"location":"source/05-business-logic/excel-import-logic/#special-handling","title":"Special Handling","text":""},{"location":"source/05-business-logic/excel-import-logic/#see-below-processing","title":"\"SEE BELOW\" Processing","text":"<p>Sub-items with \"SEE BELOW\": <pre><code>if alltrim(&amp;n_sub_skn)='SEE BELOW'\n    w_item_no=alltrim(&amp;n_item_no)\n    select woexlst\n    locate for f01=w_oe_no_save and alltrim(&amp;n_item)==alltrim(w_item_no)\n    if !eof()\n        skip\n    endif     \n    do while alltrim(&amp;n_sku)=='SEE ABOVE' and !eof() \n        scatter to field_array\n        select woexls\n        append blank\n        gather from field_array\n        select woexlst\n        skip\n    enddo  \nendif\n</code></pre></p>"},{"location":"source/05-business-logic/excel-import-logic/#quantity-aggregation","title":"Quantity Aggregation","text":"<p>Sum quantities for same item: <pre><code>select sum(val(&amp;n_qty)) as tot_qty from woexlst into cursor temp where f01=w_oe_no_save and &amp;n_item=&amp;w_item_field\nreplace &amp;n_qty with alltrim(str(temp.tot_qty))\n</code></pre></p>"},{"location":"source/05-business-logic/excel-import-logic/#date-range-extraction","title":"Date Range Extraction","text":"<p>Ship From/To dates: <pre><code>select min(&amp;w_ship_from_fld) as w_date from woexlst into cursor vtemp where  f01=w_oe_no_save and &amp;n_item=&amp;w_item_field\nw_ship_from = ctod(alltrim(vtemp.w_date))\n\nselect max(&amp;w_ship_to_fld) as w_date from woexlst into cursor vtemp where  f01=w_oe_no_save and &amp;n_item=&amp;w_item_field\nw_ship_to= ctod(alltrim(vtemp.w_date))\n</code></pre></p>"},{"location":"source/05-business-logic/excel-import-logic/#multi-format-support","title":"Multi-Format Support","text":""},{"location":"source/05-business-logic/excel-import-logic/#supported-formats","title":"Supported Formats","text":"<ol> <li>Standard Format - Generic Excel template</li> <li>Walmart Format - Walmart-specific layout (<code>uwalxls.prg</code>)</li> <li>CSV Format (2013) - Comma-separated values (<code>uoexls_2013.prg</code>)</li> <li>XLS Format (2013) - Excel 2013 format (<code>uoexls_2013_xls.prg</code>)</li> <li>Multi-Item Block - Items grouped in blocks (<code>uoexls2.prg</code>)</li> <li>New Format - Updated Excel template (<code>unewoexls.prg</code>)</li> </ol>"},{"location":"source/05-business-logic/excel-import-logic/#format-specific-logic","title":"Format-Specific Logic","text":"<p>Each format has its own import program with format-specific parsing logic.</p>"},{"location":"source/05-business-logic/excel-import-logic/#error-handling","title":"Error Handling","text":""},{"location":"source/05-business-logic/excel-import-logic/#validation-errors","title":"Validation Errors","text":"<p>OE Control Not Found: - Error message displayed - Import skipped for that OE - Continue with next OE</p> <p>Customer Mismatch: - Error message displayed - Import skipped - Validation prevents incorrect data</p> <p>Invalid Items: - Item line skipped - Error logged - Continue processing</p>"},{"location":"source/05-business-logic/excel-import-logic/#processing-errors","title":"Processing Errors","text":"<p>Quantity Errors: - Negative quantities handled - Zero quantities validated - Mismatched totals checked</p> <p>Date Errors: - Invalid date formats handled - Missing dates use defaults - Date range validation</p>"},{"location":"source/05-business-logic/excel-import-logic/#performance-considerations","title":"Performance Considerations","text":""},{"location":"source/05-business-logic/excel-import-logic/#large-file-handling","title":"Large File Handling","text":"<ul> <li>Processes one OE at a time</li> <li>Uses temporary tables for processing</li> <li>Clears work tables between OEs</li> </ul>"},{"location":"source/05-business-logic/excel-import-logic/#memory-management","title":"Memory Management","text":"<ul> <li>Uses cursors for temporary data</li> <li>Clears arrays between operations</li> <li>Releases tables when done</li> </ul>"},{"location":"source/05-business-logic/excel-import-logic/#summary","title":"Summary","text":"<p>The Excel import logic is highly sophisticated, supporting multiple formats with dynamic field detection. It handles complex data structures including sub-items, quantity breakdowns, and date ranges. The validation ensures data integrity, and error handling allows partial imports to succeed even when some records fail.</p>"},{"location":"source/05-business-logic/program-inventory/","title":"Program Inventory","text":""},{"location":"source/05-business-logic/program-inventory/#overview","title":"Overview","text":"<p>The system contains 176+ program files (.prg) containing business logic, utilities, and data processing routines.</p>"},{"location":"source/05-business-logic/program-inventory/#program-count","title":"Program Count","text":"<ul> <li>Total Programs: 176+ (.prg files identified)</li> <li>Categories: Business logic, utilities, data conversion, reporting</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#key-programs-by-category","title":"Key Programs by Category","text":""},{"location":"source/05-business-logic/program-inventory/#excel-import-programs","title":"Excel Import Programs","text":"<ul> <li><code>uoexls_2013.prg</code> - Excel import (2013 CSV) - 1,747 lines (most complex)</li> <li><code>uoexls.prg</code> - Standard Excel import</li> <li><code>unewoexls.prg</code> - New format Excel import</li> <li><code>uwalxls.prg</code> - Walmart format import</li> <li><code>uoexls2.prg</code> - Multi-item block format</li> <li><code>enqbyitem_xls.prg</code> - Item enquiry Excel export</li> <li><code>enqbyso2_xls.prg</code> - SO enquiry Excel export</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#data-processing-programs","title":"Data Processing Programs","text":"<ul> <li><code>uordcont.prg</code> - Update OC/Contract</li> <li><code>uwcontract.prg</code> - Contract generation</li> <li><code>upostoe.prg</code> - Post OE to OC</li> <li><code>uworderconf.prg</code> - Order confirmation processing</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#data-importexport-programs","title":"Data Import/Export Programs","text":"<ul> <li><code>xitem.prg</code> - Import items from legacy system</li> <li><code>xcustom.prg</code> - Import customers from legacy system</li> <li><code>xvendor.prg</code> - Import vendors from legacy system</li> <li><code>xmoe.prg</code> - Import OE from legacy system</li> <li><code>xinvhd.prg</code> - Import invoice header</li> <li><code>xinvdt.prg</code> - Import invoice detail</li> <li><code>xordhd.prg</code> - Import OC header</li> <li><code>xorddt.prg</code> - Import OC detail</li> <li><code>xconthd.prg</code> - Import contract header</li> <li><code>xcontdt.prg</code> - Import contract detail</li> <li><code>xmso.prg</code> - Import shipping order</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#utility-programs","title":"Utility Programs","text":"<ul> <li><code>zdoc.prg</code> - Reindex utility</li> <li><code>systemtools.prg</code> - System tools</li> <li><code>getToday.prg</code> - Get today's date</li> <li><code>userid.prg</code> - Get user ID</li> <li><code>getexrate.prg</code> - Get exchange rate</li> <li><code>getzPara.prg</code> - Get system parameter</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#report-programs","title":"Report Programs","text":"<ul> <li><code>pinv.prg</code> - Invoice printing logic</li> <li><code>pso.prg</code> - SO printing</li> <li><code>pcontract.prg</code> - Contract printing</li> <li><code>ppacklist1_new.prg</code> - Packing list</li> <li><code>printreport.prg</code> - Generic report printing</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#data-conversion-programs","title":"Data Conversion Programs","text":"<ul> <li><code>zvencon.prg</code> - Vendor code conversion</li> <li><code>zchange_item.prg</code> - Change item number</li> <li><code>zdr_so_conv.prg</code> - DR SO conversion</li> <li><code>zdr_dn_conv.prg</code> - DR DN conversion</li> <li><code>add_cxl.prg</code> - Add cancel status</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#stringtext-processing-programs","title":"String/Text Processing Programs","text":"<ul> <li><code>charcon.prg</code> - Character concatenation</li> <li><code>cutchar.prg</code> - Cut characters</li> <li><code>cutline.prg</code> - Cut lines</li> <li><code>cutremark.prg</code> - Cut remarks</li> <li><code>cutspace.prg</code> - Cut spaces</li> <li><code>numtoeng.prg</code> - Number to English</li> <li><code>dateword.prg</code> - Date to words</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#calculation-programs","title":"Calculation Programs","text":"<ul> <li><code>totprice.prg</code> - Total price calculation</li> <li><code>curprice.prg</code> - Current price</li> <li><code>count_moebom.prg</code> - Count OE BOM</li> <li><code>subnum.prg</code> - Extract number from string</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#reindex-programs","title":"Reindex Programs","text":"<ul> <li><code>zmoe.prg</code> - Reindex OE</li> <li><code>zmordhd.prg</code> - Reindex OC header</li> <li><code>zmorddt.prg</code> - Reindex OC detail</li> <li><code>zmconthd.prg</code> - Reindex contract header</li> <li><code>zmcontdt.prg</code> - Reindex contract detail</li> <li><code>zmitem.prg</code> - Reindex items</li> <li><code>zmcustom.prg</code> - Reindex customers</li> <li><code>zminvhd.prg</code> - Reindex invoice header</li> <li><code>zminvdt.prg</code> - Reindex invoice detail</li> <li><code>zmso.prg</code> - Reindex shipping order</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#program-complexity","title":"Program Complexity","text":""},{"location":"source/05-business-logic/program-inventory/#most-complex-programs","title":"Most Complex Programs","text":"<ol> <li><code>uoexls_2013.prg</code> - 1,747 lines</li> <li>Excel import with dynamic field detection</li> <li> <p>Complex validation and processing</p> </li> <li> <p><code>uoexls.prg</code> - Large program</p> </li> <li>Standard Excel import</li> <li> <p>Multiple format support</p> </li> <li> <p><code>uwcontract.prg</code> - Medium complexity</p> </li> <li>Contract generation logic</li> <li>Vendor grouping</li> </ol>"},{"location":"source/05-business-logic/program-inventory/#program-dependencies","title":"Program Dependencies","text":""},{"location":"source/05-business-logic/program-inventory/#call-hierarchy","title":"Call Hierarchy","text":"<pre><code>main.prg\n  \u2193\nILOGON (form)\n  \u2193\nBATMENUS.MPX / BATMENU.MPX\n  \u2193\nForms \u2192 Programs\n  \u2193\nUtility Programs\n</code></pre>"},{"location":"source/05-business-logic/program-inventory/#common-utilities","title":"Common Utilities","text":"<p>Many programs use: - <code>charcon.prg</code> - String concatenation - <code>getToday.prg</code> - Date functions - <code>userid.prg</code> - User identification - <code>numtoeng.prg</code> - Number formatting</p>"},{"location":"source/05-business-logic/program-inventory/#program-organization","title":"Program Organization","text":""},{"location":"source/05-business-logic/program-inventory/#by-function","title":"By Function","text":"<ul> <li>Import/Export: Excel, legacy data</li> <li>Processing: Order, contract, invoice processing</li> <li>Utilities: Reindex, conversion, tools</li> <li>Reporting: Report generation</li> <li>Text Processing: String manipulation</li> <li>Calculations: Price, quantity calculations</li> </ul>"},{"location":"source/05-business-logic/program-inventory/#summary","title":"Summary","text":"<p>The system has 176+ programs organized by function. The most complex is <code>uoexls_2013.prg</code> (1,747 lines) handling Excel imports. Programs follow naming conventions and are called from forms or other programs.</p>"},{"location":"source/06-reporting/report-inventory/","title":"Report Inventory","text":""},{"location":"source/06-reporting/report-inventory/#overview","title":"Overview","text":"<p>The system contains 116+ report files (.frx) providing printed and electronic output for all document types and analyses.</p>"},{"location":"source/06-reporting/report-inventory/#report-count","title":"Report Count","text":"<ul> <li>Total Reports: 116+ (.frx files identified)</li> <li>Categories: Transaction reports, summary reports, analysis reports, export reports</li> </ul>"},{"location":"source/06-reporting/report-inventory/#report-categories","title":"Report Categories","text":""},{"location":"source/06-reporting/report-inventory/#transaction-reports","title":"Transaction Reports","text":"<p>Order Enquiry: - <code>pordenq</code> - Order Enquiry report - <code>pordenq2</code> - Order Enquiry (New) - <code>pordenq_pdf</code> - Order Enquiry PDF - <code>poedoc</code> - OE Doc (OE, OC, CONT)</p> <p>Order Confirmation: - <code>pconfirm</code> - Order Confirmation - <code>pconfirm_pdf</code> - Order Confirmation PDF - <code>pocbrk</code> - OC Qty Breakdown - <code>pocqty</code> - OC Qty &amp; Pricing Report</p> <p>Contract: - <code>pcontract@_2018</code> - Contract (2018) - <code>pcontract_pdf</code> - Contract PDF - <code>pcontbrk</code> - Contract Qty Breakdown - <code>pcontamdrmk</code> - Contract Amendment</p> <p>Shipping Order: - <code>pso</code> - Shipping Order - <code>pso_pdf</code> - Shipping Order PDF - <code>psox</code> - Shipping Order (variant)</p> <p>Invoice: - <code>pinv@</code> - Invoice (New) - <code>pinv_pdf</code> - Invoice PDF - <code>pinv_xls</code> - Invoice to XLS - <code>ppacklist_new</code> - Packing List (New) - <code>ppacklist_xls</code> - Packing List to XLS - <code>ppacklist_xls_spencer</code> - Packing List (Spencer Format)</p> <p>Delivery Note: - <code>pdn</code> - Delivery Note - <code>pdnorg</code> - D/N Original List - <code>pla</code> - Loading Advice</p> <p>Debit Note: - <code>pdebitnote</code> - Debit Note</p>"},{"location":"source/06-reporting/report-inventory/#summary-reports","title":"Summary Reports","text":"<ul> <li><code>poesumry</code> - OE Summary</li> <li><code>pocsumry</code> - OC Summary</li> <li><code>einvsumry</code> - Invoice Summary</li> <li><code>econtsumry</code> - Contract Summary</li> </ul>"},{"location":"source/06-reporting/report-inventory/#analysis-reports","title":"Analysis Reports","text":"<ul> <li><code>psabycust</code> - Sales Analysis By Customer</li> <li><code>psabydt</code> - Sales Analysis By Customer - Date</li> <li><code>psabyitem</code> - Sales Analysis By Item - Date</li> <li><code>pordbyitem</code> - Order Report By Item</li> <li><code>polbymk</code> - Order List By Maker</li> <li><code>ecostbrk</code> - Cost Breakdown</li> </ul>"},{"location":"source/06-reporting/report-inventory/#item-reports","title":"Item Reports","text":"<ul> <li><code>pitem</code> - Item Detail Report</li> <li><code>pitemsum</code> - Item Bought (Excel)</li> <li><code>pitemmeas</code> - Item Measurement (Excel)</li> </ul>"},{"location":"source/06-reporting/report-inventory/#export-reports","title":"Export Reports","text":"<ul> <li><code>pinv_xls</code> - Invoice to Excel</li> <li><code>ppacklist_xls</code> - Packing List to Excel</li> <li><code>pdn_xls</code> - D/N to Excel</li> <li><code>psm_to_xls</code> - Shipmark to XLS</li> </ul>"},{"location":"source/06-reporting/report-inventory/#report-formats","title":"Report Formats","text":""},{"location":"source/06-reporting/report-inventory/#print-reports","title":"Print Reports","text":"<ul> <li>Standard print format</li> <li>Printer output</li> <li>Print preview</li> </ul>"},{"location":"source/06-reporting/report-inventory/#pdf-reports","title":"PDF Reports","text":"<ul> <li>PDF generation</li> <li>Email distribution</li> <li>Archive storage</li> </ul>"},{"location":"source/06-reporting/report-inventory/#excel-reports","title":"Excel Reports","text":"<ul> <li>Excel export</li> <li>Customer-specific formats</li> <li>Data analysis</li> </ul>"},{"location":"source/06-reporting/report-inventory/#report-parameters","title":"Report Parameters","text":""},{"location":"source/06-reporting/report-inventory/#common-parameters","title":"Common Parameters","text":"<ul> <li>Date ranges</li> <li>Customer selection</li> <li>Item selection</li> <li>Document number ranges</li> <li>Status filters</li> </ul>"},{"location":"source/06-reporting/report-inventory/#report-specific-parameters","title":"Report-Specific Parameters","text":"<p>Each report may have specific parameters based on its purpose.</p>"},{"location":"source/06-reporting/report-inventory/#report-data-sources","title":"Report Data Sources","text":""},{"location":"source/06-reporting/report-inventory/#transaction-reports_1","title":"Transaction Reports","text":"<ul> <li>Read from transaction tables (moe, morddt, mcontdt, minvdt, mso)</li> </ul>"},{"location":"source/06-reporting/report-inventory/#summary-reports_1","title":"Summary Reports","text":"<ul> <li>Aggregate data from transaction tables</li> <li>Group by customer, item, date</li> </ul>"},{"location":"source/06-reporting/report-inventory/#analysis-reports_1","title":"Analysis Reports","text":"<ul> <li>Complex queries across multiple tables</li> <li>Calculations and aggregations</li> </ul>"},{"location":"source/06-reporting/report-inventory/#report-generation","title":"Report Generation","text":""},{"location":"source/06-reporting/report-inventory/#report-engine","title":"Report Engine","text":"<p>Technology: Visual FoxPro FRX report engine</p> <p>Process: 1. Select report 2. Enter parameters 3. Generate report 4. Print, preview, or export</p>"},{"location":"source/06-reporting/report-inventory/#report-files","title":"Report Files","text":"<ul> <li><code>.frx</code> - Report file (binary)</li> <li><code>.frt</code> - Report memo file (text)</li> </ul>"},{"location":"source/06-reporting/report-inventory/#report-location","title":"Report Location","text":"<ul> <li>All reports in <code>source/</code> directory</li> <li>Reports referenced by forms and programs</li> </ul>"},{"location":"source/06-reporting/report-inventory/#summary","title":"Summary","text":"<p>The system has 116+ reports covering all document types and analyses. Reports support multiple output formats (print, PDF, Excel) and provide comprehensive business intelligence. Detailed report specifications require examination of individual .frx files.</p>"},{"location":"source/07-integration/excel-integration/","title":"Excel Integration","text":""},{"location":"source/07-integration/excel-integration/#overview","title":"Overview","text":"<p>The system extensively integrates with Microsoft Excel for both import and export operations. Excel integration is critical for order processing and reporting.</p>"},{"location":"source/07-integration/excel-integration/#import-workflows","title":"Import Workflows","text":""},{"location":"source/07-integration/excel-integration/#order-enquiry-import","title":"Order Enquiry Import","text":"<p>Primary Method: Excel file import for OE creation</p> <p>Supported Formats: 1. Standard Excel format 2. Walmart XLS format 3. CSV format (2013) 4. XLS format (2013) 5. Multi-item block format 6. New format Excel file</p> <p>Programs: - <code>uoexls_2013.prg</code> - 2013 CSV format (1,747 lines - most complex) - <code>uoexls.prg</code> - Standard format - <code>unewoexls.prg</code> - New format - <code>uwalxls.prg</code> - Walmart format - <code>uoexls2.prg</code> - Multi-item block</p> <p>Process: 1. User selects Excel file 2. System loads file into temporary table 3. Dynamic field detection 4. Validation 5. Data import to <code>moe</code>/<code>moehd</code> tables</p> <p>Code Reference: See <code>docs/05-business-logic/excel-import-logic.md</code></p>"},{"location":"source/07-integration/excel-integration/#quantity-breakdown-import","title":"Quantity Breakdown Import","text":"<p>Formats: - CSV format - XLS format</p> <p>Programs: - <code>uqty_breakdown</code> - CSV import - <code>uqty_breakdown_xls</code> - XLS import</p> <p>Process: 1. Import breakdown file 2. Validate against OE items 3. Create <code>mqtybrk</code> records</p>"},{"location":"source/07-integration/excel-integration/#item-import","title":"Item Import","text":"<p>Program: <code>uimport_item.prg</code></p> <p>Purpose: Import items from Excel</p> <p>Process: 1. Load Excel file 2. Map fields 3. Validate items 4. Import to <code>mitem</code> table</p>"},{"location":"source/07-integration/excel-integration/#hts-import","title":"HTS Import","text":"<p>Program: <code>uimport_hts.prg</code></p> <p>Purpose: Import HTS codes from Excel</p>"},{"location":"source/07-integration/excel-integration/#upc-import","title":"UPC Import","text":"<p>Program: <code>uimport_upc.prg</code></p> <p>Purpose: Import UPC codes from Excel</p>"},{"location":"source/07-integration/excel-integration/#export-workflows","title":"Export Workflows","text":""},{"location":"source/07-integration/excel-integration/#invoice-export","title":"Invoice Export","text":"<p>Form: <code>pinv_xls</code></p> <p>Purpose: Export invoice to Excel</p> <p>Format: Excel file with invoice details</p>"},{"location":"source/07-integration/excel-integration/#packing-list-export","title":"Packing List Export","text":"<p>Forms: - <code>ppacklist_xls</code> - Standard format - <code>ppacklist_xls_spencer</code> - Spencer format</p> <p>Purpose: Export packing list to Excel</p> <p>Format: Excel file with packing details</p>"},{"location":"source/07-integration/excel-integration/#order-enquiry-export","title":"Order Enquiry Export","text":"<p>Form: <code>zoexls_batch</code></p> <p>Purpose: Export OE to Excel (batch mode)</p> <p>Format: Excel file with OE details</p>"},{"location":"source/07-integration/excel-integration/#delivery-note-export","title":"Delivery Note Export","text":"<p>Form: <code>pdn_xls</code></p> <p>Purpose: Create D/N Excel file</p> <p>Format: Excel file with DN details</p>"},{"location":"source/07-integration/excel-integration/#shipmark-export","title":"Shipmark Export","text":"<p>Form: <code>psm_to_xls</code></p> <p>Purpose: Export shipmark to Excel</p> <p>Format: Excel file with shipmark data</p>"},{"location":"source/07-integration/excel-integration/#enquiry-exports","title":"Enquiry Exports","text":"<p>Programs: - <code>enqbyitem_xls.prg</code> - Item enquiry to Excel - <code>enqbyso2_xls.prg</code> - SO enquiry to Excel</p> <p>Purpose: Export enquiry results to Excel</p>"},{"location":"source/07-integration/excel-integration/#excel-formats-supported","title":"Excel Formats Supported","text":""},{"location":"source/07-integration/excel-integration/#import-formats","title":"Import Formats","text":"<ol> <li>Standard Format - Generic Excel template</li> <li>Walmart Format - Walmart-specific layout</li> <li>CSV Format (2013) - Comma-separated values</li> <li>XLS Format (2013) - Excel 2013 format</li> <li>Multi-Item Block - Items grouped in blocks</li> <li>New Format - Updated Excel template</li> </ol>"},{"location":"source/07-integration/excel-integration/#export-formats","title":"Export Formats","text":"<ol> <li>Standard Excel - Generic format</li> <li>Customer-Specific - Custom formats per customer</li> <li>Spencer Format - Spencer-specific layout</li> <li>Batch Export - Multiple records</li> </ol>"},{"location":"source/07-integration/excel-integration/#integration-methods","title":"Integration Methods","text":""},{"location":"source/07-integration/excel-integration/#odbc-connection","title":"ODBC Connection","text":"<p>Usage: Direct database connection to Excel files</p> <p>Method: ODBC driver for Excel</p>"},{"location":"source/07-integration/excel-integration/#ole-automation","title":"OLE Automation","text":"<p>Usage: Programmatic Excel control</p> <p>Method: OLE/COM automation</p>"},{"location":"source/07-integration/excel-integration/#direct-file-reading","title":"Direct File Reading","text":"<p>Usage: Read Excel files directly</p> <p>Method: File parsing</p>"},{"location":"source/07-integration/excel-integration/#template-handling","title":"Template Handling","text":""},{"location":"source/07-integration/excel-integration/#import-templates","title":"Import Templates","text":"<p>Customer-Specific Templates: - Different customers may have different Excel formats - System adapts to format dynamically - Field detection handles variations</p>"},{"location":"source/07-integration/excel-integration/#export-templates","title":"Export Templates","text":"<p>Customer-Specific Formats: - Some exports use customer-specific templates - Formats stored in system - Applied during export</p>"},{"location":"source/07-integration/excel-integration/#error-handling","title":"Error Handling","text":""},{"location":"source/07-integration/excel-integration/#import-errors","title":"Import Errors","text":"<p>File Errors: - File not found - Invalid format - Corrupted file</p> <p>Data Errors: - Invalid data types - Missing required fields - Validation failures</p> <p>Processing Errors: - Import failures - Partial imports - Data inconsistencies</p>"},{"location":"source/07-integration/excel-integration/#export-errors","title":"Export Errors","text":"<p>Generation Errors: - File creation failures - Format errors - Data export failures</p>"},{"location":"source/07-integration/excel-integration/#performance-considerations","title":"Performance Considerations","text":""},{"location":"source/07-integration/excel-integration/#large-file-handling","title":"Large File Handling","text":"<ul> <li>Processes files in chunks</li> <li>Uses temporary tables</li> <li>Clears memory between operations</li> </ul>"},{"location":"source/07-integration/excel-integration/#network-file-access","title":"Network File Access","text":"<ul> <li>Excel files may be on network shares</li> <li>Performance depends on network speed</li> <li>Local caching may be used</li> </ul>"},{"location":"source/07-integration/excel-integration/#summary","title":"Summary","text":"<p>Excel integration is extensive, supporting multiple import and export formats. The system dynamically adapts to different Excel layouts and provides customer-specific formats. Integration uses ODBC, OLE automation, and direct file reading methods.</p>"},{"location":"source/08-security/authentication/","title":"Authentication","text":""},{"location":"source/08-security/authentication/#overview","title":"Overview","text":"<p>The system uses form-based authentication with password validation. Users log in through the <code>ilogon</code> form, and authentication status determines menu access.</p>"},{"location":"source/08-security/authentication/#login-process","title":"Login Process","text":""},{"location":"source/08-security/authentication/#login-form","title":"Login Form","text":"<p>Form: <code>ilogon.scx</code> (ILOGON)</p> <p>Process: 1. User enters credentials 2. System validates against <code>user</code> table 3. Sets <code>User_right</code> (SUPERVISOR/REGULAR_USER) 4. Sets <code>sysUserId</code> (user ID) 5. Returns <code>M = .T.</code> if successful</p> <p>Code Reference: <code>main.prg</code> (lines 25-26)</p>"},{"location":"source/08-security/authentication/#authentication-flow","title":"Authentication Flow","text":"<pre><code>flowchart TD\n    Start([Application Start]) --&gt; ClearAll[CLEAR ALL&lt;br/&gt;Clear all variables and memory]\n    ClearAll --&gt; InitPublicVars[Initialize Public Variables&lt;br/&gt;M, User_right, w_shop_no&lt;br/&gt;w_shop_name, sysUserId&lt;br/&gt;syswork, w_sys_language]\n    InitPublicVars --&gt; CheckBatworkDir{Directory&lt;br/&gt;C:\\Batwork&lt;br/&gt;exists?}\n    CheckBatworkDir --&gt;|No| CreateBatworkDir[MD C:\\Batwork&lt;br/&gt;Create directory]\n    CheckBatworkDir --&gt;|Yes| SetSysLanguage\n    CreateBatworkDir --&gt; SetSysLanguage[w_sys_language = E&lt;br/&gt;SET HOUR TO 24&lt;br/&gt;PUBLIC w_password]\n    SetSysLanguage --&gt; SetFoxConfig[SET TALK OFF&lt;br/&gt;SET DELETE ON&lt;br/&gt;SET SAFETY OFF&lt;br/&gt;SET STATUS BAR OFF&lt;br/&gt;SET CENTURY ON&lt;br/&gt;SET DATE MDY]\n    SetFoxConfig --&gt; SetPaths[SET PATH TO c:\\batwork&lt;br/&gt;SET EXCLUSIVE OFF&lt;br/&gt;SET ENGINEBEHAVIOR 70]\n    SetPaths --&gt; SetScreenCaption[\"Set Screen Caption&lt;br/&gt;_SCREEN.CAPTION =&lt;br/&gt;'Trading Management System - V3.0 July 9, 2025)'&lt;br/&gt;_SCREEN.WINDOWSTATE = 2\"]\n    SetScreenCaption --&gt; DoLoginForm[DO FORM ILOGON&lt;br/&gt;Display login form]\n\n    DoLoginForm --&gt; LoginForm[ILOGON Form Displayed&lt;br/&gt;User enters username/password]\n    LoginForm --&gt; FormValidate[Form validates credentials&lt;br/&gt;Lookup in user table&lt;br/&gt;Compare password]\n\n    FormValidate --&gt;|Invalid| SetMFalse[M = .F.&lt;br/&gt;User_right = empty&lt;br/&gt;sysUserId = empty&lt;br/&gt;Return to main.prg]\n    FormValidate --&gt;|Valid| SetMTrue[M = .T.&lt;br/&gt;User_right = SUPERVISOR/REGULAR_USER&lt;br/&gt;sysUserId = user_id&lt;br/&gt;Return to main.prg]\n\n    SetMFalse --&gt; CheckMVar{M == .T.?}\n    SetMTrue --&gt; CheckMVar\n\n    CheckMVar --&gt;|No M = .T.| CancelApp[CANCEL&lt;br/&gt;Exit application]\n    CheckMVar --&gt;|M = .T.| CheckUserRight{Upper User_right&lt;br/&gt;== SUPERVISOR?}\n\n    CheckUserRight --&gt;|Yes| SetSuperCaption[\"_screen.Caption +=&lt;br/&gt;'Date: ' + DTOC gettoday&lt;br/&gt;DO BATMENUS.MPX&lt;br/&gt;Load Supervisor Menu\"]\n    CheckUserRight --&gt;|No| SetRegularCaption[\"_screen.Caption +=&lt;br/&gt;'Date: ' + DTOC gettoday&lt;br/&gt;DO BATMENU.MPX&lt;br/&gt;Load Regular Menu\"]\n\n    SetSuperCaption --&gt; CreateUserWorkDir\n    SetRegularCaption --&gt; CreateUserWorkDir[syswork = 'c:\\' +&lt;br/&gt;ALLTRIM sysUserId + 'work'&lt;br/&gt;Build user work directory path]\n\n    CreateUserWorkDir --&gt; CheckUserDir{User Directory&lt;br/&gt;syswork exists?}\n    CheckUserDir --&gt;|No| MakeUserDir[MD syswork&lt;br/&gt;Create user directory]\n    CheckUserDir --&gt;|Yes| SetPathWithUser\n    MakeUserDir --&gt; SetPathWithUser[SET PATH TO&lt;br/&gt;c:\\batwork, syswork&lt;br/&gt;Add user directory to path]\n\n    SetPathWithUser --&gt; AddUserToCaption[\"_screen.Caption +=&lt;br/&gt;' ' + ALLTRIM sysUserId&lt;br/&gt;Add user ID to caption]\n    AddUserToCaption --&gt; SetSysMenuOn[SET SYSMENU ON&lt;br/&gt;ON SHUTDOWN QUIT&lt;br/&gt;Enable system menu]\n    SetSysMenuOn --&gt; ReadEvent[READ EVENT&lt;br/&gt;Enter event loop&lt;br/&gt;Start application]\n    ReadEvent --&gt; MainApp[Main Application Running&lt;br/&gt;Event loop active]\n\n    CancelApp --&gt; End([Application Exited])</code></pre> <p>Code Reference: <code>source/main.prg</code> (lines 1-50)</p>"},{"location":"source/08-security/authentication/#logout-process-flow","title":"Logout Process Flow","text":"<pre><code>flowchart TD\n    Start([User Selects Logout Menu]) --&gt; SetDone[DONE = .T.&lt;br/&gt;Play beep sound&lt;br/&gt;?? CHR 7]\n    SetDone --&gt; ShowConfirm[MESSAGEBOX&lt;br/&gt;'Logout?'&lt;br/&gt;4+32, 'Trading Document Processing System']\n    ShowConfirm --&gt; UserConfirm{User clicked&lt;br/&gt;Yes 6?}\n\n    UserConfirm --&gt;|No| EndLogout[Cancel Logout&lt;br/&gt;Return to application]\n    UserConfirm --&gt;|Yes| ClearAllVars[CLEAR ALL&lt;br/&gt;Clear all variables&lt;br/&gt;M, User_right, sysUserId, etc.]\n\n    ClearAllVars --&gt; CloseDatabase[CLOSE DATABASE&lt;br/&gt;Close all database connections]\n    CloseDatabase --&gt; CloseAllFiles[CLOSE ALL&lt;br/&gt;Close all open tables and files]\n    CloseAllFiles --&gt; ResetSysMenu[SET SYSMENU TO DEFAULT&lt;br/&gt;Reset system menu to default state]\n    ResetSysMenu --&gt; ClearScreen[_SCREEN.CLS&lt;br/&gt;Clear screen display]\n    ClearScreen --&gt; RefreshScreen[_SCREEN.REFRESH&lt;br/&gt;Refresh screen]\n    RefreshScreen --&gt; DoMain[DO main&lt;br/&gt;Restart application&lt;br/&gt;Return to login form]\n    DoMain --&gt; RestartApp[Application Restarts&lt;br/&gt;Back to main.prg&lt;br/&gt;Login form displayed]\n    RestartApp --&gt; EndLogout\n\n    EndLogout --&gt; End([Process Complete])</code></pre> <p>Code Reference: <code>source/BATMENUS.MPR</code> (lines 416-428)</p>"},{"location":"source/08-security/authentication/#exit-process-flow","title":"Exit Process Flow","text":"<pre><code>flowchart TD\n    Start([User Selects Exit Menu]) --&gt; SetDone[DONE = .T.&lt;br/&gt;Play beep sound&lt;br/&gt;?? CHR 7]\n    SetDone --&gt; ShowConfirm[MESSAGEBOX&lt;br/&gt;'Quit?'&lt;br/&gt;4+32, 'Trading Document Processing System']\n    ShowConfirm --&gt; UserConfirm{User clicked&lt;br/&gt;Yes 6?}\n\n    UserConfirm --&gt;|No| EndExit[Cancel Exit&lt;br/&gt;Return to application]\n    UserConfirm --&gt;|Yes| ClearAllVars[CLEAR ALL&lt;br/&gt;Clear all variables]\n\n    ClearAllVars --&gt; ClearReadAll[CLEAR READ ALL&lt;br/&gt;Clear all read statements&lt;br/&gt;Close all forms]\n    ClearReadAll --&gt; CloseDatabase[CLOSE DATABASE&lt;br/&gt;Close database connections]\n    CloseDatabase --&gt; CloseAllFiles[CLOSE ALL&lt;br/&gt;Close all open files]\n    CloseAllFiles --&gt; ClearEvents[CLEAR EVENTS&lt;br/&gt;Clear event loop&lt;br/&gt;Exit READ EVENT]\n    ClearEvents --&gt; ResetSysMenu[SET SYSMENU TO DEFAULT&lt;br/&gt;Reset system menu]\n    ResetSysMenu --&gt; ClearScreen[_SCREEN.CLS&lt;br/&gt;Clear screen]\n    ClearScreen --&gt; RefreshScreen[_SCREEN.REFRESH&lt;br/&gt;Refresh screen]\n    RefreshScreen --&gt; ExitApp[Application Exits&lt;br/&gt;Program terminates]\n    ExitApp --&gt; EndExit\n\n    EndExit --&gt; End([Process Complete])</code></pre> <p>Code Reference: <code>source/BATMENUS.MPR</code> (lines 445-457)</p>"},{"location":"source/08-security/authentication/#password-handling","title":"Password Handling","text":""},{"location":"source/08-security/authentication/#storage","title":"Storage","text":"<p>Table: <code>user.DBF</code></p> <p>Field: <code>password</code> (likely plain text)</p> <p>Security: No encryption evident in code</p>"},{"location":"source/08-security/authentication/#validation","title":"Validation","text":"<p>Process: 1. User enters password 2. System looks up user in <code>user</code> table 3. Compares entered password with stored password 4. Validates user is active</p>"},{"location":"source/08-security/authentication/#session-management","title":"Session Management","text":""},{"location":"source/08-security/authentication/#session-variables","title":"Session Variables","text":"<p>Set During Login: - <code>M</code> - Authentication status (.T. = authenticated) - <code>User_right</code> - User role (SUPERVISOR/REGULAR_USER) - <code>sysUserId</code> - User ID - <code>w_password</code> - Company password (may be separate)</p> <p>Code Reference: <code>main.prg</code> (lines 3, 9, 26-27)</p>"},{"location":"source/08-security/authentication/#session-duration","title":"Session Duration","text":"<p>Lifetime: Until logout or application close</p> <p>No Timeout: Sessions do not expire automatically</p> <p>Logout: User must explicitly logout</p>"},{"location":"source/08-security/authentication/#session-validation","title":"Session Validation","text":"<p>Check: <code>IF M = .T.</code> before loading menu</p> <p>If Not Authenticated: Application cancels/exits</p> <p>Code Reference: <code>main.prg</code> (line 26)</p>"},{"location":"source/08-security/authentication/#user-identification","title":"User Identification","text":""},{"location":"source/08-security/authentication/#sysuserid","title":"sysUserId","text":"<p>Purpose: Identify current user</p> <p>Usage: - Audit trails (<code>user_id</code>, <code>cre_user</code> fields) - User-specific working directories - Display in screen caption</p> <p>Setting: <pre><code>syswork=\"c:\\\"+alltrim(sysuserid)+\"work\"\n_screen.Caption=_screen.Caption+ \"   \"+alltrim(sysuserid)\n</code></pre></p> <p>Code Reference: <code>main.prg</code> (lines 35, 37)</p>"},{"location":"source/08-security/authentication/#company-context","title":"Company Context","text":""},{"location":"source/08-security/authentication/#company-password","title":"Company Password","text":"<p>Variable: <code>w_password</code></p> <p>Purpose: Determines company context</p> <p>Values: - \"HT\" - Holiday Times - \"BAT\" - Baitin Trading - \"INSP\" - InSpirt Designs - \"HFW\" - Holiday Funworld</p> <p>Setting: May be set during login or hardcoded</p> <p>Code Reference: <code>a.prg</code> (lines 16-32), <code>uoexls_2013.prg</code> (lines 145-147)</p>"},{"location":"source/08-security/authentication/#logout-process","title":"Logout Process","text":""},{"location":"source/08-security/authentication/#logout-function","title":"Logout Function","text":"<p>Menu: LogOut (ALT+L)</p> <p>Process: 1. Confirmation message: \"Logout?\" 2. If confirmed:    - Clear all variables    - Close database    - Close all files    - Reset system menu    - Clear screen    - Return to login (<code>do main</code>)</p> <p>Code Reference: <code>BATMENUS.MPR</code> (lines 416-428)</p>"},{"location":"source/08-security/authentication/#exit-function","title":"Exit Function","text":"<p>Menu: Exit (ALT+E)</p> <p>Process: 1. Confirmation message: \"Quit?\" 2. If confirmed:    - Clear read all    - Close database    - Close all files    - Clear events    - Reset system menu    - Clear screen    - Exit application</p> <p>Code Reference: <code>BATMENUS.MPR</code> (lines 445-457)</p>"},{"location":"source/08-security/authentication/#security-limitations","title":"Security Limitations","text":""},{"location":"source/08-security/authentication/#password-storage","title":"Password Storage","text":"<p>Issue: Passwords likely stored in plain text</p> <p>Risk: Security vulnerability if database accessed</p> <p>Mitigation: Encrypt passwords in modernization</p>"},{"location":"source/08-security/authentication/#no-session-timeout","title":"No Session Timeout","text":"<p>Issue: Sessions last until logout</p> <p>Risk: Unauthorized access if user leaves workstation</p> <p>Mitigation: Implement session timeout</p>"},{"location":"source/08-security/authentication/#no-password-policy","title":"No Password Policy","text":"<p>Issue: No password complexity requirements</p> <p>Risk: Weak passwords</p> <p>Mitigation: Implement password policy</p>"},{"location":"source/08-security/authentication/#no-account-lockout","title":"No Account Lockout","text":"<p>Issue: No lockout after failed attempts</p> <p>Risk: Brute force attacks possible</p> <p>Mitigation: Implement account lockout</p>"},{"location":"source/08-security/authentication/#user-table-structure","title":"User Table Structure","text":""},{"location":"source/08-security/authentication/#inferred-fields","title":"Inferred Fields","text":"<ul> <li><code>user_id</code> - User ID (Primary Key)</li> <li><code>password</code> - Password (plain text)</li> <li><code>user_name</code> - User name</li> <li><code>user_right</code> - User rights (SUPERVISOR/REGULAR_USER)</li> <li><code>active</code> - Active flag (if exists)</li> </ul>"},{"location":"source/08-security/authentication/#user-management","title":"User Management","text":"<p>Form: <code>iuser</code> (Input User Account)</p> <p>Access: SUPERVISOR only</p> <p>Purpose: Create/edit user accounts</p>"},{"location":"source/08-security/authentication/#authentication-code-flow","title":"Authentication Code Flow","text":""},{"location":"source/08-security/authentication/#main-entry-point","title":"Main Entry Point","text":"<pre><code>DO FORM ILOGON\nIF M = .T.    \n    IF Upper(User_right) = \"SUPERVISOR\"\n        DO BATMENUS.MPX         \n    ELSE\n        DO BATMENU.MPX          \n    Endif  \n    Read Event\nELSE\n   Cancel\nENDIF\n</code></pre> <p>Code Reference: <code>main.prg</code> (lines 25-50)</p>"},{"location":"source/08-security/authentication/#summary","title":"Summary","text":"<p>The authentication system uses form-based login with password validation. It sets user roles and company context, but has security limitations including plain text passwords and no session timeout. The system relies on application-level security rather than database-level security.</p>"},{"location":"source/09-technical-details/configuration/","title":"Configuration","text":""},{"location":"source/09-technical-details/configuration/#startup-configuration","title":"Startup Configuration","text":""},{"location":"source/09-technical-details/configuration/#mainprg","title":"main.prg","text":"<p>Purpose: Main application startup script</p> <p>Key Settings: <pre><code>SET TALK OFF\nSET DELETE ON\nSET SAFETY OFF\nSET STATUS BAR OFF\nSET CENTURY ON\nset date mdy\nset path to c:\\batwork\nset exclusive off\nSET ENGINEBEHAVIOR 70\n</code></pre></p> <p>Screen Configuration: <pre><code>_SCREEN.CAPTION=\"Trading Management System - V3.0 July 9, 2025) \"\n_SCREEN.WINDOWSTATE=2\n</code></pre></p> <p>Code Reference: <code>source/main.prg</code></p>"},{"location":"source/09-technical-details/configuration/#aprg","title":"a.prg","text":"<p>Purpose: Development/testing configuration</p> <p>Key Settings: <pre><code>SET ENGINEBEHAVIOR 90\nset date mdy\nset default to d:\\project\\victor\\baitin9\nset path to c:\\batwork, &amp;syswork\n</code></pre></p> <p>Company Configuration: <pre><code>w_password = \"HT\"\nw_co_name = \"HOLIDAY TIMES UNLIMITED INC\"\nw_oe_prefix = \"\"\n\n*w_password = \"INSP\"\n*w_co_name = \"InSpirt Designs\"\n\n*w_password = \"BAT\"\n*w_co_name = \"BAITIN TRADING LIMITED\"\n\n*w_password = \"HFW\"\n*w_co_name = \"HOLIDAY FUNWORLD LIMITED\"\n*w_oe_prefix = \"HFW\"\n</code></pre></p> <p>Code Reference: <code>source/a.prg</code></p>"},{"location":"source/09-technical-details/configuration/#path-settings","title":"PATH Settings","text":""},{"location":"source/09-technical-details/configuration/#working-directories","title":"Working Directories","text":"<p>Shared Directory: - <code>C:\\batwork</code> - Shared working directory - Contains database files, reports, temporary files</p> <p>User Directory: - <code>C:\\&lt;userid&gt;work</code> - Per-user working directory - Created automatically if doesn't exist - Used for user-specific temporary files</p> <p>Configuration: <pre><code>set path to c:\\batwork, &amp;syswork\n</code></pre></p> <p>Code Reference: <code>main.prg</code> (line 19, 43)</p>"},{"location":"source/09-technical-details/configuration/#company-configuration","title":"Company Configuration","text":""},{"location":"source/09-technical-details/configuration/#company-selection","title":"Company Selection","text":"<p>Method: Password-based company selection</p> <p>Variables: - <code>w_password</code> - Company code (HT, BAT, INSP, HFW) - <code>w_co_name</code> - Company name - <code>w_oe_prefix</code> - OE number prefix</p>"},{"location":"source/09-technical-details/configuration/#company-specific-behavior","title":"Company-Specific Behavior","text":"<p>HT (Holiday Times): - OE numbers contain \"/\" - <code>comp_code = \"HT\"</code> set automatically</p> <p>BAT (Baitin Trading): - OE numbers don't contain \"/\" - <code>comp_code = \"BAT\"</code> set automatically</p> <p>INSP (InSpirt Designs): - Adds \"IN-\" prefix to OE numbers - Bypasses OE Control validation - Different date logic</p> <p>HFW (Holiday Funworld): - Uses \"HFW\" prefix for OE numbers - <code>w_oe_prefix = \"HFW\"</code></p> <p>Code Reference: <code>xmoe.prg</code> (lines 50-54), <code>uoexls_2013.prg</code> (lines 145-147, 1337-1341)</p>"},{"location":"source/09-technical-details/configuration/#system-parameters","title":"System Parameters","text":""},{"location":"source/09-technical-details/configuration/#zpara-table","title":"zpara Table","text":"<p>Purpose: System-wide configuration parameters</p> <p>Structure: - <code>para_code</code> - Parameter code (Primary Key) - <code>para_value</code> - Parameter value - <code>para_desp</code> - Parameter description</p> <p>Usage: - System settings - Default values - Configuration options</p>"},{"location":"source/09-technical-details/configuration/#datetime-settings","title":"Date/Time Settings","text":""},{"location":"source/09-technical-details/configuration/#date-format","title":"Date Format","text":"<p>Setting: <code>SET DATE MDY</code> - Format: MM/DD/YYYY - Used throughout system</p>"},{"location":"source/09-technical-details/configuration/#century-display","title":"Century Display","text":"<p>Setting: <code>SET CENTURY ON</code> - Displays 4-digit years - Required for date calculations</p>"},{"location":"source/09-technical-details/configuration/#hour-format","title":"Hour Format","text":"<p>Setting: <code>SET HOUR TO 24</code> - 24-hour time format - Used for time displays</p>"},{"location":"source/09-technical-details/configuration/#engine-behavior","title":"Engine Behavior","text":""},{"location":"source/09-technical-details/configuration/#set-enginebehavior","title":"SET ENGINEBEHAVIOR","text":"<p>Values: - <code>70</code> - Visual FoxPro 7.0 compatibility - <code>90</code> - Visual FoxPro 9.0 features</p> <p>Usage: - <code>main.prg</code> uses <code>70</code> - <code>a.prg</code> uses <code>90</code> (development)</p> <p>Impact: - Affects language features - Compatibility with older code</p>"},{"location":"source/09-technical-details/configuration/#file-access-settings","title":"File Access Settings","text":""},{"location":"source/09-technical-details/configuration/#set-exclusive","title":"SET EXCLUSIVE","text":"<p>Setting: <code>SET EXCLUSIVE OFF</code> - Default: Shared access - Allows multi-user access - Record/file-level locking</p>"},{"location":"source/09-technical-details/configuration/#set-safety","title":"SET SAFETY","text":"<p>Setting: <code>SET SAFETY OFF</code> - No confirmation prompts - Faster operations - Risk of overwriting files</p>"},{"location":"source/09-technical-details/configuration/#set-delete","title":"SET DELETE","text":"<p>Setting: <code>SET DELETE ON</code> - Deleted records hidden - Not physically removed - Can be recovered</p>"},{"location":"source/09-technical-details/configuration/#language-settings","title":"Language Settings","text":""},{"location":"source/09-technical-details/configuration/#w_sys_language","title":"w_sys_language","text":"<p>Variable: <code>w_sys_language = \"E\"</code> - System language: English - May support other languages</p>"},{"location":"source/09-technical-details/configuration/#user-configuration","title":"User Configuration","text":""},{"location":"source/09-technical-details/configuration/#sysuserid","title":"sysUserId","text":"<p>Variable: Set during login - User identification - Used for audit trails - Used for user-specific directories</p>"},{"location":"source/09-technical-details/configuration/#syswork","title":"syswork","text":"<p>Variable: <code>syswork=\"c:\\\"+alltrim(sysuserid)+\"work\"</code> - User-specific working directory - Created automatically - Used for temporary files</p>"},{"location":"source/09-technical-details/configuration/#database-configuration","title":"Database Configuration","text":""},{"location":"source/09-technical-details/configuration/#database-path","title":"Database Path","text":"<p>Setting: Files in <code>C:\\batwork</code> - All DBF files - CDX index files - FPT memo files - FRX report files</p>"},{"location":"source/09-technical-details/configuration/#table-aliases","title":"Table Aliases","text":"<p>Usage: <code>baitin!</code> prefix - Example: <code>baitin!mitem</code> - Specifies database context - Used in multi-database scenarios</p>"},{"location":"source/09-technical-details/configuration/#report-configuration","title":"Report Configuration","text":""},{"location":"source/09-technical-details/configuration/#report-path","title":"Report Path","text":"<p>Location: <code>C:\\batwork\\*.frx</code> - Report files - Report templates - Custom formats</p>"},{"location":"source/09-technical-details/configuration/#excel-integration-configuration","title":"Excel Integration Configuration","text":""},{"location":"source/09-technical-details/configuration/#excel-formats","title":"Excel Formats","text":"<p>Supported Formats: - Excel 97-2003 (.xls) - Excel 2007+ (.xlsx) - CSV files - Custom formats per customer</p>"},{"location":"source/09-technical-details/configuration/#import-paths","title":"Import Paths","text":"<p>Temporary Files: - User working directory - Shared working directory - Excel file processing</p>"},{"location":"source/09-technical-details/configuration/#print-configuration","title":"Print Configuration","text":""},{"location":"source/09-technical-details/configuration/#printer-settings","title":"Printer Settings","text":"<p>Default: System default printer - Can be changed per report - PDF generation supported - Print preview available</p>"},{"location":"source/09-technical-details/configuration/#summary","title":"Summary","text":"<p>The system uses a combination of hardcoded settings in <code>main.prg</code> and <code>a.prg</code>, PATH configuration for file access, company-specific variables for multi-company support, and system parameters in <code>zpara</code> table. Configuration is primarily file-based with some hardcoded values, making it less flexible than modern configuration management approaches.</p>"},{"location":"source/09-technical-details/file-structure/","title":"File Structure","text":""},{"location":"source/09-technical-details/file-structure/#source-code-organization","title":"Source Code Organization","text":""},{"location":"source/09-technical-details/file-structure/#directory-structure","title":"Directory Structure","text":"<pre><code>source/\n\u251c\u2500\u2500 *.prg          # Program files (176+)\n\u251c\u2500\u2500 *.scx          # Form files (195+)\n\u251c\u2500\u2500 *.sct          # Form memo files\n\u251c\u2500\u2500 *.frx          # Report files (116+)\n\u251c\u2500\u2500 *.frt          # Report memo files\n\u251c\u2500\u2500 *.mnx          # Menu files\n\u251c\u2500\u2500 *.mpr          # Compiled menu files\n\u251c\u2500\u2500 *.dbf          # Database tables (186)\n\u251c\u2500\u2500 *.cdx          # Index files\n\u251c\u2500\u2500 *.fpt          # Memo files\n\u251c\u2500\u2500 *.pjx          # Project file\n\u251c\u2500\u2500 *.pjt          # Project memo file\n\u2514\u2500\u2500 VICwork/       # User-specific work directory\n</code></pre>"},{"location":"source/09-technical-details/file-structure/#file-types","title":"File Types","text":""},{"location":"source/09-technical-details/file-structure/#source-code-files","title":"Source Code Files","text":"<p>Programs (.prg): - Business logic - Data processing - Utilities - 176+ files</p> <p>Forms (.scx/.sct): - User interfaces - Form definitions (.scx) - Form code (.sct) - 195+ forms</p> <p>Menus (.mnx/.mpr): - Menu definitions (.mnx) - Compiled menus (.mpr) - 6+ menu files</p> <p>Reports (.frx/.frt): - Report definitions (.frx) - Report code (.frt) - 116+ reports</p>"},{"location":"source/09-technical-details/file-structure/#database-files","title":"Database Files","text":"<p>Tables (.dbf): - Data storage - 186 tables - Fixed-width records</p> <p>Indexes (.cdx): - Compound indexes - One per table - Multiple index tags</p> <p>Memos (.fpt): - Memo field storage - One per table with memos - Variable length</p>"},{"location":"source/09-technical-details/file-structure/#project-files","title":"Project Files","text":"<p>Project (.pjx/.pjt): - <code>baitin.pjx</code> - Project file - <code>BAITIN.PjT</code> - Project memo file - Contains file references</p>"},{"location":"source/09-technical-details/file-structure/#file-locations","title":"File Locations","text":""},{"location":"source/09-technical-details/file-structure/#working-directories","title":"Working Directories","text":"<p>Shared Directory: - <code>C:\\batwork</code> - Shared working directory - Database files - Reports - Temporary files</p> <p>User Directory: - <code>C:\\&lt;userid&gt;work</code> - Per-user directory - User-specific temporary files - User exports</p>"},{"location":"source/09-technical-details/file-structure/#source-directory","title":"Source Directory","text":"<p>Location: <code>source/</code> (relative to project root)</p> <p>Contents: - All source code files - Database files (in production) - Report files - Form files</p>"},{"location":"source/09-technical-details/file-structure/#file-naming-conventions","title":"File Naming Conventions","text":""},{"location":"source/09-technical-details/file-structure/#programs","title":"Programs","text":"<ul> <li>Business Logic: Descriptive names (e.g., <code>uoexls_2013.prg</code>)</li> <li>Utilities: <code>z</code> prefix (e.g., <code>zdoc.prg</code>)</li> <li>Data Import: <code>x</code> prefix (e.g., <code>xitem.prg</code>)</li> <li>Data Export: <code>u</code> prefix for some (e.g., <code>uwalexls.prg</code>)</li> </ul>"},{"location":"source/09-technical-details/file-structure/#forms","title":"Forms","text":"<ul> <li>Input: <code>i</code> prefix (e.g., <code>iitem.scx</code>)</li> <li>Print: <code>p</code> prefix (e.g., <code>pinv@.scx</code>)</li> <li>Enquiry: <code>e</code> prefix (e.g., <code>einvoice.scx</code>)</li> <li>Setup: <code>iset</code> prefix (e.g., <code>isetso.scx</code>)</li> </ul>"},{"location":"source/09-technical-details/file-structure/#tables","title":"Tables","text":"<ul> <li>Master/Transaction: <code>m</code> prefix (e.g., <code>mitem.dbf</code>)</li> <li>Reference: <code>z</code> prefix (e.g., <code>zstdcode.dbf</code>)</li> <li>Work: <code>w</code> prefix (e.g., <code>woexls.dbf</code>)</li> <li>View: <code>v</code> prefix (e.g., <code>voe1.dbf</code>)</li> </ul>"},{"location":"source/09-technical-details/file-structure/#file-sizes","title":"File Sizes","text":""},{"location":"source/09-technical-details/file-structure/#large-files","title":"Large Files","text":"<p>Database Tables: - <code>mso.dbf</code> - 279MB - <code>minvdt.dbf</code> - 123MB - <code>moe.dbf</code> - 102MB - <code>mcontdt.dbf</code> - 47MB</p> <p>Memo Files: - <code>minvdt.FPT</code> - 178MB - <code>mso.FPT</code> - 131MB - <code>mcontdt.FPT</code> - 75MB - <code>morddt.FPT</code> - 77MB</p> <p>Programs: - <code>uoexls_2013.prg</code> - 1,747 lines (largest)</p>"},{"location":"source/09-technical-details/file-structure/#file-relationships","title":"File Relationships","text":""},{"location":"source/09-technical-details/file-structure/#form-to-program","title":"Form to Program","text":"<ul> <li>Forms call programs</li> <li>Programs called via <code>DO</code> command</li> <li>Example: <code>do form iitem</code> calls <code>iitem.scx</code></li> </ul>"},{"location":"source/09-technical-details/file-structure/#program-to-table","title":"Program to Table","text":"<ul> <li>Programs access tables</li> <li>Tables opened via <code>USE</code> command</li> <li>Example: <code>use baitin!mitem in 0</code></li> </ul>"},{"location":"source/09-technical-details/file-structure/#report-to-table","title":"Report to Table","text":"<ul> <li>Reports read from tables</li> <li>Tables specified in report definition</li> <li>Reports generated via <code>REPORT FORM</code> command</li> </ul>"},{"location":"source/09-technical-details/file-structure/#backup-files","title":"Backup Files","text":""},{"location":"source/09-technical-details/file-structure/#backup-naming","title":"Backup Naming","text":"<ul> <li><code>#</code> suffix: Backup versions (e.g., <code>mitem#.dbf</code>)</li> <li>Date suffix: Historical versions (e.g., <code>mconthd_20130315.dbf</code>)</li> <li><code>_\u8907\u88fd</code> suffix: Copy/backup (Chinese, e.g., <code>moe_20230705 - \u8907\u88fd.dbf</code>)</li> </ul>"},{"location":"source/09-technical-details/file-structure/#backup-locations","title":"Backup Locations","text":"<ul> <li>Some backups in <code>source/</code> directory</li> <li>Some in subdirectories (e.g., <code>data_2-12-18/</code>, <code>revised_data_20180503/</code>)</li> </ul>"},{"location":"source/09-technical-details/file-structure/#summary","title":"Summary","text":"<p>The file structure follows Visual FoxPro conventions with programs, forms, reports, and database files organized in the source directory. Files follow naming conventions and are organized by function. Large files (especially database and memo files) require attention for performance and backup.</p>"},{"location":"source/09-technical-details/known-issues/","title":"Known Issues","text":""},{"location":"source/09-technical-details/known-issues/#errors-from-baitinerr","title":"Errors from baitin.ERR","text":""},{"location":"source/09-technical-details/known-issues/#program-errors","title":"Program Errors","text":"<p>pso.prg: - Report TEMP - Undefined - Impact: SO printing may fail if TEMP report missing - Resolution: Ensure TEMP report exists or fix reference</p>"},{"location":"source/09-technical-details/known-issues/#menu-errors","title":"Menu Errors","text":"<p>batmenu.mnx / batmenus.mnx: - Form IPURUNIT - Undefined - Form ISETCONT@@_TEST - Undefined - Form PCONFIRM_PDF - Undefined - Impact: Menu items may not work if forms missing - Resolution: Create missing forms or remove menu items</p>"},{"location":"source/09-technical-details/known-issues/#form-errors","title":"Form Errors","text":"<p>pcontamdrmk.scx: - Unknown MEMOARRAY - Undefined - Impact: Contract amendment form may not work - Resolution: Fix MEMOARRAY reference or use alternative</p> <p>ioe1@_backup.scx: - Form IOE2@ - Undefined - Impact: Backup form references missing form - Resolution: Create IOE2@ form or remove reference</p> <p>pdebitnote.scx: - Report PDEBITNOTE_ND_MS - Undefined - Report PDEBITNOTE_ND - Undefined - Impact: Debit note printing may fail - Resolution: Create missing reports or fix references</p>"},{"location":"source/09-technical-details/known-issues/#visual-class-library-errors","title":"Visual Class Library Errors","text":"<p>common.vcx: - Form ADDCOUNTRY - Undefined - Impact: Common class library incomplete - Resolution: Create missing form or remove reference</p>"},{"location":"source/09-technical-details/known-issues/#missing-formsreports","title":"Missing Forms/Reports","text":""},{"location":"source/09-technical-details/known-issues/#forms-referenced-but-not-found","title":"Forms Referenced but Not Found","text":"<ul> <li><code>ipurunit</code> - Purchase Unit form (referenced in menu)</li> <li><code>isetcont@@_test</code> - Contract test form (referenced in menu)</li> <li><code>pconfirm_pdf</code> - OC PDF form (referenced in menu)</li> <li><code>ioe2@</code> - OE form (referenced by backup)</li> </ul>"},{"location":"source/09-technical-details/known-issues/#reports-referenced-but-not-found","title":"Reports Referenced but Not Found","text":"<ul> <li><code>TEMP</code> - Temporary report (referenced in pso.prg)</li> <li><code>PDEBITNOTE_ND_MS</code> - Debit note report variant</li> <li><code>PDEBITNOTE_ND</code> - Debit note report variant</li> </ul>"},{"location":"source/09-technical-details/known-issues/#undefined-dependencies","title":"Undefined Dependencies","text":""},{"location":"source/09-technical-details/known-issues/#form-dependencies","title":"Form Dependencies","text":"<ul> <li>Some forms reference other forms that may not exist</li> <li>Backup forms reference original forms</li> <li>Test forms may be missing</li> </ul>"},{"location":"source/09-technical-details/known-issues/#report-dependencies","title":"Report Dependencies","text":"<ul> <li>Some programs reference reports that may not exist</li> <li>Report variants may be missing</li> <li>Temporary reports may not be created</li> </ul>"},{"location":"source/09-technical-details/known-issues/#potential-data-integrity-issues","title":"Potential Data Integrity Issues","text":""},{"location":"source/09-technical-details/known-issues/#no-foreign-key-constraints","title":"No Foreign Key Constraints","text":"<ul> <li>Risk: Orphaned records possible</li> <li>Example: Detail records without headers</li> <li>Mitigation: Application-level validation required</li> </ul>"},{"location":"source/09-technical-details/known-issues/#manual-relationships","title":"Manual Relationships","text":"<ul> <li>Risk: Invalid references possible</li> <li>Example: Invalid customer/item codes</li> <li>Mitigation: Validation in code</li> </ul>"},{"location":"source/09-technical-details/known-issues/#no-transactions","title":"No Transactions","text":"<ul> <li>Risk: Partial updates possible</li> <li>Example: Header created but details fail</li> <li>Mitigation: Manual rollback or data recovery</li> </ul>"},{"location":"source/09-technical-details/known-issues/#index-corruption","title":"Index Corruption","text":"<ul> <li>Risk: Slow queries, incorrect results</li> <li>Symptom: \"Index not found\" errors</li> <li>Mitigation: Regular reindexing via <code>zdoc.prg</code></li> </ul>"},{"location":"source/09-technical-details/known-issues/#file-system-issues","title":"File System Issues","text":""},{"location":"source/09-technical-details/known-issues/#large-file-sizes","title":"Large File Sizes","text":"<ul> <li>Issue: Some tables exceed 100MB</li> <li>Impact: Slow performance, backup challenges</li> <li>Tables: <code>mso.dbf</code> (279MB), <code>minvdt.dbf</code> (123MB), <code>moe.dbf</code> (102MB)</li> </ul>"},{"location":"source/09-technical-details/known-issues/#large-memo-files","title":"Large Memo Files","text":"<ul> <li>Issue: Some FPT files exceed 100MB</li> <li>Impact: Slow memo field access</li> <li>Files: <code>minvdt.FPT</code> (178MB), <code>mso.FPT</code> (131MB), <code>mcontdt.FPT</code> (75MB)</li> </ul>"},{"location":"source/09-technical-details/known-issues/#network-file-share-performance","title":"Network File Share Performance","text":"<ul> <li>Issue: Large files on network shares</li> <li>Impact: Slow multi-user access</li> <li>Mitigation: Local caching or file server optimization</li> </ul>"},{"location":"source/09-technical-details/known-issues/#concurrency-issues","title":"Concurrency Issues","text":""},{"location":"source/09-technical-details/known-issues/#file-locking","title":"File Locking","text":"<ul> <li>Issue: Record or file-level locking only</li> <li>Risk: Conflicts in multi-user scenarios</li> <li>Impact: Users may be blocked during operations</li> </ul>"},{"location":"source/09-technical-details/known-issues/#exclusive-access-requirements","title":"Exclusive Access Requirements","text":"<ul> <li>Issue: Some operations require exclusive access</li> <li>Impact: Other users cannot access during reindexing</li> <li>Operations: Reindexing, data conversion, bulk imports</li> </ul>"},{"location":"source/09-technical-details/known-issues/#data-quality-issues","title":"Data Quality Issues","text":""},{"location":"source/09-technical-details/known-issues/#inconsistent-data","title":"Inconsistent Data","text":"<ul> <li>Risk: Data entered incorrectly</li> <li>Example: Invalid dates, negative quantities</li> <li>Mitigation: Validation rules in code</li> </ul>"},{"location":"source/09-technical-details/known-issues/#missing-required-fields","title":"Missing Required Fields","text":"<ul> <li>Risk: Incomplete records</li> <li>Example: Missing customer codes, item numbers</li> <li>Mitigation: Required field validation</li> </ul>"},{"location":"source/09-technical-details/known-issues/#duplicate-records","title":"Duplicate Records","text":"<ul> <li>Risk: Duplicate OE, OC, Invoice numbers</li> <li>Mitigation: Unique key validation (manual)</li> </ul>"},{"location":"source/09-technical-details/known-issues/#performance-issues","title":"Performance Issues","text":""},{"location":"source/09-technical-details/known-issues/#large-table-scans","title":"Large Table Scans","text":"<ul> <li>Issue: Some queries scan large tables</li> <li>Impact: Slow response times</li> <li>Mitigation: Proper indexing, query optimization</li> </ul>"},{"location":"source/09-technical-details/known-issues/#memo-field-searches","title":"Memo Field Searches","text":"<ul> <li>Issue: Memo fields require full table scan</li> <li>Impact: Slow searches on descriptions/remarks</li> <li>Mitigation: Limit memo field searches</li> </ul>"},{"location":"source/09-technical-details/known-issues/#network-latency","title":"Network Latency","text":"<ul> <li>Issue: Network file share access</li> <li>Impact: Slow operations over network</li> <li>Mitigation: Local file access or faster network</li> </ul>"},{"location":"source/09-technical-details/known-issues/#configuration-issues","title":"Configuration Issues","text":""},{"location":"source/09-technical-details/known-issues/#hardcoded-paths","title":"Hardcoded Paths","text":"<ul> <li>Issue: Paths hardcoded in code</li> <li>Example: <code>C:\\batwork</code>, <code>C:\\&lt;userid&gt;work</code></li> <li>Impact: Difficult to relocate</li> <li>Mitigation: Use configuration files</li> </ul>"},{"location":"source/09-technical-details/known-issues/#company-configuration","title":"Company Configuration","text":"<ul> <li>Issue: Company codes hardcoded in <code>a.prg</code></li> <li>Impact: Difficult to add new companies</li> <li>Mitigation: Use configuration table</li> </ul>"},{"location":"source/09-technical-details/known-issues/#security-issues","title":"Security Issues","text":""},{"location":"source/09-technical-details/known-issues/#password-storage","title":"Password Storage","text":"<ul> <li>Issue: Passwords likely stored in plain text</li> <li>Risk: Security vulnerability</li> <li>Mitigation: Encrypt passwords</li> </ul>"},{"location":"source/09-technical-details/known-issues/#no-session-timeout","title":"No Session Timeout","text":"<ul> <li>Issue: Sessions last until logout</li> <li>Risk: Unauthorized access if user leaves</li> <li>Mitigation: Implement session timeout</li> </ul>"},{"location":"source/09-technical-details/known-issues/#limited-audit-logging","title":"Limited Audit Logging","text":"<ul> <li>Issue: Limited activity tracking</li> <li>Risk: Difficult to track changes</li> <li>Mitigation: Enhanced audit logging</li> </ul>"},{"location":"source/09-technical-details/known-issues/#migration-considerations","title":"Migration Considerations","text":""},{"location":"source/09-technical-details/known-issues/#legacy-data","title":"Legacy Data","text":"<ul> <li>Issue: Legacy tables in subdirectories</li> <li>Impact: Data organization unclear</li> <li>Mitigation: Consolidate or archive</li> </ul>"},{"location":"source/09-technical-details/known-issues/#backup-tables","title":"Backup Tables","text":"<ul> <li>Issue: Multiple backup versions</li> <li>Impact: Confusion about current data</li> <li>Mitigation: Archive old backups</li> </ul>"},{"location":"source/09-technical-details/known-issues/#dynamic-table-names","title":"Dynamic Table Names","text":"<ul> <li>Issue: Tables with <code>&amp;</code> prefix (runtime-generated)</li> <li>Impact: Difficult to track</li> <li>Mitigation: Document naming patterns</li> </ul>"},{"location":"source/09-technical-details/known-issues/#summary","title":"Summary","text":"<p>The system has several known issues including missing forms/reports, undefined dependencies, potential data integrity risks, and performance concerns. Most issues are manageable with proper maintenance and validation, but should be addressed during modernization. The lack of foreign key constraints and transaction support are the most significant architectural limitations.</p>"},{"location":"source/09-technical-details/phased-out-modules/","title":"Phased Out Modules","text":""},{"location":"source/09-technical-details/phased-out-modules/#overview","title":"Overview","text":"<p>Based on analysis of the menu structure (<code>BATMENUS.MPR</code>) and system workflow, several modules and features have been phased out and are disabled in the current system. These modules are still present in the codebase but are not accessible through the menu system.</p>"},{"location":"source/09-technical-details/phased-out-modules/#disabled-modules","title":"Disabled Modules","text":""},{"location":"source/09-technical-details/phased-out-modules/#1-document-printing-module-fully-disabled","title":"1. Document Printing Module (Fully Disabled)","text":"<p>Menu Location: Main menu pad \"Document Printing\" (ALT+D)</p> <p>Status: Completely disabled with <code>SKIP FOR .t.</code></p> <p>Sub-modules (contained in popup <code>_1880p3656</code>): - Bank Draft Request (<code>ibdrfreq</code>)   - Input/Print Bank Draft Request   - Related table: <code>mbdrfreq</code></p> <ul> <li>Collection Order (<code>Icolord</code>)</li> <li>Input/Print Collection Order</li> <li> <p>Related table: <code>mcolord</code></p> </li> <li> <p>Shipping Document Requirement (<code>pshipreq</code>)</p> </li> <li>Print Shipping Document Requirement</li> </ul> <p>Reason for Phase-out: These banking and payment document printing functions appear to be legacy features that are no longer part of the core trading workflow. The current workflow focuses on: - Order Enquiry \u2192 Order Confirmation \u2192 Contract \u2192 Shipping Order \u2192 Delivery Note \u2192 Invoice</p> <p>The banking document printing module was likely used for payment processing and letter of credit documentation, which may have been replaced by external systems or manual processes.</p>"},{"location":"source/09-technical-details/phased-out-modules/#disabled-features-within-active-modules","title":"Disabled Features Within Active Modules","text":""},{"location":"source/09-technical-details/phased-out-modules/#2-order-enquiry-module-disabled-features","title":"2. Order Enquiry Module - Disabled Features","text":"<p>Change PO No. (Not in Use) - Menu Location: Order Enquiry \u2192 \"Change PO No. (Not in Use)\" - Status: Disabled with <code>SKIP FOR .t.</code> - Form: <code>ichangepo</code> - Purpose: Was used to change Purchase Order numbers in existing orders - Reason: Likely replaced by other order management processes or no longer needed</p>"},{"location":"source/09-technical-details/phased-out-modules/#3-file-management-module-disabled-item-import-features","title":"3. File Management Module - Disabled Item Import Features","text":"<p>Several item import functions are disabled:</p> <p>Import Item (<code>uimport_item</code>) - Status: Disabled with <code>SKIP FOR .t.</code> - Purpose: Bulk import of items from external sources</p> <p>Import HTS (<code>uimport_HTS</code>) - Status: Disabled with <code>SKIP FOR .t.</code> - Purpose: Import Harmonized Tariff Schedule codes for items</p> <p>Import UPC (<code>uimport_upc</code>) - Status: Disabled with <code>SKIP FOR .t.</code> - Purpose: Import Universal Product Codes for items</p> <p>Import License Item From XLS (<code>ilicense</code>) - Status: Disabled with <code>SKIP FOR .t.</code> - Purpose: Import licensed items from Excel files</p> <p>Reason for Phase-out: These import functions may have been replaced by: - Manual data entry through the main \"Input Item\" form (<code>iitem</code>) - Different import processes - External data integration systems - Or the need for these bulk imports diminished over time</p>"},{"location":"source/09-technical-details/phased-out-modules/#related-tables-potentially-unused","title":"Related Tables (Potentially Unused)","text":"<p>Based on the phased-out modules, the following tables may be less frequently used or phased out:</p>"},{"location":"source/09-technical-details/phased-out-modules/#bankingpayment-tables","title":"Banking/Payment Tables","text":"<ul> <li><code>mbdrfreq</code> - Bank Draft Request (used by disabled Document Printing module)</li> <li><code>mcolord</code> - Collection Order (used by disabled Document Printing module)</li> <li><code>mbankin</code> - Bank Information (may still be used for reference)</li> <li><code>mpayhd</code> - Payment Header (may still be used in Delivery Report module)</li> </ul>"},{"location":"source/09-technical-details/phased-out-modules/#legacybackup-tables","title":"Legacy/Backup Tables","text":"<ul> <li><code>loe</code> - Legacy Order Enquiry (marked as legacy in table inventory)</li> <li>Various backup tables with <code>#</code> suffix or date suffixes</li> </ul>"},{"location":"source/09-technical-details/phased-out-modules/#current-active-workflow","title":"Current Active Workflow","text":"<p>The current system workflow focuses on these core modules:</p> <pre><code>File Management (Master Data)\n  \u2193\nOrder Enquiry (OE)\n  \u2193\nOrder Confirmation (OC)\n  \u2193\nContract\n  \u2193\nShipping Order (SO)\n  \u2193\nDelivery Note (DN)\n  \u2193\nInvoice\n</code></pre> <p>Supporting Modules: - Delivery Report (tracking and payment status) - Enquiry (data analysis) - Report (business reports) - Acrobat File (PDF generation)</p>"},{"location":"source/09-technical-details/phased-out-modules/#impact-analysis","title":"Impact Analysis","text":""},{"location":"source/09-technical-details/phased-out-modules/#code-still-present","title":"Code Still Present","text":"<ul> <li>Forms and programs for phased-out modules still exist in the source code</li> <li>Tables for banking documents (<code>mbdrfreq</code>, <code>mcolord</code>) still exist</li> <li>Import programs still exist but are disabled</li> </ul>"},{"location":"source/09-technical-details/phased-out-modules/#menu-structure","title":"Menu Structure","text":"<ul> <li>Disabled items are hidden from users via <code>SKIP FOR .t.</code> condition</li> <li>Menu structure still references these items but they are not accessible</li> </ul>"},{"location":"source/09-technical-details/phased-out-modules/#data-integrity","title":"Data Integrity","text":"<ul> <li>Historical data in phased-out tables may still exist</li> <li>No automatic cleanup of old banking document records</li> <li>Legacy import data may still be in the database</li> </ul>"},{"location":"source/09-technical-details/phased-out-modules/#recommendations","title":"Recommendations","text":"<ol> <li>Documentation: Keep this documentation for reference during modernization</li> <li>Data Migration: If modernizing, decide whether to migrate historical banking document data</li> <li>Code Cleanup: Consider removing disabled menu items and unused forms during refactoring</li> <li>Table Cleanup: Evaluate whether phased-out tables can be archived or removed</li> </ol>"},{"location":"source/09-technical-details/phased-out-modules/#summary","title":"Summary","text":"<p>Fully Phased Out Modules: 1. Document Printing Module (Banking/Payment documents)</p> <p>Partially Phased Out Features: 1. Change PO No. function in Order Enquiry 2. Multiple Item Import functions in File Management</p> <p>These phased-out modules represent approximately 1 full module and 5 individual features that are no longer part of the active trading workflow.</p>"}]}